!function(){var e={802:function(){(function(){"use strict";if("undefined"==typeof window)return;function e(){}function t(e,t){for(const i in t)e[i]=t[i];return e}function i(e){return e()}function n(){return Object.create(null)}function s(e){e.forEach(i)}function o(e){return"function"==typeof e}function r(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}function a(e){return 0===Object.keys(e).length}function l(t,i,n){t.$$.on_destroy.push(function(t,...i){if(null==t)return e;const n=t.subscribe(...i);return n.unsubscribe?()=>n.unsubscribe():n}(i,n))}function d(e,t,i,n){if(e){const s=c(e,t,i,n);return e[0](s)}}function c(e,i,n,s){return e[1]&&s?t(n.ctx.slice(),e[1](s(i))):n.ctx}function u(e,t,i,n){if(e[2]&&n){const s=e[2](n(i));if(void 0===t.dirty)return s;if("object"==typeof s){const e=[],i=Math.max(t.dirty.length,s.length);for(let n=0;n<i;n+=1)e[n]=t.dirty[n]|s[n];return e}return t.dirty|s}return t.dirty}function h(e,t,i,n,s,o){if(s){const r=c(t,i,n,o);e.p(r,s)}}function _(e){if(e.ctx.length>32){const t=[],i=e.ctx.length/32;for(let e=0;e<i;e++)t[e]=-1;return t}return-1}function p(e){const t={};for(const i in e)"$"!==i[0]&&(t[i]=e[i]);return t}function m(e){return null==e?"":e}function f(e,t,i){return e.set(i),t}function g(e,t){e.appendChild(t)}function v(e,t,i){const n=function(e){if(!e)return document;const t=e.getRootNode?e.getRootNode():e.ownerDocument;return t&&t.host?t:e.ownerDocument}(e);if(!n.getElementById(t)){const e=y("style");e.id=t,e.textContent=i,function(e,t){g(e.head||e,t),t.sheet}(n,e)}}function $(e,t,i){e.insertBefore(t,i||null)}function w(e){e.parentNode&&e.parentNode.removeChild(e)}function b(e,t){for(let i=0;i<e.length;i+=1)e[i]&&e[i].d(t)}function y(e){return document.createElement(e)}function x(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function C(e){return document.createTextNode(e)}function E(){return C(" ")}function k(){return C("")}function T(e,t,i,n){return e.addEventListener(t,i,n),()=>e.removeEventListener(t,i,n)}function L(e,t,i){null==i?e.removeAttribute(t):e.getAttribute(t)!==i&&e.setAttribute(t,i)}function P(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}function q(e,t,i,n){null===i?e.style.removeProperty(t):e.style.setProperty(t,i,n?"important":"")}function S(e,t,i){e.classList[i?"add":"remove"](t)}function M(e){const t={};for(const i of e)t[i.name]=i.value;return t}function B(e){const t={};return e.childNodes.forEach((e=>{t[e.slot||"default"]=!0})),t}let R;function V(e){R=e}function D(){if(!R)throw new Error("Function called outside component initialization");return R}function j(e){D().$$.on_mount.push(e)}function N(){const e=D();return(t,i,{cancelable:n=!1}={})=>{const s=e.$$.callbacks[t];if(s){const o=function(e,t,{bubbles:i=!1,cancelable:n=!1}={}){const s=document.createEvent("CustomEvent");return s.initCustomEvent(e,i,n,t),s}(t,i,{cancelable:n});return s.slice().forEach((t=>{t.call(e,o)})),!o.defaultPrevented}return!0}}const O=[],U=[],I=[],A=[],H=Promise.resolve();let z=!1;function F(e){I.push(e)}const W=new Set;let Z=0;function K(){if(0!==Z)return;const e=R;do{try{for(;Z<O.length;){const e=O[Z];Z++,V(e),X(e.$$)}}catch(e){throw O.length=0,Z=0,e}for(V(null),O.length=0,Z=0;U.length;)U.pop()();for(let e=0;e<I.length;e+=1){const t=I[e];W.has(t)||(W.add(t),t())}I.length=0}while(O.length);for(;A.length;)A.pop()();z=!1,W.clear(),V(e)}function X(e){if(null!==e.fragment){e.update(),s(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(F)}}const G=new Set;let Y,J;function Q(){Y={r:0,c:[],p:Y}}function ee(){Y.r||s(Y.c),Y=Y.p}function te(e,t){e&&e.i&&(G.delete(e),e.i(t))}function ie(e,t,i,n){if(e&&e.o){if(G.has(e))return;G.add(e),Y.c.push((()=>{G.delete(e),n&&(i&&e.d(1),n())})),e.o(t)}else n&&n()}function ne(e,t){ie(e,1,1,(()=>{t.delete(e.key)}))}function se(e,t,i,n,s,o,r,a,l,d,c,u){let h=e.length,_=o.length,p=h;const m={};for(;p--;)m[e[p].key]=p;const f=[],g=new Map,v=new Map;for(p=_;p--;){const e=u(s,o,p),a=i(e);let l=r.get(a);l?n&&l.p(e,t):(l=d(a,e),l.c()),g.set(a,f[p]=l),a in m&&v.set(a,Math.abs(p-m[a]))}const $=new Set,w=new Set;function b(e){te(e,1),e.m(a,c),r.set(e.key,e),c=e.first,_--}for(;h&&_;){const t=f[_-1],i=e[h-1],n=t.key,s=i.key;t===i?(c=t.first,h--,_--):g.has(s)?!r.has(n)||$.has(n)?b(t):w.has(s)?h--:v.get(n)>v.get(s)?(w.add(n),b(t)):($.add(s),h--):(l(i,r),h--)}for(;h--;){const t=e[h];g.has(t.key)||l(t,r)}for(;_;)b(f[_-1]);return f}function oe(e){e&&e.c()}function re(e,t,n,r){const{fragment:a,after_update:l}=e.$$;a&&a.m(t,n),r||F((()=>{const t=e.$$.on_mount.map(i).filter(o);e.$$.on_destroy?e.$$.on_destroy.push(...t):s(t),e.$$.on_mount=[]})),l.forEach(F)}function ae(e,t){const i=e.$$;null!==i.fragment&&(s(i.on_destroy),i.fragment&&i.fragment.d(t),i.on_destroy=i.fragment=null,i.ctx=[])}function le(t,i,o,r,a,l,d,c=[-1]){const u=R;V(t);const h=t.$$={fragment:null,ctx:[],props:l,update:e,not_equal:a,bound:n(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(i.context||(u?u.$$.context:[])),callbacks:n(),dirty:c,skip_bound:!1,root:i.target||u.$$.root};d&&d(h.root);let _=!1;if(h.ctx=o?o(t,i.props||{},((e,i,...n)=>{const s=n.length?n[0]:i;return h.ctx&&a(h.ctx[e],h.ctx[e]=s)&&(!h.skip_bound&&h.bound[e]&&h.bound[e](s),_&&function(e,t){-1===e.$$.dirty[0]&&(O.push(e),z||(z=!0,H.then(K)),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}(t,e)),i})):[],h.update(),_=!0,s(h.before_update),h.fragment=!!r&&r(h.ctx),i.target){if(i.hydrate){const e=function(e){return Array.from(e.childNodes)}(i.target);h.fragment&&h.fragment.l(e),e.forEach(w)}else h.fragment&&h.fragment.c();i.intro&&te(t.$$.fragment),re(t,i.target,i.anchor,i.customElement),K()}V(u)}"function"==typeof HTMLElement&&(J=class extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"})}connectedCallback(){const{on_mount:e}=this.$$;this.$$.on_disconnect=e.map(i).filter(o);for(const t in this.$$.slotted)this.appendChild(this.$$.slotted[t])}attributeChangedCallback(e,t,i){this[e]=i}disconnectedCallback(){s(this.$$.on_disconnect)}$destroy(){ae(this,1),this.$destroy=e}$on(t,i){if(!o(i))return e;const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(i),()=>{const e=n.indexOf(i);-1!==e&&n.splice(e,1)}}$set(e){this.$$set&&!a(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}});class de{$destroy(){ae(this,1),this.$destroy=e}$on(t,i){if(!o(i))return e;const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(i),()=>{const e=n.indexOf(i);-1!==e&&n.splice(e,1)}}$set(e){this.$$set&&!a(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}var ce,ue,he,_e,pe,me,fe,ge;function ve(e){return{all:e=e||new Map,on(t,i){const n=e?.get(t);n?n.push(i):e?.set(t,[i])},off(t,i){const n=e?.get(t);n&&(i?n.splice(n.indexOf(i)>>>0,1):e?.set(t,[]))},emit(t,i){let n=e?.get(t);n&&n.slice().forEach((e=>{e(i)})),n=e?.get("*"),n&&n.slice().forEach((e=>{e(t,i)}))}}}!function(e){e.Play="play",e.Pause="pause",e.DurationChange="durationChange",e.LoadingStateChange="loadingStateChange",e.VolumeChange="volumeChange",e.TimeUpdate="timeUpdate",e.BufferedUpdate="bufferedUpdate",e.PlaybackRateChange="playbackRateChange",e.Ended="ended",e.ViewStart="viewStart",e.ViewFinish="viewFinish",e.Rewind="rewind",e.LoadedMetadata="loadedMetadata",e.Error="error",e.LoadStart="loadStart",e.CanPlayTrough="canPlayThrough",e.ShowUi="showUi",e.HideUi="hideUi"}(ce||(ce={})),function(e){e.VideoTap="videoTap",e.EpisodeReached="episodeReached",e.FullScreenStateChange="fullScreenStateChange",e.ToggleVolume="toggleVolume",e.ChangeVolume="changeVolume",e.PlayerInit="playerInit",e.BackToLive="backToLive",e.VideoClick="videoClick"}(ue||(ue={})),function(e){e[e.HaveNothing=0]="HaveNothing",e[e.HaveMetadata=1]="HaveMetadata",e[e.HaveCurrentData=2]="HaveCurrentData",e[e.HaveFutureData=3]="HaveFutureData",e[e.HaveEnoughData=4]="HaveEnoughData"}(he||(he={})),function(e){e.PauseVideo="Pause video",e.EndVideo="End video",e.ChangeSource="Change source",e.ClosePip="Close Pip",e.CloseBrowserTab="Close browser tab",e.EndStream="End stream",e.DestroyComponent="Destroy component"}(_e||(_e={})),function(e){e.StartupTime="STARTUP_TIME",e.StallCount="STALL_COUNT",e.StallDuration="STALL_DURATION",e.StallWaitRatio="STALL_WAIT_RATIO",e.StallRate="STALL_RATE",e.ErrorsCount="ERRORS_COUNT",e.ViewTime="VIEW_TIME",e.TimeWeighedBitrate="TIME_WEIGHED_BITRATE",e.EwmaBandwidth="EWMA_BANDWIDTH"}(pe||(pe={})),function(e){e.Play="player.play"}(me||(me={})),function(e){e.HLS="hls",e.MP4="mp4",e.DASH="mpd"}(fe||(fe={})),function(e){e.MediaAttach="mediaAttach",e.Error="error",e.Recover="recover",e.LevelUpdated="levelUpdated",e.LevelSwitching="levelSwitching",e.ManifestParsed="manifestParsed",e.ManifestUpdated="manifestUpdated"}(ge||(ge={}));class $e{_emitter=ve();_source;_loop=!1;_startTime=void 0;_waitCanPlayThroughEvent=!1;_firstCanPlayThroughtEvent=!1;_currentTimeOnLastTimeUpdate=0;_onTimeUpdateTimeout=null;_viewDurationInterval=null;_seekingFrom=0;_prevVolume=1;_rewinding=!1;_levelsSwitched=[];_perfStallCount=0;_perfPrevStallDate=null;_perfStallDuration=0;_perfStartLoadSourceDate=null;_perfStartupTime=void 0;_perfErrorsCount=0;_perfViewTime=0;getTimeWeighedBitrate(e,t,i){if(e<=0||t<=0||e>t)return 0;const n=+e/t*+(i/1024/1024).toFixed(2);return!n||isNaN(n)?0:n}get _perfTimeWeighedBitrate(){let e=0;const t=this._perfViewTime;if(t>0)for(let i=0;i<this._levelsSwitched.length;i++){const n=this._levelsSwitched[i],s=(this._levelsSwitched?.[i+1]?.startWatched||t)-n.startWatched;s>0&&(e+=this.getTimeWeighedBitrate(s,t,n.bitrate))}return+e.toFixed(2)}get _perfBandwidthEstimate(){return this._source?this._source.getBandwidthEstimate():null}get isMediaNative(){return this._source?.isMediaNative}_videoElementEvents={play:this._onPlay.bind(this),pause:this._onPause.bind(this),durationchange:this._onDurationChange.bind(this),loadedmetadata:this._onLoadedmetadata.bind(this),waiting:this._onWaiting.bind(this),canplaythrough:this._canPlayThrough.bind(this),volumechange:this._onVolumeChange.bind(this),timeupdate:this._onTimeUpdate.bind(this),progress:this._onProgress.bind(this),ratechange:this._onRateChange.bind(this),ended:this._onEnded.bind(this),seeking:this._onSeeking.bind(this),seeked:this._onSeeked.bind(this),loadstart:this._onLoadStart.bind(this),error:this._onError.bind(this)};videoElement=null;playing=!1;loading=!1;duration=0;viewDuration=0;buffered=0;get currentTime(){return this.videoElement.currentTime}set currentTime(e){isFinite(e)&&(this.videoElement.currentTime=Number(e))}get playbackRate(){return this.videoElement.playbackRate}set playbackRate(e){this.videoElement.playbackRate=e}get muted(){return this.videoElement.muted}set muted(e){this.videoElement.muted!==e&&(e?(this._prevVolume=this.videoElement.volume,this.videoElement.volume=0):this.videoElement.volume=this._prevVolume||1,this.videoElement.muted=e)}get volume(){return this.videoElement.volume}set volume(e){this.videoElement.muted=0===e,this.videoElement.volume=e}constructor(e,t){this.videoElement=e,this._startTime=t.startTime,this._loop=t.loop,this._configureVideoElement(t),this._addVideoElementEventListeners()}_emit(e,t){this._emitter.emit(e,t)}_clearAllEventListeners(){this._emitter.all.clear()}_configureVideoElement(e){const t=e.initialVolume||1;this.videoElement.muted=e.initialMuted||!1,this.videoElement.controls=e.showNativeControls||!1,this.videoElement.playsInline=!0,this.videoElement.disablePictureInPicture=!0,this.videoElement.muted?(this._prevVolume=t,e.showNativeControls||(this.videoElement.volume=0)):this.videoElement.volume=t}_onPlay(){this.playing=!0,this._emit(`m-${ce.Play}`),this.videoElement.readyState===he.HaveEnoughData?(this._emit(`m-${ce.ViewStart}`,{number:Math.round(this.currentTime)}),this._startViewDurationInterval()):this._waitCanPlayThroughEvent=!0}_onPause(){this.playing=!1,this._emit(`m-${ce.Pause}`);const e=this.videoElement.ended?_e.EndVideo:_e.PauseVideo;this._emit(`m-${ce.ViewFinish}`,{number:Math.round(this.viewDuration),status:e}),this._clearViewDurationInterval()}_onEnded(){this._emit(`m-${ce.Ended}`),this._loop&&this.play()}_onLoadStart(){this._emit(`m-${ce.LoadStart}`)}_onError(e){this._emit(`m-${ce.Error}`,e)}_onLoadedmetadata(){this._emit(`m-${ce.LoadedMetadata}`),void 0!==this._startTime&&(this.currentTime=this._startTime),this._onDurationChange()}_onDurationChange(){isNaN(this.videoElement.duration)||(this.duration=this.videoElement.duration,this._emit(`m-${ce.DurationChange}`,this.duration))}_onSeeking(){this._rewinding&&(this._seekingFrom=this._currentTimeOnLastTimeUpdate)}_onSeeked(){this._rewinding&&(this._emit(`m-${ce.Rewind}`,{videoTimescaleFrom:Math.round(this._seekingFrom),videoTimescaleTo:Math.round(this.currentTime)}),this._seekingFrom=null,this._rewinding=!1)}_onVolumeChange(){this._emit(`m-${ce.VolumeChange}`,{muted:this.muted,volume:this.volume})}_onWaiting(){!this._firstCanPlayThroughtEvent||this._rewinding||this._perfPrevStallDate||(this._perfStallCount++,this._perfPrevStallDate=Date.now()),this.loading=!0,this._emit(`m-${ce.LoadingStateChange}`,!0)}_canPlayThrough(){this._firstCanPlayThroughtEvent||(this._firstCanPlayThroughtEvent=!0,this._emit(`m-${ce.CanPlayTrough}`)),this.loading=!1,this._perfPrevStallDate&&(this._perfStallDuration=this._perfStallDuration+(Date.now()-this._perfPrevStallDate)/1e3,this._perfPrevStallDate=null),this._perfStartLoadSourceDate&&(this._perfStartupTime=(Date.now()-this._perfStartLoadSourceDate)/1e3,this._perfStartLoadSourceDate=null),this._emit(`m-${ce.LoadingStateChange}`,!1),this._waitCanPlayThroughEvent&&(this.playing&&(this._emit(`m-${ce.ViewStart}`,{number:Math.round(this.currentTime)}),this._startViewDurationInterval()),this._waitCanPlayThroughEvent=!1)}_onTimeUpdate(){this._onTimeUpdateTimeout=setTimeout((()=>{this.videoElement&&(this._currentTimeOnLastTimeUpdate=this.currentTime)}),50),this._emit(`m-${ce.TimeUpdate}`,this.currentTime)}_onProgress(){try{this.duration>0&&this.videoElement.buffered.length>0&&(this.buffered=this.videoElement.buffered.end(this.videoElement.buffered.length-1),this._emit(`m-${ce.BufferedUpdate}`,this.buffered))}catch(e){return null}}_onRateChange(){this._emit(`m-${ce.PlaybackRateChange}`,this.playbackRate)}_startViewDurationInterval(){this.viewDuration=0,this._viewDurationInterval=setInterval((()=>{this.loading||(this.viewDuration++,this._perfViewTime++)}),1e3)}_clearViewDurationInterval(){clearInterval(this._viewDurationInterval),this.viewDuration=0}_addEventSourceListeners(){this._source.on(`m-${ge.MediaAttach}`,(()=>{this._perfStartLoadSourceDate=Date.now(),this._emit(`m-${ge.MediaAttach}`)})),this._source.on(`m-${ge.ManifestParsed}`,(e=>{this._emit(`m-${ge.ManifestParsed}`,e)})),this._source.on(`m-${ge.Error}`,(e=>{e.trackPerf&&this._perfErrorsCount++,this._emit(`m-${ge.Error}`,e)})),this._source.on(`m-${ge.Recover}`,(()=>{this._emit(`m-${ge.Recover}`)})),this._source.on(`m-${ge.LevelUpdated}`,(e=>{this._emit(`m-${ge.LevelUpdated}`,e)})),this._source.on(`m-${ge.ManifestUpdated}`,(e=>{this._emit(`m-${ge.ManifestUpdated}`,e)})),this._source.on(`m-${ge.LevelSwitching}`,(e=>{const t={bitrate:e.data.bitrate,startWatched:this._perfViewTime};this._levelsSwitched.push(t),this._emit(`m-${ge.LevelSwitching}`,e)}))}_addVideoElementEventListeners(){Object.entries(this._videoElementEvents).forEach((([e,t])=>{this.videoElement.addEventListener(e,t)}))}_removeVideoElementListeners(){Object.entries(this._videoElementEvents).forEach((([e,t])=>{this.videoElement.removeEventListener(e,t)}))}_onChangeSource(){this.playing&&this._emit(`m-${ce.ViewFinish}`,{number:Math.round(this.viewDuration),status:_e.ChangeSource})}changeLevel(e){this._source.changeLevel(e)}resetSource(){this._source&&this._onChangeSource(),this._destroySource(),this._resetPlayerState(),this._emit(`m-${ce.DurationChange}`,this.duration),this._source=null}_resetPlayerState(){this.loading=!1,this.duration=0,this.playing=!1,this._waitCanPlayThroughEvent=!1,this._firstCanPlayThroughtEvent=!1,this._currentTimeOnLastTimeUpdate=0,clearTimeout(this._onTimeUpdateTimeout),this._onTimeUpdateTimeout=null,this._seekingFrom=0,this._prevVolume=1,this.buffered=0,this._rewinding=!1,this._clearViewDurationInterval(),this._perfStallCount=0,this._perfPrevStallDate=null,this._perfStallDuration=0,this._perfStartLoadSourceDate=null,this._perfStartupTime=void 0,this._perfErrorsCount=0,this._perfViewTime=0,this._levelsSwitched=[]}_destroySource(){this._source&&this._source.destroy()}getPerformanceInfo(){return{metrics:{[pe.StartupTime]:this._perfStartupTime,[pe.StallCount]:this._perfStallCount,[pe.StallDuration]:this._perfStallDuration,[pe.StallWaitRatio]:this._perfStallDuration/this._perfViewTime,[pe.StallRate]:this._perfStallCount/this._perfViewTime,[pe.ErrorsCount]:this._perfErrorsCount,[pe.ViewTime]:this._perfViewTime,[pe.TimeWeighedBitrate]:this._perfTimeWeighedBitrate,[pe.EwmaBandwidth]:this._perfBandwidthEstimate}}}on(e,t){this._emitter.on(e,t)}off(e,t){this._emitter.off(e,t)}async play(){await this.videoElement.play().then().catch((()=>({})))}pause(){this.videoElement.pause()}rewind(e){this._rewinding=!0,this.currentTime=e}loadSource(e){this._source&&this._onChangeSource(),this._destroySource(),this._resetPlayerState(),this._source=e,this._addEventSourceListeners(),this._source.attach(this.videoElement)}recoverSource(){this._source.recover()}destroy(){this._destroySource(),this._removeVideoElementListeners(),this._clearAllEventListeners(),this._clearViewDurationInterval(),clearTimeout(this._onTimeUpdateTimeout),this.videoElement=null}}const we=[];function be(t,i=e){let n;const s=new Set;function o(e){if(r(t,e)&&(t=e,n)){const e=!we.length;for(const i of s)i[1](),we.push(i,t);if(e){for(let e=0;e<we.length;e+=2)we[e][0](we[e+1]);we.length=0}}}return{set:o,update:function(e){o(e(t))},subscribe:function(r,a=e){const l=[r,a];return s.add(l),1===s.size&&(n=i(o)||e),r(t),()=>{s.delete(l),0===s.size&&(n(),n=null)}}}}class ye{isPlayerObjectAttached=be(!1);playing=be(!1);playingValue=!1;duration=be(0);durationValue=0;currentTime=be(0);buffered=be(0);playbackRate=be(1);levels=be([]);activeLevel=be(0);autoLevel=be(!0);isFetchedLevelInfo=be(!1);notStarted=be(!1);ended=be(!1);prevPlayingState=be(!1);prevPlayingStateValue=!1;isMounted=be(!1);volumeValue=0;volume=be(this.volumeValue);muted=be(!1);mutedValue=!1;player;mediaRef;dispatch;dispatchExternal;id=0;tryPlayed=!1;constructor({id:e,initialVolume:t,initialMuted:i,mediaRef:n,loop:s,startTime:o,dispatch:r,dispatchExternal:a}){this.id=e,this.volume.update((()=>t)),this.muted.update((()=>i)),this.mediaRef=n,this.dispatch=r,this.dispatchExternal=a,this.player=new $e(n,{initialMuted:i,initialVolume:t,startTime:o,loop:s}),this.isPlayerObjectAttached.update((()=>!0)),this.duration.subscribe((e=>{this.durationValue=e})),this.playing.subscribe((e=>{this.playingValue=e})),this.prevPlayingState.subscribe((e=>{this.prevPlayingStateValue=e})),this.muted.subscribe((e=>{this.mutedValue=e})),this.volume.subscribe((e=>{this.volumeValue=e}))}addGlobalPlayerBusEventListeners(){document.addEventListener(me.Play,this.onPlayerBusPlay)}removeGlobalPlayerBusEventListeners(){document.removeEventListener(me.Play,this.onPlayerBusPlay)}onPlayerBusPlay=e=>{e.detail?.id!==this.id&&this.player?.pause()};async play(){this.tryPlayed=!0;try{await(this.player?.play())}catch(e){}}setPlayerState(){this.muted.update((()=>this.player.muted)),this.volume.update((()=>this.player.volume)),this.playing.update((()=>this.player.playing)),this.duration.update((()=>this.player.duration)),this.buffered.update((()=>this.player.buffered)),this.currentTime.update((()=>this.player.currentTime)),this.playbackRate.update((()=>this.player.playbackRate)),this.isFetchedLevelInfo.update((()=>this.player.isMediaNative))}addPlayerEventListeners(e=!1){const t={[`m-${ce.Play}`]:()=>{this.notStarted.update((()=>!1)),this.playing.update((()=>!0)),this.ended.update((()=>!1)),this.dispatchExternal(ce.Play),this.dispatchExternal(me.Play,{id:this.id})},[`m-${ce.Pause}`]:()=>{this.playing.update((()=>!1)),this.dispatchExternal(ce.Pause)},[`m-${ce.DurationChange}`]:e=>{e!==this.durationValue&&(this.duration.update((()=>e)),this.dispatchExternal(ce.DurationChange,{duration:e}))},[`m-${ce.VolumeChange}`]:({volume:e,muted:t})=>{t!==this.mutedValue&&(this.muted.update((()=>t)),this.dispatchExternal(ue.ToggleVolume,{enabled:!t})),e!==this.volumeValue&&(this.volume.update((()=>e)),this.dispatchExternal(ce.VolumeChange,{volume:e}))},[`m-${ce.TimeUpdate}`]:e=>{this.currentTime.update((()=>e)),this.dispatchExternal(ce.TimeUpdate,{currentTime:e})},[`m-${ce.BufferedUpdate}`]:e=>{this.buffered.update((()=>e)),this.dispatchExternal(ce.BufferedUpdate,{buffered:e})},[`m-${ce.PlaybackRateChange}`]:e=>{this.playbackRate.update((()=>e)),this.dispatchExternal(ce.PlaybackRateChange,e)},[`m-${ce.Ended}`]:()=>{this.ended.update((()=>!0)),this.dispatchExternal(ce.Ended)},[`m-${ce.Rewind}`]:e=>{this.dispatchExternal(ce.Rewind,e)},[`m-${ce.ViewStart}`]:()=>{this.dispatchExternal(ce.ViewStart)},[`m-${ce.ViewFinish}`]:()=>{this.dispatchExternal(ce.ViewFinish)},[`m-${ce.LoadedMetadata}`]:()=>{this.dispatchExternal(ce.LoadedMetadata)},[`m-${ce.CanPlayTrough}`]:()=>{this.dispatchExternal(ce.CanPlayTrough)},[`m-${ce.LoadStart}`]:()=>{this.dispatchExternal(ce.LoadStart)},[`m-${ce.Error}`]:e=>{this.dispatchExternal(ce.Error,e)},[`m-${ce.LoadingStateChange}`]:e=>{this.dispatchExternal(ce.LoadingStateChange,{isLoading:e})},[`m-${ge.ManifestParsed}`]:({data:e})=>{const t=e.levels;this.levels.update((()=>t.map(((e,t)=>({...e,realIndex:t}))).sort(((e,t)=>e.height-t.height)))),this.dispatchExternal(ge.ManifestParsed)},[`m-${ge.LevelUpdated}`]:({data:e})=>{this.isFetchedLevelInfo.update((()=>!0)),this.dispatchExternal(ge.LevelUpdated,e)},[`m-${ge.LevelSwitching}`]:({data:e})=>{this.activeLevel.update((()=>e?.level)),this.dispatchExternal(ge.LevelSwitching,e)},[`m-${ge.MediaAttach}`]:()=>{this.notStarted.update((()=>!0)),e&&this.play(),this.dispatchExternal(ge.MediaAttach)},[`m-${ge.Error}`]:e=>{this.dispatchExternal(ge.Error,e)},[`m-${ge.ManifestUpdated}`]:e=>{this.dispatchExternal(ge.ManifestUpdated,e)}};Object.entries(t).forEach((([e,t])=>{this.player.on(e,(i=>{t&&t(i),e===`m-${ce.TimeUpdate}`?this.dispatch(`m-${ce.TimeUpdate}`,{currentTime:i,progress:Number(i)/this.durationValue*100}):this.dispatch(e,i)}))}))}onChangeTime(e){const t=Math.min(e,this.player.duration);this.onChangeProgress(t)}onTogglePlayPause(){this.playingValue?this.player?.pause():this.player?.play()}onChangeProgress(e){this.player.rewind(e)}onMouseDownProgress(){this.playingValue&&(this.prevPlayingState?.update((()=>!0)),this.player.pause())}onMouseUpProgress(){this.prevPlayingStateValue&&this.player?.play(),this.prevPlayingState?.update((()=>!1))}onChangePlaybackRate(e){this.player.playbackRate=e}onChangeLevel(e){this.activeLevel.update((()=>e)),this.autoLevel.update((()=>!1)),this.player.changeLevel(e)}onToggleAutoLevel(){this.autoLevel.update((()=>!0)),this.player.changeLevel(-1)}onToggleMuted(e){e!==this.mutedValue&&this.dispatchExternal(ue.ToggleVolume,{enabled:!e}),this.player.muted=e,this.muted.update((()=>e))}onChangeVolume(e){e!==this.volumeValue&&this.dispatchExternal(ue.ChangeVolume,{value:e}),this.player.volume=e,this.volume.update((()=>e))}}function xe(t){let i,n;return{c(){i=x("svg"),n=x("path"),L(n,"d","M8.68131 4C7.89528 4 7.40285 4.58389 7.13183 5.05258C6.84104 5.55549 6.62948 6.21236 6.47154 6.91472C6.15224 8.33465 6 10.1836 6 12C6 13.8164 6.15225 15.6654 6.47154 17.0853C6.62948 17.7876 6.84104 18.4445 7.13184 18.9474C7.40285 19.4161 7.89528 20 8.68131 20C9.73645 20 11.0211 19.609 12.2871 19.0684C13.5767 18.5177 14.9406 17.7706 16.1845 16.9718C17.4262 16.1743 18.5744 15.3086 19.4237 14.5115C19.8467 14.1145 20.2166 13.7149 20.4877 13.3325C20.7355 12.9829 21 12.5124 21 12C21 11.4876 20.7355 11.0171 20.4877 10.6675C20.2166 10.2851 19.8467 9.88553 19.4237 9.48852C18.5744 8.69136 17.4262 7.82569 16.1845 7.02824C14.9406 6.22943 13.5767 5.48228 12.2871 4.93159C11.0211 4.39102 9.73645 4 8.68131 4Z"),L(n,"fill","white"),L(i,"width","24"),L(i,"height","24"),L(i,"viewBox","0 0 24 24"),L(i,"fill","none"),L(i,"xmlns","http://www.w3.org/2000/svg")},m(e,t){$(e,i,t),g(i,n)},p:e,i:e,o:e,d(e){e&&w(i)}}}class Ce extends de{constructor(e){super(),le(this,e,null,xe,r,{})}}function Ee(t){let i,n,s;return{c(){i=x("svg"),n=x("path"),s=x("path"),L(n,"d","M4 12C4 5 4.61775 4 7.5 4C10.3822 4 11 5 11 12C11 19 10.3822 20 7.5 20C4.61775 20 4 19 4 12Z"),L(n,"fill","white"),L(s,"d","M13 12C13 5 13.6178 4 16.5 4C19.3822 4 20 5 20 12C20 19 19.3822 20 16.5 20C13.6178 20 13 19 13 12Z"),L(s,"fill","white"),L(i,"width","24"),L(i,"height","24"),L(i,"viewBox","0 0 24 24"),L(i,"fill","none"),L(i,"xmlns","http://www.w3.org/2000/svg")},m(e,t){$(e,i,t),g(i,n),g(i,s)},p:e,i:e,o:e,d(e){e&&w(i)}}}class ke extends de{constructor(e){super(),le(this,e,null,Ee,r,{})}}function Te(t){let i,n;return{c(){i=x("svg"),n=x("path"),L(n,"d","M8.29289 1.29289C8.68342 0.902369 9.31658 0.902369 9.70711 1.29289C10.0976 1.68342 10.0976 2.31658 9.70711 2.70711L8.41421 4H12C16.9017 4.07088 21 8.04141 21 13C21 17.9706 16.9706 22 12 22C7.02944 22 3 17.9706 3 13C3 12.4477 3.44772 12 4 12C4.55228 12 5 12.4477 5 13C5 16.866 8.13401 20 12 20C15.866 20 19 16.866 19 13C18.9357 9.18829 15.8636 6 12 6H8.41421L9.70711 7.29289C10.0976 7.68342 10.0976 8.31658 9.70711 8.70711C9.31658 9.09763 8.68342 9.09763 8.29289 8.70711L5.29289 5.70711C4.90237 5.31658 4.90237 4.68342 5.29289 4.29289L8.29289 1.29289Z"),L(n,"fill","white"),L(i,"width","24"),L(i,"height","24"),L(i,"viewBox","0 0 24 24"),L(i,"fill","none"),L(i,"xmlns","http://www.w3.org/2000/svg")},m(e,t){$(e,i,t),g(i,n)},p:e,i:e,o:e,d(e){e&&w(i)}}}class Le extends de{constructor(e){super(),le(this,e,null,Te,r,{})}}function Pe(e){return function(e){return D().$$.context.get(e)}(e)}function qe(e,t){!function(e,t){D().$$.context.set(e,t)}(e,t)}function Se(e){v(e,"svelte-4pfbxt",".playIconWrapper.svelte-4pfbxt{color:white;fill:white;scale:1.8}.pauseIconWrapper.svelte-4pfbxt{scale:1.9}.endIconWrapper.svelte-4pfbxt{scale:1.6}.playBtn.svelte-4pfbxt{display:flex;align-items:center;justify-content:center;width:116px;height:116px;background-color:rgba(3, 8, 13, 0.48);color:rgba(255, 255, 255, 0.95);border-radius:50%;outline:none;border:none;box-shadow:none;cursor:pointer}.playBtn.svelte-4pfbxt:hover{background-color:rgba(3, 8, 13, 0.58)}")}function Me(e){let t,i,n;return i=new Le({}),{c(){t=y("div"),oe(i.$$.fragment),L(t,"class","endIconWrapper svelte-4pfbxt")},m(e,s){$(e,t,s),re(i,t,null),n=!0},i(e){n||(te(i.$$.fragment,e),n=!0)},o(e){ie(i.$$.fragment,e),n=!1},d(e){e&&w(t),ae(i)}}}function Be(e){let t,i,n;return i=new ke({}),{c(){t=y("div"),oe(i.$$.fragment),L(t,"class","pauseIconWrapper svelte-4pfbxt")},m(e,s){$(e,t,s),re(i,t,null),n=!0},i(e){n||(te(i.$$.fragment,e),n=!0)},o(e){ie(i.$$.fragment,e),n=!1},d(e){e&&w(t),ae(i)}}}function Re(e){let t,i,n;return i=new Ce({}),{c(){t=y("div"),oe(i.$$.fragment),L(t,"class","playIconWrapper svelte-4pfbxt")},m(e,s){$(e,t,s),re(i,t,null),n=!0},i(e){n||(te(i.$$.fragment,e),n=!0)},o(e){ie(i.$$.fragment,e),n=!1},d(e){e&&w(t),ae(i)}}}function Ve(e){let t,i,n,s,o,r,a,l;const d=[Re,Be,Me],c=[];function u(e,t){return e[0]||e[1]?e[0]&&!e[1]?1:2:0}return i=u(e),n=c[i]=d[i](e),{c(){t=y("button"),n.c(),L(t,"class",s=m(`playBtn ${e[2]}`)+" svelte-4pfbxt"),L(t,"qa-id",o=e[6]["qa-id"]),q(t,"scale",e[3])},m(n,s){$(n,t,s),c[i].m(t,null),r=!0,a||(l=T(t,"click",e[8]),a=!0)},p(e,[a]){let l=i;i=u(e),i!==l&&(Q(),ie(c[l],1,1,(()=>{c[l]=null})),ee(),n=c[i],n||(n=c[i]=d[i](e),n.c()),te(n,1),n.m(t,null)),(!r||4&a&&s!==(s=m(`playBtn ${e[2]}`)+" svelte-4pfbxt"))&&L(t,"class",s),(!r||64&a&&o!==(o=e[6]["qa-id"]))&&L(t,"qa-id",o),8&a&&q(t,"scale",e[3])},i(e){r||(te(n),r=!0)},o(e){ie(n),r=!1},d(e){e&&w(t),c[i].d(),a=!1,l()}}}function De(e,i,n){let s,o;const r=N();let{playing:a=!1}=i,{ended:d=!1}=i,{custom_play_button_class:c}=i;const u=Pe("playerRect");return l(e,u,(e=>n(7,o=e))),e.$$set=e=>{n(6,i=t(t({},i),p(e))),"playing"in e&&n(0,a=e.playing),"ended"in e&&n(1,d=e.ended),"custom_play_button_class"in e&&n(2,c=e.custom_play_button_class)},e.$$.update=()=>{var t;128&e.$$.dirty&&n(3,(t=o.width,s=t<480?.6:t<640?.8:1))},i=p(i),[a,d,c,s,r,u,i,o,()=>r("click")]}class je extends de{constructor(e){super(),le(this,e,De,Ve,r,{playing:0,ended:1,custom_play_button_class:2},Se)}}function Ne(t){let i,n,s,o;return{c(){i=x("svg"),n=x("path"),s=x("path"),o=x("path"),L(n,"d","M9.37868 4.62132L6.62132 7.37868C6.2235 7.7765 5.56267 8 5.00006 8C3 8 3 10.3965 3 11.9999C3 13.6032 3 16 5.00006 16C5.56267 16 6.2235 16.2235 6.62132 16.6213L9.37868 19.3787C9.7765 19.7765 10.3161 20 10.8787 20C13 20 13 15 13 12C13 9 13 4 10.8787 4C10.3161 4 9.7765 4.2235 9.37868 4.62132Z"),L(n,"fill","white"),L(s,"d","M15.2929 8.29288C15.6834 7.90236 16.3195 7.90533 16.7101 8.29585C16.7997 8.38652 16.8798 8.48561 16.9563 8.58749C17.0818 8.75495 17.2397 8.99327 17.3944 9.30278C17.7056 9.92506 18 10.8272 18 12C18 13.1728 17.7056 14.0749 17.3944 14.6972C17.2397 15.0067 17.0818 15.245 16.9563 15.4125C16.88 15.5141 16.7995 15.6136 16.7101 15.7041C16.3195 16.0947 15.6834 16.0976 15.2929 15.7071C14.9057 15.3199 14.9024 14.6943 15.2829 14.303C15.4147 14.1551 15.5175 13.979 15.6056 13.8028C15.7944 13.4251 16 12.8272 16 12C16 11.1728 15.7944 10.5749 15.6056 10.1972C15.4485 9.88305 15.2982 9.71369 15.2829 9.69699C14.9024 9.30573 14.9057 8.68006 15.2929 8.29288Z"),L(s,"fill","white"),L(o,"d","M19.7141 5.29999C19.3236 4.90947 18.6834 4.9024 18.2929 5.29292C17.904 5.68177 17.9024 6.31117 18.2879 6.70209C18.6276 7.06045 18.8867 7.5094 19.1056 7.94724C19.5444 8.82495 20 10.1728 20 12C20 13.8273 19.5444 15.1751 19.1056 16.0528C18.8853 16.4933 18.6682 16.8175 18.5125 17.025C18.4419 17.1191 18.3689 17.2125 18.2879 17.298C17.9024 17.6889 17.904 18.3183 18.2929 18.7071C18.6834 19.0977 19.3181 19.0962 19.7086 18.7057C19.8556 18.5569 19.9872 18.3921 20.1125 18.225C20.3318 17.9326 20.6147 17.5068 20.8944 16.9472C21.4556 15.825 22 14.1728 22 12C22 9.82726 21.4556 8.1751 20.8944 7.05282C20.6147 6.49331 20.3318 6.06749 20.1125 5.77503C19.9887 5.60998 19.8586 5.4476 19.7141 5.29999Z"),L(o,"fill","white"),L(i,"width","24"),L(i,"height","24"),L(i,"viewBox","0 0 24 24"),L(i,"fill","none"),L(i,"xmlns","http://www.w3.org/2000/svg")},m(e,t){$(e,i,t),g(i,n),g(i,s),g(i,o)},p:e,i:e,o:e,d(e){e&&w(i)}}}class Oe extends de{constructor(e){super(),le(this,e,null,Ne,r,{})}}function Ue(t){let i,n,s;return{c(){i=x("svg"),n=x("path"),s=x("path"),L(n,"d","M6.62132 7.37868L9.37868 4.62132C9.7765 4.2235 10.3161 4 10.8787 4C13 4 13 9 13 12C13 15 13 20 10.8787 20C10.3161 20 9.7765 19.7765 9.37868 19.3787L6.62132 16.6213C6.2235 16.2235 5.56267 16 5.00006 16C3 16 3 13.6033 3 12C3 10.3967 3 8 5.00006 8C5.56267 8 6.2235 7.7765 6.62132 7.37868Z"),L(n,"fill","white"),L(s,"d","M16.7071 9.29289C16.3166 8.90237 15.6834 8.90237 15.2929 9.29289C14.9024 9.68342 14.9024 10.3166 15.2929 10.7071L16.5858 12L15.2929 13.2929C14.9024 13.6834 14.9024 14.3166 15.2929 14.7071C15.6834 15.0976 16.3166 15.0976 16.7071 14.7071L18 13.4142L19.2929 14.7071C19.6834 15.0976 20.3166 15.0976 20.7071 14.7071C21.0976 14.3166 21.0976 13.6834 20.7071 13.2929L19.4142 12L20.7071 10.7071C21.0976 10.3166 21.0976 9.68342 20.7071 9.29289C20.3166 8.90237 19.6834 8.90237 19.2929 9.29289L18 10.5858L16.7071 9.29289Z"),L(s,"fill","white"),L(i,"width","24"),L(i,"height","24"),L(i,"viewBox","0 0 24 24"),L(i,"fill","none"),L(i,"xmlns","http://www.w3.org/2000/svg")},m(e,t){$(e,i,t),g(i,n),g(i,s)},p:e,i:e,o:e,d(e){e&&w(i)}}}class Ie extends de{constructor(e){super(),le(this,e,null,Ue,r,{})}}function Ae(e){v(e,"svelte-1y4nlaz",".audioControl.svelte-1y4nlaz{display:flex;cursor:pointer;height:24px}.range.svelte-1y4nlaz{position:relative;display:flex;justify-content:flex-start;width:var(--exRangeWidth);max-width:0;height:100%;box-sizing:border-box;text-align:center;transition:0.1s}.visible.svelte-1y4nlaz{max-width:var(--exRangeWidth);margin-left:var(--exThumbSize)}.barWrapper.svelte-1y4nlaz{position:relative;width:100%;max-width:0;height:100%;box-sizing:border-box;text-align:center;transition:0.2s}.visibleBarWrapper.svelte-1y4nlaz{max-width:100%}.input.svelte-1y4nlaz{position:absolute;z-index:5;width:100%;height:100%;margin:0;display:inline-block;opacity:0;cursor:pointer}.bar.svelte-1y4nlaz{position:absolute;height:4px;top:50%;left:0;border-radius:44px;margin-top:-1px;width:100%;background-color:rgba(255, 255, 255, 0.6);pointer-events:none}.progress.svelte-1y4nlaz{position:absolute;border-radius:44px;top:50%;left:0;margin-top:-1px;height:4px;background:rgb(245, 247, 250);pointer-events:none}.thumb.svelte-1y4nlaz{position:absolute;top:50%;margin-top:-3.2px;width:var(--exThumbSize);height:var(--exThumbSize);background:rgb(245, 247, 250);border-radius:50%;pointer-events:none;box-shadow:0 6px 16px 2px rgba(0, 26, 52, 0.16), 0 0 0 1px rgba(0, 26, 52, 0.05)}")}function He(e){let t,i;return t=new Ie({}),{c(){oe(t.$$.fragment)},m(e,n){re(t,e,n),i=!0},i(e){i||(te(t.$$.fragment,e),i=!0)},o(e){ie(t.$$.fragment,e),i=!1},d(e){ae(t,e)}}}function ze(e){let t,i;return t=new Oe({}),{c(){oe(t.$$.fragment)},m(e,n){re(t,e,n),i=!0},i(e){i||(te(t.$$.fragment,e),i=!0)},o(e){ie(t.$$.fragment,e),i=!1},d(e){ae(t,e)}}}function Fe(e){let t,i,n,s,o,r,a,l,d,c=e[4]&&We(e);return{c(){t=y("div"),i=y("input"),s=E(),o=y("div"),r=y("div"),a=E(),c&&c.c(),L(i,"type","range"),L(i,"step","0.1"),L(i,"class","input svelte-1y4nlaz"),i.value=e[0],L(i,"max","1"),L(i,"min","0"),L(i,"qa-id",n=`${e[11]["qa-id"]}.volume-bar`),L(r,"class","bar svelte-1y4nlaz"),L(o,"class","barWrapper svelte-1y4nlaz"),S(o,"visibleBarWrapper",e[4]),L(t,"class","range svelte-1y4nlaz"),S(t,"visible",e[3])},m(n,u){$(n,t,u),g(t,i),g(t,s),g(t,o),g(o,r),g(o,a),c&&c.m(o,null),l||(d=T(i,"input",e[7]),l=!0)},p(e,s){1&s&&(i.value=e[0]),2048&s&&n!==(n=`${e[11]["qa-id"]}.volume-bar`)&&L(i,"qa-id",n),e[4]?c?c.p(e,s):(c=We(e),c.c(),c.m(o,null)):c&&(c.d(1),c=null),16&s&&S(o,"visibleBarWrapper",e[4]),8&s&&S(t,"visible",e[3])},d(e){e&&w(t),c&&c.d(),l=!1,d()}}}function We(e){let t,i,n,s;return{c(){t=y("div"),i=E(),n=y("div"),L(t,"class","progress svelte-1y4nlaz"),q(t,"width",e[6]),L(n,"class","thumb svelte-1y4nlaz"),L(n,"qa-id",s=`${e[11]["qa-id"]}.volume-bar.thumb`),q(n,"left",`${e[2]}%`)},m(e,s){$(e,t,s),$(e,i,s),$(e,n,s)},p(e,i){64&i&&q(t,"width",e[6]),2048&i&&s!==(s=`${e[11]["qa-id"]}.volume-bar.thumb`)&&L(n,"qa-id",s),4&i&&q(n,"left",`${e[2]}%`)},d(e){e&&w(t),e&&w(i),e&&w(n)}}}function Ze(e){let t,i,n,o,r,a,l,d,c,u;const h=[ze,He],_=[];function p(e,t){return e[1]?1:0}n=p(e),o=_[n]=h[n](e);let m=e[5]&&Fe(e);return{c(){t=y("div"),i=y("div"),o.c(),a=E(),m&&m.c(),L(i,"class","audioControlIcon"),L(i,"qa-id",r=`${e[11]["qa-id"]}.volume-btn`),L(t,"class","audioControl svelte-1y4nlaz"),q(t,"--exRangeWidth",Ke+"px"),q(t,"--exThumbSize",Xe+"px"),L(t,"qa-id",l=`${e[11]["qa-id"]}`)},m(s,o){$(s,t,o),g(t,i),_[n].m(i,null),g(t,a),m&&m.m(t,null),d=!0,c||(u=[T(i,"click",e[8]),T(t,"mouseenter",e[9]),T(t,"mouseleave",e[10])],c=!0)},p(e,[s]){let a=n;n=p(e),n!==a&&(Q(),ie(_[a],1,1,(()=>{_[a]=null})),ee(),o=_[n],o||(o=_[n]=h[n](e),o.c()),te(o,1),o.m(i,null)),(!d||2048&s&&r!==(r=`${e[11]["qa-id"]}.volume-btn`))&&L(i,"qa-id",r),e[5]?m?m.p(e,s):(m=Fe(e),m.c(),m.m(t,null)):m&&(m.d(1),m=null),(!d||2048&s&&l!==(l=`${e[11]["qa-id"]}`))&&L(t,"qa-id",l)},i(e){d||(te(o),d=!0)},o(e){ie(o),d=!1},d(e){e&&w(t),_[n].d(),m&&m.d(),c=!1,s(u)}}}const Ke=56,Xe=8;function Ge(e,i,n){let s,o,r,{volume:a=1}=i,{muted:l=!1}=i,{is_mobile:d=!1}=i,{only_toggle_audio_control:c=!1}=i,u=!1,h=!1,_=null;const m=N();return e.$$set=e=>{n(11,i=t(t({},i),p(e))),"volume"in e&&n(0,a=e.volume),"muted"in e&&n(1,l=e.muted),"is_mobile"in e&&n(12,d=e.is_mobile),"only_toggle_audio_control"in e&&n(13,c=e.only_toggle_audio_control)},e.$$.update=()=>{1&e.$$.dirty&&n(2,s=100*a*((Ke-Xe)/Ke)),4&e.$$.dirty&&n(6,o=`calc(${s}% + ${Xe/2}px)`),12288&e.$$.dirty&&n(5,r=!d&&!c)},i=p(i),[a,l,s,u,h,r,o,e=>{m("m-volumeChange",e?.target?.value)},()=>{m("m-toggleMuted",!l)},function(){r&&(n(3,u=!0),clearTimeout(_),_=setTimeout((()=>{clearTimeout(_),n(4,h=!0)}),200))},function(){r&&(n(4,h=!1),clearTimeout(_),_=setTimeout((()=>{clearTimeout(_),n(3,u=!1)}),200))},i,d,c]}class Ye extends de{constructor(e){super(),le(this,e,Ge,Ze,r,{volume:0,muted:1,is_mobile:12,only_toggle_audio_control:13},Ae)}}function Je(t){let i,n;return{c(){i=x("svg"),n=x("path"),L(n,"d","M8.77971 6.42223C8.38846 6.30058 7.99459 6.18796 7.60102 6.07415C5.84621 5.56671 5.39693 5.4368 4.20576 7.49996C3.0146 9.56312 3.35174 9.88725 4.6686 11.1532C4.96394 11.4372 5.25841 11.722 5.55938 12C5.25849 12.2779 4.9641 12.5626 4.66884 12.8465C3.35198 14.1124 3.0146 14.4368 4.20576 16.5C5.39693 18.5631 5.84646 18.4331 7.60127 17.9257C7.99365 17.8122 8.38964 17.699 8.7797 17.5777C8.86985 17.9769 8.9695 18.3753 9.0676 18.7725C9.50555 20.546 9.61768 21 12 21C14.3824 21 14.4945 20.546 14.9324 18.7725C15.0307 18.3748 15.1301 17.9774 15.2203 17.5777C15.6106 17.6991 16.0034 17.8114 16.396 17.9249C18.1508 18.4324 18.603 18.5631 19.7942 16.5C20.9854 14.4368 20.6482 14.1127 19.3314 12.8467C19.036 12.5628 18.7416 12.278 18.4406 12C18.7416 11.722 19.0361 11.4372 19.3314 11.1532C20.6483 9.88725 20.9854 9.56313 19.7943 7.49996C18.6031 5.4368 18.1538 5.56671 16.399 6.07415C16.0054 6.18796 15.6116 6.30058 15.2203 6.42223C15.13 6.02259 15.0306 5.6252 14.9324 5.22747C14.4945 3.45404 14.3824 3 12 3C9.61768 3 9.50523 3.45534 9.06728 5.22877C8.96917 5.62606 8.86988 6.02303 8.77971 6.42223ZM12 15C10.3431 15 9 13.6569 9 12C9 10.3431 10.3431 9 12 9C13.6569 9 15 10.3431 15 12C15 13.6569 13.6569 15 12 15Z"),L(n,"fill","white"),L(i,"width","24"),L(i,"height","24"),L(i,"viewBox","0 0 24 24"),L(i,"fill","none"),L(i,"xmlns","http://www.w3.org/2000/svg")},m(e,t){$(e,i,t),g(i,n)},p:e,i:e,o:e,d(e){e&&w(i)}}}class Qe extends de{constructor(e){super(),le(this,e,null,Je,r,{})}}function et(t){let i,n;return{c(){i=x("svg"),n=x("path"),L(n,"d","M11.7071 5.29289C12.0976 5.68342 12.0976 6.31658 11.7071 6.70711L7.41421 11H20C20.5523 11 21 11.4477 21 12C21 12.5523 20.5523 13 20 13H7.41421L11.7071 17.2929C12.0976 17.6834 12.0976 18.3166 11.7071 18.7071C11.3166 19.0976 10.6834 19.0976 10.2929 18.7071L4.29289 12.7071C3.90237 12.3166 3.90237 11.6834 4.29289 11.2929L10.2929 5.29289C10.6834 4.90237 11.3166 4.90237 11.7071 5.29289Z"),L(n,"fill","white"),L(i,"width","24"),L(i,"height","24"),L(i,"viewBox","0 0 24 24"),L(i,"fill","none"),L(i,"xmlns","http://www.w3.org/2000/svg")},m(e,t){$(e,i,t),g(i,n)},p:e,i:e,o:e,d(e){e&&w(i)}}}class tt extends de{constructor(e){super(),le(this,e,null,et,r,{})}}function it(t){let i,n;return{c(){i=x("svg"),n=x("path"),L(n,"d","M18.7071 7.29289C19.0976 7.68342 19.0976 8.31658 18.7071 8.70711L10.7071 16.7071C10.3166 17.0976 9.68342 17.0976 9.29289 16.7071L5.29289 12.7071C4.90237 12.3166 4.90237 11.6834 5.29289 11.2929C5.68342 10.9024 6.31658 10.9024 6.70711 11.2929L10 14.5858L17.2929 7.29289C17.6834 6.90237 18.3166 6.90237 18.7071 7.29289Z"),L(n,"fill","white"),L(i,"width","24"),L(i,"height","24"),L(i,"viewBox","0 0 24 24"),L(i,"fill","none"),L(i,"xmlns","http://www.w3.org/2000/svg")},m(e,t){$(e,i,t),g(i,n)},p:e,i:e,o:e,d(e){e&&w(i)}}}class nt extends de{constructor(e){super(),le(this,e,null,it,r,{})}}const st=.1,ot=160;var rt;!function(e){e.UNKNOWN="unknown",e.VOD="vod",e.LIVE="live"}(rt||(rt={}));const at=[{title:"0,25x",value:.25},{title:"0,5x",value:.5},{title:"0,75x",value:.75},{title:"1x",value:1},{title:"1,25x",value:1.25},{title:"1,5x",value:1.5},{title:"2,0x",value:2}],lt=e=>{e.preventDefault&&e.preventDefault(),e.stopPropagation&&e.stopPropagation()};function dt(e){v(e,"svelte-1fp4amm",".settingsMenu.svelte-1fp4amm.svelte-1fp4amm{position:absolute;top:100%;right:0;height:fit-content;padding:4px 0;background-color:rgba(0, 0, 0, 0.8);transform:translate(0, calc(-100% - 58px));box-shadow:0 8px 16px -2px rgba(0, 0, 0, 0.12);filter:drop-shadow(0 0 2px rgba(0, 0, 0, 0.12));border-radius:16px;box-sizing:border-box;z-index:100;overflow:auto}.items.svelte-1fp4amm.svelte-1fp4amm{display:flex;flex-direction:column;max-height:380px;margin:10px 0;overflow:auto}.item.svelte-1fp4amm.svelte-1fp4amm{display:flex;justify-content:space-between;width:100%;padding:10px 12px;color:rgba(255, 255, 255, 0.95);font-weight:400;font-size:15px;line-height:24px;text-align:left;cursor:pointer;box-sizing:border-box;white-space:nowrap}.item.svelte-1fp4amm.svelte-1fp4amm:hover{background-color:rgba(97, 131, 162, 0.1)}.value.svelte-1fp4amm.svelte-1fp4amm{margin-left:50px}.title.svelte-1fp4amm.svelte-1fp4amm{display:flex;align-items:center;justify-content:left;gap:16px;width:100%;padding:10px 12px;color:rgba(255, 255, 255, 0.95);font-size:15px;font-weight:600;line-height:24px;text-align:center;border-bottom:1px solid rgba(255, 255, 255, 0.15);box-sizing:border-box}.title.svelte-1fp4amm>div.svelte-1fp4amm{display:flex;align-items:center;cursor:pointer}.rateControl.svelte-1fp4amm.svelte-1fp4amm{width:168px;height:fit-content}.rate.svelte-1fp4amm.svelte-1fp4amm{display:flex;justify-content:space-between;width:100%;padding:10px 12px;color:rgba(255, 255, 255, 0.95);font-weight:400;font-size:15px;line-height:24px;text-align:left;cursor:pointer;box-sizing:border-box}.rate.svelte-1fp4amm.svelte-1fp4amm:hover{background-color:rgba(97, 131, 162, 0.1)}.levelControl.svelte-1fp4amm.svelte-1fp4amm{width:168px;height:fit-content}.level.svelte-1fp4amm.svelte-1fp4amm{display:flex;justify-content:space-between;width:100%;padding:10px 12px;color:rgba(255, 255, 255, 0.95);font-weight:400;font-size:15px;line-height:24px;text-align:left;cursor:pointer;box-sizing:border-box}.level.svelte-1fp4amm.svelte-1fp4amm:hover{background-color:rgba(97, 131, 162, 0.1)}.iconWrapper.svelte-1fp4amm.svelte-1fp4amm{display:flex}")}function ct(e,t,i){const n=e.slice();return n[28]=t[i],n}function ut(e,t,i){const n=e.slice();return n[31]=t[i],n}function ht(e){let t,i,n,s,o,r,a=e[9]&&_t(e),l=e[7]===e[6].Settings&&mt(e),d=e[7]===e[6].Rates&&ft(e),c=e[7]===e[6].Levels&&bt(e);return{c(){t=y("div"),a&&a.c(),i=E(),l&&l.c(),n=E(),d&&d.c(),s=E(),c&&c.c(),L(t,"class","settingsMenu svelte-1fp4amm"),L(t,"qa-id",o=`${e[20]["qa-id"]}`),q(t,"max-height",e[8])},m(e,o){$(e,t,o),a&&a.m(t,null),g(t,i),l&&l.m(t,null),g(t,n),d&&d.m(t,null),g(t,s),c&&c.m(t,null),r=!0},p(e,u){e[9]?a?(a.p(e,u),512&u[0]&&te(a,1)):(a=_t(e),a.c(),te(a,1),a.m(t,i)):a&&(Q(),ie(a,1,1,(()=>{a=null})),ee()),e[7]===e[6].Settings?l?l.p(e,u):(l=mt(e),l.c(),l.m(t,n)):l&&(l.d(1),l=null),e[7]===e[6].Rates?d?(d.p(e,u),192&u[0]&&te(d,1)):(d=ft(e),d.c(),te(d,1),d.m(t,s)):d&&(Q(),ie(d,1,1,(()=>{d=null})),ee()),e[7]===e[6].Levels?c?(c.p(e,u),192&u[0]&&te(c,1)):(c=bt(e),c.c(),te(c,1),c.m(t,null)):c&&(Q(),ie(c,1,1,(()=>{c=null})),ee()),(!r||1048576&u[0]&&o!==(o=`${e[20]["qa-id"]}`))&&L(t,"qa-id",o),256&u[0]&&q(t,"max-height",e[8])},i(e){r||(te(a),te(d),te(c),r=!0)},o(e){ie(a),ie(d),ie(c),r=!1},d(e){e&&w(t),a&&a.d(),l&&l.d(),d&&d.d(),c&&c.d()}}}function _t(e){let t,i,n,s,o=e[12]===e[6].Settings&&pt(e);return{c(){t=y("div"),o&&o.c(),i=E(),n=C(e[9]),L(t,"class","title svelte-1fp4amm")},m(e,r){$(e,t,r),o&&o.m(t,null),g(t,i),g(t,n),s=!0},p(e,r){e[12]===e[6].Settings?o?(o.p(e,r),4160&r[0]&&te(o,1)):(o=pt(e),o.c(),te(o,1),o.m(t,i)):o&&(Q(),ie(o,1,1,(()=>{o=null})),ee()),(!s||512&r[0])&&P(n,e[9])},i(e){s||(te(o),s=!0)},o(e){ie(o),s=!1},d(e){e&&w(t),o&&o.d()}}}function pt(e){let t,i,n,s,o,r;return i=new tt({}),{c(){t=y("div"),oe(i.$$.fragment),L(t,"qa-id",n=`${e[20]["qa-id"]}.back-btn`),L(t,"class","svelte-1fp4amm")},m(n,a){$(n,t,a),re(i,t,null),s=!0,o||(r=T(t,"click",e[19]),o=!0)},p(e,i){(!s||1048576&i[0]&&n!==(n=`${e[20]["qa-id"]}.back-btn`))&&L(t,"qa-id",n)},i(e){s||(te(i.$$.fragment,e),s=!0)},o(e){ie(i.$$.fragment,e),s=!1},d(e){e&&w(t),ae(i),o=!1,r()}}}function mt(e){let t,i,n,o,r,a,l,d,c,u,h,_,p,m;return{c(){t=y("div"),i=y("div"),n=C("Качество\n          "),o=y("div"),r=C(e[11]),l=E(),d=y("div"),c=C("Скорость воспроизведения\n          "),u=y("div"),h=C(e[10]),L(o,"class","value svelte-1fp4amm"),L(i,"class","item svelte-1fp4amm"),L(i,"qa-id",a=`${e[20]["qa-id"]}.level`),L(u,"class","value svelte-1fp4amm"),L(d,"class","item svelte-1fp4amm"),L(d,"qa-id",_=`${e[20]["qa-id"]}.playback-rate`),L(t,"class","items svelte-1fp4amm")},m(s,a){$(s,t,a),g(t,i),g(i,n),g(i,o),g(o,r),g(t,l),g(t,d),g(d,c),g(d,u),g(u,h),p||(m=[T(i,"click",e[17]),T(d,"click",e[18])],p=!0)},p(e,t){2048&t[0]&&P(r,e[11]),1048576&t[0]&&a!==(a=`${e[20]["qa-id"]}.level`)&&L(i,"qa-id",a),1024&t[0]&&P(h,e[10]),1048576&t[0]&&_!==(_=`${e[20]["qa-id"]}.playback-rate`)&&L(d,"qa-id",_)},d(e){e&&w(t),p=!1,s(m)}}}function ft(e){let t,i,n=[],s=new Map,o=e[1];const r=e=>e[31].value;for(let a=0;a<o.length;a+=1){let t=ut(e,o,a),i=r(t);s.set(i,n[a]=wt(i,t))}return{c(){t=y("div");for(let e=0;e<n.length;e+=1)n[e].c();L(t,"class","rateControl svelte-1fp4amm")},m(e,s){$(e,t,s);for(let i=0;i<n.length;i+=1)n[i].m(t,null);i=!0},p(e,i){1064966&i[0]&&(o=e[1],Q(),n=se(n,i,r,1,e,o,s,t,ne,wt,null,ut),ee())},i(e){if(!i){for(let e=0;e<o.length;e+=1)te(n[e]);i=!0}},o(e){for(let t=0;t<n.length;t+=1)ie(n[t]);i=!1},d(e){e&&w(t);for(let t=0;t<n.length;t+=1)n[t].d()}}}function gt(e){let t,i=e[31].title+"";return{c(){t=C(i)},m(e,i){$(e,t,i)},p(e,n){2&n[0]&&i!==(i=e[31].title+"")&&P(t,i)},d(e){e&&w(t)}}}function vt(t){let i;return{c(){i=C("Обычная")},m(e,t){$(e,i,t)},p:e,d(e){e&&w(i)}}}function $t(e){let t,i,n,s;return i=new nt({}),{c(){t=y("div"),oe(i.$$.fragment),L(t,"qa-id",n=`${e[20]["qa-id"]}.playback-rate.${e[31].title}.checked`),L(t,"class","iconWrapper svelte-1fp4amm")},m(e,n){$(e,t,n),re(i,t,null),s=!0},p(e,i){(!s||1048578&i[0]&&n!==(n=`${e[20]["qa-id"]}.playback-rate.${e[31].title}.checked`))&&L(t,"qa-id",n)},i(e){s||(te(i.$$.fragment,e),s=!0)},o(e){ie(i.$$.fragment,e),s=!1},d(e){e&&w(t),ae(i)}}}function wt(e,t){let i,n,s,o,r,a,l;function d(e,t){return"1x"===e[31].title?vt:gt}let c=d(t),u=c(t),h=t[31].value===t[2]&&$t(t);function _(...e){return t[24](t[31],...e)}return{key:e,first:null,c(){i=y("div"),u.c(),n=E(),h&&h.c(),s=E(),L(i,"class","rate svelte-1fp4amm"),L(i,"qa-id",o=`${t[20]["qa-id"]}.playback-rate.${t[31].title}`),this.first=i},m(e,t){$(e,i,t),u.m(i,null),g(i,n),h&&h.m(i,null),g(i,s),r=!0,a||(l=T(i,"click",_),a=!0)},p(e,a){c===(c=d(t=e))&&u?u.p(t,a):(u.d(1),u=c(t),u&&(u.c(),u.m(i,n))),t[31].value===t[2]?h?(h.p(t,a),6&a[0]&&te(h,1)):(h=$t(t),h.c(),te(h,1),h.m(i,s)):h&&(Q(),ie(h,1,1,(()=>{h=null})),ee()),(!r||1048578&a[0]&&o!==(o=`${t[20]["qa-id"]}.playback-rate.${t[31].title}`))&&L(i,"qa-id",o)},i(e){r||(te(h),r=!0)},o(e){ie(h),r=!1},d(e){e&&w(i),u.d(),h&&h.d(),a=!1,l()}}}function bt(e){let t,i,n,s,o,r,a,l,d=[],c=new Map,u=e[3];const h=e=>e[28].height;for(let p=0;p<u.length;p+=1){let t=ct(e,u,p),i=h(t);c.set(i,d[p]=xt(i,t))}let _=e[5]&&Ct(e);return{c(){t=y("div");for(let e=0;e<d.length;e+=1)d[e].c();i=E(),n=y("div"),s=C("Автонастройка\n          "),_&&_.c(),L(n,"class","level svelte-1fp4amm"),L(n,"qa-id",o=`${e[20]["qa-id"]}.level.auto`),L(t,"class","levelControl svelte-1fp4amm")},m(o,c){$(o,t,c);for(let e=0;e<d.length;e+=1)d[e].m(t,null);g(t,i),g(t,n),g(n,s),_&&_.m(n,null),r=!0,a||(l=T(n,"click",e[16]),a=!0)},p(e,s){1081400&s[0]&&(u=e[3],Q(),d=se(d,s,h,1,e,u,c,t,ne,xt,i,ct),ee()),e[5]?_?(_.p(e,s),32&s[0]&&te(_,1)):(_=Ct(e),_.c(),te(_,1),_.m(n,null)):_&&(Q(),ie(_,1,1,(()=>{_=null})),ee()),(!r||1048576&s[0]&&o!==(o=`${e[20]["qa-id"]}.level.auto`))&&L(n,"qa-id",o)},i(e){if(!r){for(let e=0;e<u.length;e+=1)te(d[e]);te(_),r=!0}},o(e){for(let t=0;t<d.length;t+=1)ie(d[t]);ie(_),r=!1},d(e){e&&w(t);for(let t=0;t<d.length;t+=1)d[t].d();_&&_.d(),a=!1,l()}}}function yt(e){let t,i,n,s;return i=new nt({}),{c(){t=y("div"),oe(i.$$.fragment),L(t,"qa-id",n=`${e[20]["qa-id"]}.level.${e[28].height}p.checked`),L(t,"class","iconWrapper svelte-1fp4amm")},m(e,n){$(e,t,n),re(i,t,null),s=!0},p(e,i){(!s||1048584&i[0]&&n!==(n=`${e[20]["qa-id"]}.level.${e[28].height}p.checked`))&&L(t,"qa-id",n)},i(e){s||(te(i.$$.fragment,e),s=!0)},o(e){ie(i.$$.fragment,e),s=!1},d(e){e&&w(t),ae(i)}}}function xt(e,t){let i,n,s,o,r,a,l,d=`${t[28].height}p`,c=!t[5]&&t[28].realIndex===t[4]&&yt(t);function u(...e){return t[25](t[28],...e)}return{key:e,first:null,c(){i=y("div"),n=C(d),s=E(),c&&c.c(),L(i,"class","level svelte-1fp4amm"),L(i,"qa-id",o=`${t[20]["qa-id"]}.level.${t[28].height}p`),this.first=i},m(e,t){$(e,i,t),g(i,n),g(i,s),c&&c.m(i,null),r=!0,a||(l=T(i,"click",u),a=!0)},p(e,s){t=e,(!r||8&s[0])&&d!==(d=`${t[28].height}p`)&&P(n,d),t[5]||t[28].realIndex!==t[4]?c&&(Q(),ie(c,1,1,(()=>{c=null})),ee()):c?(c.p(t,s),56&s[0]&&te(c,1)):(c=yt(t),c.c(),te(c,1),c.m(i,null)),(!r||1048584&s[0]&&o!==(o=`${t[20]["qa-id"]}.level.${t[28].height}p`))&&L(i,"qa-id",o)},i(e){r||(te(c),r=!0)},o(e){ie(c),r=!1},d(e){e&&w(i),c&&c.d(),a=!1,l()}}}function Ct(e){let t,i,n,s;return i=new nt({}),{c(){t=y("div"),oe(i.$$.fragment),L(t,"qa-id",n=`${e[20]["qa-id"]}.level.auto.checked`),L(t,"class","iconWrapper svelte-1fp4amm")},m(e,n){$(e,t,n),re(i,t,null),s=!0},p(e,i){(!s||1048576&i[0]&&n!==(n=`${e[20]["qa-id"]}.level.auto.checked`))&&L(t,"qa-id",n)},i(e){s||(te(i.$$.fragment,e),s=!0)},o(e){ie(i.$$.fragment,e),s=!1},d(e){e&&w(t),ae(i)}}}function Et(e){let t,i,n=e[0]&&ht(e);return{c(){n&&n.c(),t=k()},m(e,s){n&&n.m(e,s),$(e,t,s),i=!0},p(e,i){e[0]?n?(n.p(e,i),1&i[0]&&te(n,1)):(n=ht(e),n.c(),te(n,1),n.m(t.parentNode,t)):n&&(Q(),ie(n,1,1,(()=>{n=null})),ee())},i(e){i||(te(n),i=!0)},o(e){ie(n),i=!1},d(e){n&&n.d(e),e&&w(t)}}}function kt(e,i,n){let s;var o;!function(e){e[e.Settings=0]="Settings",e[e.Levels=1]="Levels",e[e.Rates=2]="Rates"}(o||(o={}));const r=N();let a,{show:d=!1}=i,{rates:c=at}=i,{active_rate:u=1}=i,{levels:h=[]}=i,{active_level:_=-1}=i,{auto_level:m=!0}=i,{show_level_settings:f=!1}=i,{show_rate_settings:g=!1}=i,v=o.Settings,$="",w="",b="",y=o.Settings;const x=Pe("playerRect");function C(e,t){n(12,y=e&&!t?o.Levels:!e&&t?o.Rates:o.Settings),n(7,v=y)}function E(e,t){lt(e),r("m-changePlaybackRate",t.value),n(7,v=y)}function k(e,t){lt(e),r("m-changeLevel",t.realIndex),n(7,v=y)}return l(e,x,(e=>n(23,s=e))),e.$$set=e=>{n(20,i=t(t({},i),p(e))),"show"in e&&n(0,d=e.show),"rates"in e&&n(1,c=e.rates),"active_rate"in e&&n(2,u=e.active_rate),"levels"in e&&n(3,h=e.levels),"active_level"in e&&n(4,_=e.active_level),"auto_level"in e&&n(5,m=e.auto_level),"show_level_settings"in e&&n(21,f=e.show_level_settings),"show_rate_settings"in e&&n(22,g=e.show_rate_settings)},e.$$.update=()=>{if(6291457&e.$$.dirty[0]&&(d||C(f,g)),8388608&e.$$.dirty[0]&&n(8,a=s.height?s.height-100+"px":"200px"),6291456&e.$$.dirty[0]&&C(f,g),192&e.$$.dirty[0]&&(v===o.Rates?n(9,$="Скорость"):v===o.Levels?n(9,$="Качество"):n(9,$="")),4&e.$$.dirty[0]&&n(10,w=1===u?"Обычная":`${u}x`),56&e.$$.dirty[0]){const e=h.find((e=>e.realIndex===_));n(11,b=e?m?`Автонастройка (${e.height}p)`:`${e.height}p`:"")}},i=p(i),[d,c,u,h,_,m,o,v,a,$,w,b,y,x,E,k,function(e){lt(e),r("m-toggleAutoLevel"),n(7,v=y)},function(e){lt(e),n(7,v=o.Levels)},function(e){lt(e),n(7,v=o.Rates)},function(e){lt(e),n(7,v=y)},i,f,g,s,(e,t)=>E(t,e),(e,t)=>k(t,e)]}class Tt extends de{constructor(e){super(),le(this,e,kt,Et,r,{show:0,rates:1,active_rate:2,levels:3,active_level:4,auto_level:5,show_level_settings:21,show_rate_settings:22},dt,[-1,-1])}}function Lt(t){let i,n,s,o,r;return{c(){i=x("svg"),n=x("path"),s=x("path"),o=x("path"),r=x("path"),L(n,"d","M3 4C3 3.44772 3.44772 3 4 3H9C9.55229 3 10 3.44772 10 4C10 4.55228 9.55229 5 9 5H5V9C5 9.55229 4.55228 10 4 10C3.44772 10 3 9.55229 3 9V4Z"),L(n,"fill","white"),L(s,"d","M20 3C20.5523 3 21 3.44772 21 4V9C21 9.55229 20.5523 10 20 10C19.4477 10 19 9.55229 19 9V5H15C14.4477 5 14 4.55228 14 4C14 3.44772 14.4477 3 15 3H20Z"),L(s,"fill","white"),L(o,"d","M3 15V20C3 20.5523 3.44772 21 4 21H9C9.55229 21 10 20.5523 10 20C10 19.4477 9.55229 19 9 19H5V15C5 14.4477 4.55228 14 4 14C3.44772 14 3 14.4477 3 15Z"),L(o,"fill","white"),L(r,"d","M19 15V19H15C14.4477 19 14 19.4477 14 20C14 20.5523 14.4477 21 15 21H20C20.5523 21 21 20.5523 21 20V15C21 14.4477 20.5523 14 20 14C19.4477 14 19 14.4477 19 15Z"),L(r,"fill","white"),L(i,"width","24"),L(i,"height","24"),L(i,"viewBox","0 0 24 24"),L(i,"fill","none"),L(i,"xmlns","http://www.w3.org/2000/svg")},m(e,t){$(e,i,t),g(i,n),g(i,s),g(i,o),g(i,r)},p:e,i:e,o:e,d(e){e&&w(i)}}}class Pt extends de{constructor(e){super(),le(this,e,null,Lt,r,{})}}function qt(t){let i,n,s,o,r;return{c(){i=x("svg"),n=x("path"),s=x("path"),o=x("path"),r=x("path"),L(n,"d","M10 9C10 9.55228 9.55228 10 9 10H4C3.44771 10 3 9.55228 3 9C3 8.44772 3.44771 8 4 8H8V4C8 3.44771 8.44772 3 9 3C9.55228 3 10 3.44771 10 4V9Z"),L(n,"fill","white"),L(s,"d","M15 10C14.4477 10 14 9.55228 14 9V4C14 3.44771 14.4477 3 15 3C15.5523 3 16 3.44771 16 4V8H20C20.5523 8 21 8.44772 21 9C21 9.55228 20.5523 10 20 10H15Z"),L(s,"fill","white"),L(o,"d","M10 20V15C10 14.4477 9.55228 14 9 14H4C3.44771 14 3 14.4477 3 15C3 15.5523 3.44771 16 4 16H8V20C8 20.5523 8.44772 21 9 21C9.55228 21 10 20.5523 10 20Z"),L(o,"fill","white"),L(r,"d","M16 20V16H20C20.5523 16 21 15.5523 21 15C21 14.4477 20.5523 14 20 14H15C14.4477 14 14 14.4477 14 15V20C14 20.5523 14.4477 21 15 21C15.5523 21 16 20.5523 16 20Z"),L(r,"fill","white"),L(i,"width","24"),L(i,"height","24"),L(i,"viewBox","0 0 24 24"),L(i,"fill","none"),L(i,"xmlns","http://www.w3.org/2000/svg")},m(e,t){$(e,i,t),g(i,n),g(i,s),g(i,o),g(i,r)},p:e,i:e,o:e,d(e){e&&w(i)}}}class St extends de{constructor(e){super(),le(this,e,null,qt,r,{})}}function Mt(t){let i,n,s;return{c(){i=x("svg"),n=x("path"),s=x("path"),L(n,"d","M6.52814 5.11833C6.8533 4.94431 7.24784 4.96338 7.5547 5.16795L10.5547 7.16795C10.8329 7.35342 11 7.66565 11 8C11 8.33436 10.8329 8.64659 10.5547 8.83205L7.5547 10.8321C7.24784 11.0366 6.8533 11.0557 6.52814 10.8817C6.20298 10.7077 6 10.3688 6 10V6C6 5.63121 6.20298 5.29235 6.52814 5.11833Z"),L(n,"fill","white"),L(s,"d","M8 2C4.68629 2 2 4.68629 2 8C2 11.3137 4.68629 14 8 14C11.3137 14 14 11.3137 14 8C14 4.68629 11.3137 2 8 2ZM0 8C0 3.58172 3.58172 0 8 0C12.4183 0 16 3.58172 16 8C16 12.4183 12.4183 16 8 16C3.58172 16 0 12.4183 0 8Z"),L(s,"fill","white"),L(i,"width","16"),L(i,"height","16"),L(i,"viewBox","0 0 16 16"),L(i,"fill","none"),L(i,"xmlns","http://www.w3.org/2000/svg")},m(e,t){$(e,i,t),g(i,n),g(i,s)},p:e,i:e,o:e,d(e){e&&w(i)}}}class Bt extends de{constructor(e){super(),le(this,e,null,Mt,r,{})}}function Rt(t){let i,n,s;return{c(){i=x("svg"),n=x("path"),s=x("path"),L(n,"d","M6 5C6.55228 5 7 5.44772 7 6V10C7 10.5523 6.55228 11 6 11C5.44772 11 5 10.5523 5 10V6C5 5.44772 5.44772 5 6 5ZM10 5C10.5523 5 11 5.44772 11 6V10C11 10.5523 10.5523 11 10 11C9.44772 11 9 10.5523 9 10V6C9 5.44772 9.44772 5 10 5Z"),L(n,"fill","white"),L(s,"d","M8 2C4.68629 2 2 4.68629 2 8C2 11.3137 4.68629 14 8 14C11.3137 14 14 11.3137 14 8C14 4.68629 11.3137 2 8 2ZM0 8C0 3.58172 3.58172 0 8 0C12.4183 0 16 3.58172 16 8C16 12.4183 12.4183 16 8 16C3.58172 16 0 12.4183 0 8Z"),L(s,"fill","white"),L(i,"width","16"),L(i,"height","16"),L(i,"viewBox","0 0 16 16"),L(i,"fill","none"),L(i,"xmlns","http://www.w3.org/2000/svg")},m(e,t){$(e,i,t),g(i,n),g(i,s)},p:e,i:e,o:e,d(e){e&&w(i)}}}class Vt extends de{constructor(e){super(),le(this,e,null,Rt,r,{})}}function Dt(t){let i,n;return{c(){i=x("svg"),n=x("path"),L(n,"fill-rule","evenodd"),L(n,"clip-rule","evenodd"),L(n,"d","M1 2C1 1.44772 1.44772 1 2 1H6C6.55228 1 7 1.44772 7 2C7 2.55228 6.55228 3 6 3H3V6C3 6.55228 2.55228 7 2 7C1.44772 7 1 6.55228 1 6V2ZM9 2C9 1.44772 9.44772 1 10 1H14C14.5523 1 15 1.44772 15 2V6C15 6.55228 14.5523 7 14 7C13.4477 7 13 6.55228 13 6V3H10C9.44772 3 9 2.55228 9 2ZM2 9C2.55228 9 3 9.44772 3 10V13H6C6.55228 13 7 13.4477 7 14C7 14.5523 6.55228 15 6 15H2C1.44772 15 1 14.5523 1 14V10C1 9.44772 1.44772 9 2 9ZM14 9C14.5523 9 15 9.44772 15 10V14C15 14.5523 14.5523 15 14 15H10C9.44772 15 9 14.5523 9 14C9 13.4477 9.44772 13 10 13H13V10C13 9.44772 13.4477 9 14 9Z"),L(n,"fill","white"),L(i,"width","16"),L(i,"height","16"),L(i,"viewBox","0 0 16 16"),L(i,"fill","none"),L(i,"xmlns","http://www.w3.org/2000/svg")},m(e,t){$(e,i,t),g(i,n)},p:e,i:e,o:e,d(e){e&&w(i)}}}class jt extends de{constructor(e){super(),le(this,e,null,Dt,r,{})}}function Nt(t){let i,n;return{c(){i=x("svg"),n=x("path"),L(n,"d","M6 1C6.55228 1 7 1.44772 7 2V6C7 6.55228 6.55228 7 6 7H2C1.44772 7 1 6.55228 1 6C1 5.44772 1.44772 5 2 5H5V2C5 1.44772 5.44772 1 6 1ZM10 1C10.5523 1 11 1.44772 11 2V5H14C14.5523 5 15 5.44772 15 6C15 6.55228 14.5523 7 14 7H10C9.44772 7 9 6.55228 9 6V2C9 1.44772 9.44772 1 10 1ZM1 10C1 9.44772 1.44772 9 2 9H6C6.55228 9 7 9.44772 7 10V14C7 14.5523 6.55228 15 6 15C5.44772 15 5 14.5523 5 14V11H2C1.44772 11 1 10.5523 1 10ZM9 10C9 9.44772 9.44772 9 10 9H14C14.5523 9 15 9.44772 15 10C15 10.5523 14.5523 11 14 11H11V14C11 14.5523 10.5523 15 10 15C9.44772 15 9 14.5523 9 14V10Z"),L(n,"fill","white"),L(i,"width","16"),L(i,"height","16"),L(i,"viewBox","0 0 16 16"),L(i,"fill","none"),L(i,"xmlns","http://www.w3.org/2000/svg")},m(e,t){$(e,i,t),g(i,n)},p:e,i:e,o:e,d(e){e&&w(i)}}}class Ot extends de{constructor(e){super(),le(this,e,null,Nt,r,{})}}function Ut(e){v(e,"svelte-1ogh9ir",".root.svelte-1ogh9ir{padding-right:16px;color:rgba(255, 255, 255, 0.6);font-weight:600;font-size:15px;user-select:none;display:flex;align-items:center;overflow:hidden;flex-wrap:nowrap}.dot.svelte-1ogh9ir{padding-right:12px}.dot.narrow.svelte-1ogh9ir{padding-right:6px}.text.svelte-1ogh9ir{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}")}function It(t){let i,n,s,o,r,a,l,d=(t[0]?t[0].text:"")+"";return{c(){i=y("div"),n=y("div"),s=y("span"),o=C("•"),a=C(d),L(s,"class",r=m(`dot ${t[1]&&"narrow"}`)+" svelte-1ogh9ir"),L(n,"class","text svelte-1ogh9ir"),L(i,"class","root svelte-1ogh9ir"),L(i,"qa-id",l=`${t[3]["qa-id"]}`)},m(e,t){$(e,i,t),g(i,n),g(n,s),g(s,o),g(n,a)},p(e,[t]){2&t&&r!==(r=m(`dot ${e[1]&&"narrow"}`)+" svelte-1ogh9ir")&&L(s,"class",r),1&t&&d!==(d=(e[0]?e[0].text:"")+"")&&P(a,d),8&t&&l!==(l=`${e[3]["qa-id"]}`)&&L(i,"qa-id",l)},i:e,o:e,d(e){e&&w(i)}}}function At(e,i,n){let s,o,{episode:r=null}=i;const a=Pe("playerRect");return l(e,a,(e=>n(4,o=e))),e.$$set=e=>{n(3,i=t(t({},i),p(e))),"episode"in e&&n(0,r=e.episode)},e.$$.update=()=>{16&e.$$.dirty&&n(1,s=o.width<420)},i=p(i),[r,s,a,i,o]}class Ht extends de{constructor(e){super(),le(this,e,At,It,r,{episode:0},Ut)}}function zt(e,t=!0){const i=Math.floor(e/3600),n=Math.floor(e%3600/60),s=Math.floor(e%60),o=[];return t&&!i||o.push(Ft(i)),o.push(Ft(n),Ft(s)),o.join(":")}function Ft(e){return String(e).padStart(2,"0")}var Wt;function Zt(e){v(e,"svelte-1x004wh",".time.svelte-1x004wh{display:flex;flex-shrink:0;height:100%;align-items:center;font-size:14px;user-select:none;position:relative}.time.hidden.svelte-1x004wh{display:none}.time.nonInteractive.svelte-1x004wh{pointer-events:none}.narrow.time.svelte-1x004wh{justify-content:center;font-size:12px;font-weight:500;letter-spacing:0.2px;flex-grow:1;height:16px}.currentTime.svelte-1x004wh{margin-right:4px;color:rgba(255, 255, 255, 0.95)}.separatorTime.svelte-1x004wh{color:rgba(255, 255, 255, 0.45)}.totalTime.svelte-1x004wh{margin-left:4px;color:rgba(255, 255, 255, 0.45)}.tooltip.svelte-1x004wh{position:absolute;top:-58px;left:-100%;display:flex;align-items:center;width:fit-content;height:24px;padding:4px 8px;background-color:rgba(3, 8, 13, 0.48);color:white;border-radius:6px;white-space:nowrap;font-size:12px;font-weight:400;line-height:16px;box-sizing:border-box;pointer-events:none;opacity:1}.tooltipHidden.svelte-1x004wh{opacity:0}")}function Kt(e){let t,i,n,s=zt(e[0])+"";return{c(){t=y("div"),i=C(s),L(t,"class","currentTime svelte-1x004wh"),L(t,"qa-id",n=`${e[9]["qa-id"]}.current-time`)},m(e,n){$(e,t,n),g(t,i)},p(e,o){1&o&&s!==(s=zt(e[0])+"")&&P(i,s),512&o&&n!==(n=`${e[9]["qa-id"]}.current-time`)&&L(t,"qa-id",n)},d(e){e&&w(t)}}}function Xt(e){let t;return{c(){t=y("div"),t.textContent="/",L(t,"class","separatorTime svelte-1x004wh")},m(e,i){$(e,t,i)},d(e){e&&w(t)}}}function Gt(e){let t,i,n,s=zt(e[1])+"";return{c(){t=y("div"),i=C(s),L(t,"class","totalTime svelte-1x004wh"),L(t,"qa-id",n=`${e[9]["qa-id"]}.total-time`)},m(e,n){$(e,t,n),g(t,i)},p(e,o){2&o&&s!==(s=zt(e[1])+"")&&P(i,s),512&o&&n!==(n=`${e[9]["qa-id"]}.total-time`)&&L(t,"qa-id",n)},d(e){e&&w(t)}}}function Yt(t){let i,n,s,o,r=(t[5]||t[7])&&Kt(t),a=t[5]&&Xt(),l=(t[5]||t[6])&&Gt(t);return{c(){i=y("div"),r&&r.c(),n=E(),a&&a.c(),s=E(),l&&l.c(),L(i,"class",o=m(`time ${t[3]}`)+" svelte-1x004wh"),S(i,"hidden",t[4]===Wt.None),S(i,"nonInteractive",t[2]||!t[7])},m(e,t){$(e,i,t),r&&r.m(i,null),g(i,n),a&&a.m(i,null),g(i,s),l&&l.m(i,null)},p(e,[t]){e[5]||e[7]?r?r.p(e,t):(r=Kt(e),r.c(),r.m(i,n)):r&&(r.d(1),r=null),e[5]?a||(a=Xt(),a.c(),a.m(i,s)):a&&(a.d(1),a=null),e[5]||e[6]?l?l.p(e,t):(l=Gt(e),l.c(),l.m(i,null)):l&&(l.d(1),l=null),8&t&&o!==(o=m(`time ${e[3]}`)+" svelte-1x004wh")&&L(i,"class",o),24&t&&S(i,"hidden",e[4]===Wt.None),140&t&&S(i,"nonInteractive",e[2]||!e[7])},i:e,o:e,d(e){e&&w(i),r&&r.d(),a&&a.d(),l&&l.d()}}}function Jt(e,i,n){let s,o,r,a,d,{current_time:c=0}=i,{total_time:u=0}=i,{show_current_time:h=!1}=i,{show_duration:_=!1}=i,{live:m=!1}=i,{bottom_bar_theme:f="default"}=i;const g=Pe("playerRect");l(e,g,(e=>n(14,d=e)));let v=w(d.width,s),$=0;function w(e,t){return!h&&!_||m&&!h?Wt.None:m&&h||!t||(e<420||!_)&&h?Wt.OnlyTimePassed:!h&&_&&t?Wt.OnlyTotal:Wt.Full}return j((()=>{n(4,v=w(d.width,s))})),e.$$set=e=>{n(9,i=t(t({},i),p(e))),"current_time"in e&&n(0,c=e.current_time),"total_time"in e&&n(1,u=e.total_time),"show_current_time"in e&&n(10,h=e.show_current_time),"show_duration"in e&&n(11,_=e.show_duration),"live"in e&&n(2,m=e.live),"bottom_bar_theme"in e&&n(3,f=e.bottom_bar_theme)},e.$$.update=()=>{2&e.$$.dirty&&n(13,s=Number.isFinite(u)&&u>0),28672&e.$$.dirty&&d.width!==$&&(n(12,$=d.width),n(4,v=w(d.width,s))),24576&e.$$.dirty&&n(4,v=w(d.width,s)),16&e.$$.dirty&&n(7,o=v===Wt.OnlyTimePassed),16&e.$$.dirty&&n(6,r=v===Wt.OnlyTotal),16&e.$$.dirty&&n(5,a=v===Wt.Full)},i=p(i),[c,u,m,f,v,a,r,o,g,i,h,_,$,s,d]}!function(e){e[e.OnlyTimeLeft=0]="OnlyTimeLeft",e[e.OnlyTimePassed=1]="OnlyTimePassed",e[e.OnlyTotal=2]="OnlyTotal",e[e.Full=3]="Full",e[e.None=4]="None"}(Wt||(Wt={}));class Qt extends de{constructor(e){super(),le(this,e,Jt,Yt,r,{current_time:0,total_time:1,show_current_time:10,show_duration:11,live:2,bottom_bar_theme:3},Zt)}}class ei{loading=!1;landscapes=[];list=[];config;async load(e){if(!this.loading)return this.loading=!0,this.config=e,await this.fetchLandscapes(),this.flattenLandscapes().finally((()=>{this.loading=!1}))}async reload(){await this.load(this.config)}reset(){this.landscapes=[],this.list.splice(0,this.list.length)}async fetchLandscapes(){try{const e=/^https:\/\/([^\\/]+)\/(vod|stream)\/(.+)/,t=this.config.videoSrc.match(e);if(!t)throw new Error(`Video url ${this.config.videoSrc} does not match pattern`);const[,i,n,s]=t,o=`https://${i.replace(/^s\./,"v.")}/player_meta/`+("vod"===n?"vod":"live")+"/"+`${s}?`+`video_type=${this.config.videoType}&entities=timeline`,r=await fetch(o).then((e=>e.json()));this.landscapes=r.timeline.timeline_index,this.landscapes.sort(((e,t)=>e.ts[0]-t.ts[0]))}catch(e){console.error("Failed to fetch previews",e)}}async flattenLandscapes(){return new Promise((e=>{const t=this.landscapes[0];if(t){const{url:i,items_per_x:n,items_per_y:s}=t,o=new Image;o.src=`${i}`,o.onload=()=>{const t=[],i=o.width,r=o.height,a=i/n,l=r/s,{width:d,height:c}=a>=l?{width:ot,height:ot*l/a}:{width:ot*a/l,height:ot};for(let e=0;e<this.landscapes.length;e++)t.push(...this.getImagesFromSprite(this.landscapes[e],d,c));this.list.splice(0,this.list.length),this.list.push(...t),e()},o.onerror=t=>{console.error("Failed to load preview landscape",t),e()}}else e()}))}getImagesFromSprite(e,t,i){const n=[],{items_per_x:s,items_per_y:o,ts:r,url:a}=e;for(let l=0;l<o;l++)for(let e=0;e<s;e++){const d=l*s+e;if(d>=r.length)continue;const c=`url(${a}) ${-t*e}px ${-i*l}px / ${t*s}px ${i*o}px`;n.push({src:c,width:t,height:i,time:r[d]})}return n}getPreviewByTime(e){return this.findNearestPreview(this.list,e,0,this.list.length)}findNearestPreview(e,t,i,n){if(i===n)return null;if(n-i==1)return e[i];const s=Math.floor((i+n)/2),o=e[s],r=e[s-1];return r&&Math.abs(t-r.time)<Math.abs(t-o.time)?this.findNearestPreview(e,t,i,s):this.findNearestPreview(e,t,s,n)}}function ti(e){v(e,"svelte-1ldmyfe",".preview.svelte-1ldmyfe.svelte-1ldmyfe{max-width:300px;transform-origin:0 50%;font-weight:500;color:rgb(255, 255, 255);text-shadow:0 0 3px rgba(0, 0, 0, 0.5);text-align:center;font-family:var(--main-font);font-size:var(--fs-body);line-height:var(--lh-body);user-select:none}.preview.svelte-1ldmyfe>div.svelte-1ldmyfe{padding:0 3px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.previewTitle.svelte-1ldmyfe.svelte-1ldmyfe{margin-top:8px;margin-bottom:-6px}.time.svelte-1ldmyfe.svelte-1ldmyfe{margin-top:8px}@media(max-width: 375px){.preview.svelte-1ldmyfe.svelte-1ldmyfe{max-width:160px;bottom:20px;line-height:16px}}.image.svelte-1ldmyfe.svelte-1ldmyfe{margin:0 auto;padding:2px !important;background-color:white;border-radius:8px;box-shadow:0 4px 16px 2px rgba(0, 26, 52, 0.16);overflow:hidden}.image.svelte-1ldmyfe>div.svelte-1ldmyfe{width:100%;height:100%;border-radius:8px;overflow:hidden}")}function ii(e){let t,i,n;return{c(){t=y("div"),i=y("div"),L(i,"class","svelte-1ldmyfe"),q(i,"background",e[4]?void 0:e[3].src),L(t,"class","image svelte-1ldmyfe"),L(t,"qa-id",n=`${e[5]["qa-id"]}.image`),q(t,"width",`${e[3].width}px`),q(t,"height",`${e[3].height}px`)},m(e,n){$(e,t,n),g(t,i)},p(e,s){24&s&&q(i,"background",e[4]?void 0:e[3].src),32&s&&n!==(n=`${e[5]["qa-id"]}.image`)&&L(t,"qa-id",n),8&s&&q(t,"width",`${e[3].width}px`),8&s&&q(t,"height",`${e[3].height}px`)},d(e){e&&w(t)}}}function ni(e){let t,i,n;return{c(){t=y("div"),i=C(e[1]),L(t,"class","previewTitle svelte-1ldmyfe"),L(t,"qa-id",n=`${e[5]["qa-id"]}.title`)},m(e,n){$(e,t,n),g(t,i)},p(e,s){2&s&&P(i,e[1]),32&s&&n!==(n=`${e[5]["qa-id"]}.title`)&&L(t,"qa-id",n)},d(e){e&&w(t)}}}function si(t){let i,n,s,o,r,a,l,d=zt(t[0])+"",c=t[3]&&ii(t),u=t[1]&&ni(t);return{c(){i=y("div"),c&&c.c(),n=E(),u&&u.c(),s=E(),o=y("div"),r=C(d),L(o,"class","time svelte-1ldmyfe"),L(o,"qa-id",a=`${t[5]["qa-id"]}.time`),L(i,"class","preview svelte-1ldmyfe"),L(i,"qa-id",l=`${t[5]["qa-id"]}`)},m(e,a){$(e,i,a),c&&c.m(i,null),g(i,n),u&&u.m(i,null),g(i,s),g(i,o),g(o,r),t[9](i)},p(e,[t]){e[3]?c?c.p(e,t):(c=ii(e),c.c(),c.m(i,n)):c&&(c.d(1),c=null),e[1]?u?u.p(e,t):(u=ni(e),u.c(),u.m(i,s)):u&&(u.d(1),u=null),1&t&&d!==(d=zt(e[0])+"")&&P(r,d),32&t&&a!==(a=`${e[5]["qa-id"]}.time`)&&L(o,"qa-id",a),32&t&&l!==(l=`${e[5]["qa-id"]}`)&&L(i,"qa-id",l)},i:e,o:e,d(e){e&&w(i),c&&c.d(),u&&u.d(),t[9](null)}}}function oi(e,i,n){let s,o,r,a,{time:l=-1}=i,{title:d=null}=i,{video_type:c=rt.UNKNOWN}=i;const u=Pe("previews");let h;const _=N();return j((()=>{_("m-changeWidth",r?r.clientWidth:0)})),e.$$set=e=>{n(5,i=t(t({},i),p(e))),"time"in e&&n(0,l=e.time),"title"in e&&n(1,d=e.title),"video_type"in e&&n(6,c=e.video_type)},e.$$.update=()=>{if(1&e.$$.dirty&&n(7,s=1e3*l),64&e.$$.dirty&&n(8,o=c===rt.LIVE),384&e.$$.dirty){const e=u.list.length>0&&s>u.list[u.list.length-1]?.time;o&&e&&async function(){n(4,h=!0),await u.reload(),n(3,a=u.getPreviewByTime(s)),n(4,h=!1)}()}128&e.$$.dirty&&n(3,a=u.getPreviewByTime(s))},i=p(i),[l,d,r,a,h,i,c,s,o,function(e){U[e?"unshift":"push"]((()=>{r=e,n(2,r)}))}]}class ri extends de{constructor(e){super(),le(this,e,oi,si,r,{time:0,title:1,video_type:6},ti)}}function ai(e,t){return li(e,t,0,e.length)}function li(e,t,i,n){if(n-i==1)return e[i];const s=Math.floor((i+n)/2),o=e[s];return o>t?li(e,t,i,s):o<t?li(e,t,s,n):o}const di=({barRelativePointerMoveX:e,barOffsetLeft:t,playerOffsetLeft:i,playerWidth:n,previewWidth:s})=>{const o=i+12,r=n-24;let a=e-s/2+t;return a<o?a=o:a+s>=o+r&&(a=o+r-s),a-t};function ci(e,t){let i,n,s=!1;return function o(...r){if(s)return i=r,void(n=this);e.apply(this,r),s=!0,setTimeout((function(){s=!1,i&&(o.apply(n,i),i=n=null)}),t)}}function ui(e){let t=NaN;return i=>{const n=Math.floor(i);n!==t&&(t=n,e(n))}}function hi(e){v(e,"svelte-1xdu2m1",".thumb.svelte-1xdu2m1.svelte-1xdu2m1{margin-top:-6px;margin-left:-6px;width:12px;height:12px;position:absolute;top:50%;background:rgb(245, 247, 250);border-radius:50%;box-shadow:0 6px 16px 2px rgba(0, 26, 52, 0.16), 0 0 0 1px rgba(0, 26, 52, 0.05);pointer-events:none}.narrow.svelte-1xdu2m1 .thumb.svelte-1xdu2m1{margin-top:-2px;margin-left:-2px;width:4px;height:4px;margin-top:-3px}@media screen and (max-width: 375px){.thumb.svelte-1xdu2m1.svelte-1xdu2m1{margin-top:-10px;margin-left:-10px;width:20px;height:20px}}.root.svelte-1xdu2m1.svelte-1xdu2m1{position:relative;width:100%;height:12px;user-select:none;display:flex;gap:8px;align-items:center}.liveBadge.svelte-1xdu2m1.svelte-1xdu2m1{display:flex;align-items:center;justify-content:center;width:58px;height:22px;flex-shrink:0;background-color:rgb(245, 247, 250);border-radius:16px;color:rgba(0, 17, 34, 0.95);font-weight:500;cursor:pointer}.actualLive.svelte-1xdu2m1 .liveBadge.svelte-1xdu2m1{background-color:rgb(211, 0, 61);color:rgb(245, 247, 250);cursor:default}.progressBarContainer.svelte-1xdu2m1.svelte-1xdu2m1{position:relative;width:100%;height:12px}.progressBar.svelte-1xdu2m1.svelte-1xdu2m1{position:absolute;width:100%;height:100%;cursor:pointer;display:flex;flex-wrap:nowrap;align-items:center}.actualLive.svelte-1xdu2m1 .thumb.svelte-1xdu2m1{background-color:rgb(211, 0, 61)}")}const _i=e=>({}),pi=e=>({}),mi=e=>({pointerMoveCurrentTime:128&e[0]}),fi=e=>({pointerMoveCurrentTime:e[7]}),gi=e=>({pointerMoveProgressPercent:64&e[0],actualLive:4&e[0],progressPercents:1024&e[0],bufferedPercents:32768&e[0]}),vi=e=>({pointerMoveProgressPercent:e[6],actualLive:e[2],progressPercents:e[10],bufferedPercents:e[15]});function $i(e){let t,i,n,s,o;return{c(){t=y("div"),i=C("Live"),L(t,"class","liveBadge svelte-1xdu2m1"),L(t,"qa-id",n=`${e[26]["qa-id"]}.back-to-live`)},m(n,r){$(n,t,r),g(t,i),s||(o=T(t,"click",e[25]),s=!0)},p(e,i){67108864&i[0]&&n!==(n=`${e[26]["qa-id"]}.back-to-live`)&&L(t,"qa-id",n)},d(e){e&&w(t),s=!1,o()}}}function wi(e){let t,i;return{c(){t=y("div"),L(t,"class","thumb svelte-1xdu2m1"),L(t,"qa-id",i=`${e[26]["qa-id"]}.thumb`),q(t,"left",`${e[11]}%`)},m(e,i){$(e,t,i)},p(e,n){67108864&n[0]&&i!==(i=`${e[26]["qa-id"]}.thumb`)&&L(t,"qa-id",i),2048&n[0]&&q(t,"left",`${e[11]}%`)},d(e){e&&w(t)}}}function bi(e){let t,i,n;const s=e[38].preview,o=d(s,e,e[37],fi);return{c(){t=y("div"),o&&o.c(),L(t,"qa-id",i=`${e[26]["qa-id"]}.preview-wrapper`),q(t,"transform",`translateX(${e[12]}px)`),q(t,"opacity",e[3]>0?1:0)},m(e,i){$(e,t,i),o&&o.m(t,null),n=!0},p(e,r){o&&o.p&&(!n||128&r[0]|64&r[1])&&h(o,s,e,e[37],n?u(s,e[37],r,mi):_(e[37]),fi),(!n||67108864&r[0]&&i!==(i=`${e[26]["qa-id"]}.preview-wrapper`))&&L(t,"qa-id",i),4096&r[0]&&q(t,"transform",`translateX(${e[12]}px)`),8&r[0]&&q(t,"opacity",e[3]>0?1:0)},i(e){n||(te(o,e),n=!0)},o(e){ie(o,e),n=!1},d(e){e&&w(t),o&&o.d(e)}}}function yi(e){let t;const i=e[38].cuepoints,n=d(i,e,e[37],pi);return{c(){n&&n.c()},m(e,i){n&&n.m(e,i),t=!0},p(e,s){n&&n.p&&(!t||64&s[1])&&h(n,i,e,e[37],t?u(i,e[37],s,_i):_(e[37]),pi)},i(e){t||(te(n,e),t=!0)},o(e){ie(n,e),t=!1},d(e){n&&n.d(e)}}}function xi(e){let t,i,n,o,r,a,l,c,p,f,v,b,x=e[1]===rt.LIVE&&$i(e),C=e[0]!==1/0&&wi(e);const k=e[38].progress,P=d(k,e,e[37],vi);let q=(e[9]||e[8])&&!e[14]&&bi(e),M=e[4].length>0&&yi(e);return{c(){t=y("div"),x&&x.c(),i=E(),n=y("div"),o=y("div"),C&&C.c(),r=E(),P&&P.c(),l=E(),q&&q.c(),c=E(),M&&M.c(),L(o,"class","progressBar svelte-1xdu2m1"),L(o,"qa-id",a=`${e[26]["qa-id"]}`),L(n,"class","progressBarContainer svelte-1xdu2m1"),L(t,"class",p=m(`root ${e[5]}`)+" svelte-1xdu2m1"),S(t,"actualLive",e[2])},m(s,a){$(s,t,a),x&&x.m(t,null),g(t,i),g(t,n),g(n,o),C&&C.m(o,null),g(o,r),P&&P.m(o,null),e[39](o),g(n,l),q&&q.m(n,null),g(n,c),M&&M.m(n,null),f=!0,v||(b=[T(o,"mouseenter",e[21]),T(o,"mouseleave",e[23]),T(o,"mousemove",e[22]),T(o,"mousedown",e[24]),T(o,"touchstart",e[18]),T(o,"touchend",e[20]),T(o,"touchmove",e[19])],v=!0)},p(e,s){e[1]===rt.LIVE?x?x.p(e,s):(x=$i(e),x.c(),x.m(t,i)):x&&(x.d(1),x=null),e[0]!==1/0?C?C.p(e,s):(C=wi(e),C.c(),C.m(o,r)):C&&(C.d(1),C=null),P&&P.p&&(!f||33860&s[0]|64&s[1])&&h(P,k,e,e[37],f?u(k,e[37],s,gi):_(e[37]),vi),(!f||67108864&s[0]&&a!==(a=`${e[26]["qa-id"]}`))&&L(o,"qa-id",a),!e[9]&&!e[8]||e[14]?q&&(Q(),ie(q,1,1,(()=>{q=null})),ee()):q?(q.p(e,s),17152&s[0]&&te(q,1)):(q=bi(e),q.c(),te(q,1),q.m(n,c)),e[4].length>0?M?(M.p(e,s),16&s[0]&&te(M,1)):(M=yi(e),M.c(),te(M,1),M.m(n,null)):M&&(Q(),ie(M,1,1,(()=>{M=null})),ee()),(!f||32&s[0]&&p!==(p=m(`root ${e[5]}`)+" svelte-1xdu2m1"))&&L(t,"class",p),(!f||36&s[0])&&S(t,"actualLive",e[2])},i(e){f||(te(P,e),te(q),te(M),f=!0)},o(e){ie(P,e),ie(q),ie(M),f=!1},d(i){i&&w(t),x&&x.d(),C&&C.d(),P&&P.d(i),e[39](null),q&&q.d(),M&&M.d(),v=!1,s(b)}}}function Ci(e,i,n){let s,o,r,a,d,{$$slots:c={},$$scope:u}=i;const h=N();let _,m,g,v,{duration:$=0}=i,{buffered:w=0}=i,{current_time:b=0}=i,{video_type:y=rt.UNKNOWN}=i,{actual_live:x=!1}=i,{disable_progress_bar:C=!1}=i,{disable_forward_rewind:E=!1}=i,{preview_width:k=0}=i,{cuepoints:T=[]}=i,{bottom_bar_theme:L="default"}=i,P=0,q=0,S=0,M=!1,B=!1,R=0,V=!1,O=NaN;const I=Pe("playerRect");l(e,I,(e=>n(36,d=e)));const A=Pe("progressBarRect");l(e,A,(e=>n(35,a=e)));let H=!1;var z;function F(e){Z(e)}function W(e){document.removeEventListener("mousemove",F),document.removeEventListener("mouseup",W),Z(e),n(32,R=q),h("m-mouseUp"),n(33,V=!0),n(8,M=!1),r||h("m-changeProgress",S)}function Z(e){let t=(e.clientX||e.touches?.[0]?.clientX||e.changedTouches?.[0]?.clientX||0)-a.left;t<0&&(t=0),t>=a.width&&(t=a.width-1),n(31,P=t),n(6,q=P/a.width*100),n(7,S=q*$/100)}function K(){n(31,P=0),n(6,q=0),n(7,S=0)}j((()=>{v=new ResizeObserver(G),v.observe(g),window.addEventListener("scroll",X)})),z=()=>{v?.disconnect(),window.removeEventListener("scroll",X)},D().$$.on_destroy.push(z);const X=ci((function(){if(!g?.getBoundingClientRect)return;const{left:e,width:t,height:i}=g.getBoundingClientRect();f(A,a={left:e,width:t,height:i},a)}),200);function G(e){const t=e?.[0]?.target?.getBoundingClientRect();if(!t)return;const{left:i,width:n,height:s}=t;f(A,a={left:i,width:n,height:s},a)}return e.$$set=e=>{n(26,i=t(t({},i),p(e))),"duration"in e&&n(0,$=e.duration),"buffered"in e&&n(27,w=e.buffered),"current_time"in e&&n(28,b=e.current_time),"video_type"in e&&n(1,y=e.video_type),"actual_live"in e&&n(2,x=e.actual_live),"disable_progress_bar"in e&&n(29,C=e.disable_progress_bar),"disable_forward_rewind"in e&&n(30,E=e.disable_forward_rewind),"preview_width"in e&&n(3,k=e.preview_width),"cuepoints"in e&&n(4,T=e.cuepoints),"bottom_bar_theme"in e&&n(5,L=e.bottom_bar_theme),"$$scope"in e&&n(37,u=e.$$scope)},e.$$.update=()=>{268435461&e.$$.dirty[0]&&n(10,s=x?100:$?b/$*100:0),134217729&e.$$.dirty[0]&&n(15,o=$&&$!==1/0?w/$:0),536870913&e.$$.dirty[0]&&n(14,H=C||$===1/0),268436224&e.$$.dirty[0]|12&e.$$.dirty[1]&&O!==b&&(n(34,O=b),V&&(n(33,V=!1),n(32,R=0)),B||M||K()),1344&e.$$.dirty[0]|6&e.$$.dirty[1]&&n(11,_=M?q:V?R:s),8&e.$$.dirty[0]|49&e.$$.dirty[1]&&n(12,m=di({barRelativePointerMoveX:P,barOffsetLeft:a?.left,playerOffsetLeft:d.left,playerWidth:d.width,previewWidth:k})),1342177408&e.$$.dirty[0]&&(r=E&&S>b)},i=p(i),[$,y,x,k,T,L,q,S,M,B,s,_,m,g,H,o,I,A,function(e){H||(n(8,M=!0),Z(e))},function(e){e.stopPropagation(),H||Z(e)},function(e){H||(Z(e),n(32,R=q),n(33,V=!0),n(8,M=!1),r||h("m-changeProgress",S))},function(){n(9,B=!0)},function(e){M||H||Z(e)},function(){n(9,B=!1),M||K()},function(){H||(n(8,M=!0),document.addEventListener("mousemove",F),document.addEventListener("mouseup",W),h("m-mouseDown"))},function(){H||(h("m-changeProgress",$-5),h("m-backToLive"))},i,w,b,C,E,P,R,V,O,a,d,u,c,function(e){U[e?"unshift":"push"]((()=>{g=e,n(13,g)}))}]}class Ei extends de{constructor(e){super(),le(this,e,Ci,xi,r,{duration:0,buffered:27,current_time:28,video_type:1,actual_live:2,disable_progress_bar:29,disable_forward_rewind:30,preview_width:3,cuepoints:4,bottom_bar_theme:5},hi,[-1,-1])}}function ki(e){v(e,"svelte-1kejtlk",".episode.svelte-1kejtlk{pointer-events:none;height:4px;box-sizing:border-box;padding-right:2px}.episode.svelte-1kejtlk:last-child{padding-right:0}.episodeFill.svelte-1kejtlk{overflow:hidden;border-radius:3px;background:rgba(255, 255, 255, 0.6);width:100%;height:100%;position:relative}.buffered.svelte-1kejtlk,.progress.svelte-1kejtlk,.mouseProgress.svelte-1kejtlk{transform-origin:0% 50%;width:100%;height:100%;position:absolute;background:rgba(255, 255, 255, 0.6);border-radius:3px;backface-visibility:hidden}.buffered.svelte-1kejtlk{transition:transform 0.3s ease-in-out}.preview.svelte-1kejtlk{position:absolute;bottom:12px}")}function Ti(e,t,i){const n=e.slice();return n[29]=t[i],n}function Li(e){let t,i;return{c(){t=y("div"),L(t,"class","buffered svelte-1kejtlk"),L(t,"qa-id",i=`${e[18]["qa-id"]}.episode-${e[29].id}.buffered`),q(t,"transform",`scaleX(${e[11](e[29],e[28])})`)},m(e,i){$(e,t,i)},p(e,n){262400&n[0]&&i!==(i=`${e[18]["qa-id"]}.episode-${e[29].id}.buffered`)&&L(t,"qa-id",i),268435712&n[0]&&q(t,"transform",`scaleX(${e[11](e[29],e[28])})`)},d(e){e&&w(t)}}}function Pi(e){let t,i;return{c(){t=y("div"),L(t,"class","progress svelte-1kejtlk"),L(t,"qa-id",i=`${e[18]["qa-id"]}.episode-${e[29].id}.progress`),q(t,"transform",`scaleX(${e[12](e[29],e[27])})`)},m(e,i){$(e,t,i)},p(e,n){262400&n[0]&&i!==(i=`${e[18]["qa-id"]}.episode-${e[29].id}.progress`)&&L(t,"qa-id",i),134217984&n[0]&&q(t,"transform",`scaleX(${e[12](e[29],e[27])})`)},d(e){e&&w(t)}}}function qi(e){let t;return{c(){t=y("div"),L(t,"class","mouseProgress svelte-1kejtlk"),q(t,"transform",`scaleX(${e[13](e[29],e[26])})`)},m(e,i){$(e,t,i)},p(e,i){67109120&i[0]&&q(t,"transform",`scaleX(${e[13](e[29],e[26])})`)},d(e){e&&w(t)}}}function Si(e){let t,i,n,s,o,a,l=e[28],d=e[27],c=e[26],u=Li(e),h=Pi(e),_=qi(e);return{c(){t=y("div"),i=y("div"),u.c(),n=E(),h.c(),s=E(),_.c(),o=E(),L(i,"class","episodeFill svelte-1kejtlk"),L(t,"class","episode svelte-1kejtlk"),L(t,"qa-id",a=`${e[18]["qa-id"]}.episode-${e[29].id}`),q(t,"width",`${e[29].durationPercents}%`)},m(e,r){$(e,t,r),g(t,i),u.m(i,null),g(i,n),h.m(i,null),g(i,s),_.m(i,null),g(t,o)},p(e,o){268435456&o[0]&&r(l,l=e[28])?(u.d(1),u=Li(e),u.c(),u.m(i,n)):u.p(e,o),134217728&o[0]&&r(d,d=e[27])?(h.d(1),h=Pi(e),h.c(),h.m(i,s)):h.p(e,o),67108864&o[0]&&r(c,c=e[26])?(_.d(1),_=qi(e),_.c(),_.m(i,null)):_.p(e,o),262400&o[0]&&a!==(a=`${e[18]["qa-id"]}.episode-${e[29].id}`)&&L(t,"qa-id",a),256&o[0]&&q(t,"width",`${e[29].durationPercents}%`)},d(e){e&&w(t),u.d(e),h.d(e),_.d(e)}}}function Mi(e){let t,i=e[8],n=[];for(let s=0;s<i.length;s+=1)n[s]=Si(Ti(e,i,s));return{c(){for(let e=0;e<n.length;e+=1)n[e].c();t=k()},m(e,i){for(let t=0;t<n.length;t+=1)n[t].m(e,i);$(e,t,i)},p(e,s){if(470038784&s[0]){let o;for(i=e[8],o=0;o<i.length;o+=1){const r=Ti(e,i,o);n[o]?n[o].p(r,s):(n[o]=Si(r),n[o].c(),n[o].m(t.parentNode,t))}for(;o<n.length;o+=1)n[o].d(1);n.length=i.length}},d(e){b(n,e),e&&w(t)}}}function Bi(e){let t,i;return t=new ri({props:{time:e[25],title:e[17](e[25])?.text,video_type:e[3],"qa-id":`${e[18]["qa-id"]}.preview`}}),t.$on("m-changeWidth",e[10]),{c(){oe(t.$$.fragment)},m(e,n){re(t,e,n),i=!0},p(e,i){const n={};33554432&i[0]&&(n.time=e[25]),33554432&i[0]&&(n.title=e[17](e[25])?.text),8&i[0]&&(n.video_type=e[3]),262144&i[0]&&(n["qa-id"]=`${e[18]["qa-id"]}.preview`),t.$set(n)},i(e){i||(te(t.$$.fragment,e),i=!0)},o(e){ie(t.$$.fragment,e),i=!1},d(e){ae(t,e)}}}function Ri(e){let t,i,n=e[6]&&Bi(e);return{c(){t=y("div"),n&&n.c(),L(t,"slot","preview"),L(t,"class","preview svelte-1kejtlk")},m(e,s){$(e,t,s),n&&n.m(t,null),i=!0},p(e,i){e[6]?n?(n.p(e,i),64&i[0]&&te(n,1)):(n=Bi(e),n.c(),te(n,1),n.m(t,null)):n&&(Q(),ie(n,1,1,(()=>{n=null})),ee())},i(e){i||(te(n),i=!0)},o(e){ie(n),i=!1},d(e){e&&w(t),n&&n.d()}}}function Vi(e){let t,i;return t=new Ei({props:{duration:e[0],buffered:e[1],current_time:e[2],video_type:e[3],disable_progress_bar:e[4],disable_forward_rewind:e[5],preview_width:e[7],"qa-id":`${e[18]["qa-id"]}`,$$slots:{preview:[Ri,({pointerMoveCurrentTime:e})=>({25:e}),({pointerMoveCurrentTime:e})=>[e?33554432:0]],progress:[Mi,({pointerMoveProgressPercent:e,progressPercents:t,bufferedPercents:i})=>({26:e,27:t,28:i}),({pointerMoveProgressPercent:e,progressPercents:t,bufferedPercents:i})=>[(e?67108864:0)|(t?134217728:0)|(i?268435456:0)]]},$$scope:{ctx:e}}}),t.$on("m-mouseDown",e[15]),t.$on("m-mouseUp",e[16]),t.$on("m-changeProgress",e[14]),{c(){oe(t.$$.fragment)},m(e,n){re(t,e,n),i=!0},p(e,i){const n={};1&i[0]&&(n.duration=e[0]),2&i[0]&&(n.buffered=e[1]),4&i[0]&&(n.current_time=e[2]),8&i[0]&&(n.video_type=e[3]),16&i[0]&&(n.disable_progress_bar=e[4]),32&i[0]&&(n.disable_forward_rewind=e[5]),128&i[0]&&(n.preview_width=e[7]),262144&i[0]&&(n["qa-id"]=`${e[18]["qa-id"]}`),503578952&i[0]|2&i[1]&&(n.$$scope={dirty:i,ctx:e}),t.$set(n)},i(e){i||(te(t.$$.fragment,e),i=!0)},o(e){ie(t.$$.fragment,e),i=!1},d(e){ae(t,e)}}}function Di(e,i,n){let s;const o=N();let{duration:r=0}=i,{buffered:a=0}=i,{current_time:d=0}=i,{video_type:c=rt.UNKNOWN}=i,{episodes:u=[]}=i,{episodes_times:h}=i,{episodes_times_map:_}=i,{disable_progress_bar:m=!1}=i,{disable_forward_rewind:f=!1}=i,{show_time_tooltip:g=!0}=i;const v=Pe("progressBarRect");l(e,v,(e=>n(23,s=e)));let $=!1,w=0,b=[];return j((()=>{n(22,$=!0)})),e.$$set=e=>{n(18,i=t(t({},i),p(e))),"duration"in e&&n(0,r=e.duration),"buffered"in e&&n(1,a=e.buffered),"current_time"in e&&n(2,d=e.current_time),"video_type"in e&&n(3,c=e.video_type),"episodes"in e&&n(19,u=e.episodes),"episodes_times"in e&&n(20,h=e.episodes_times),"episodes_times_map"in e&&n(21,_=e.episodes_times_map),"disable_progress_bar"in e&&n(4,m=e.disable_progress_bar),"disable_forward_rewind"in e&&n(5,f=e.disable_forward_rewind),"show_time_tooltip"in e&&n(6,g=e.show_time_tooltip)},e.$$.update=()=>{if(13107201&e.$$.dirty[0])if(r&&$){let e=u.map(((e,t,i)=>{const n=100*e.time/r,o=t<i.length-1?i[t+1].time-e.time:r-e.time,a=100*o/r,l=a*s.width/100;return{...e,offsetPercents:n,duration:o,durationPercents:a,width:l}}));e=e.reduce(((e,t)=>{if(e.length>0){const i=e[e.length-1];if(t.width<=10||i.width<=10)return i.collapsed.push(t),i.duration+=t.duration,i.durationPercents+=t.durationPercents,i.width+=t.width,e}return e.push({...t,collapsed:[]}),e}),[]),n(8,b=e)}else n(8,b=[])},i=p(i),[r,a,d,c,m,f,g,w,b,v,function({detail:e}){n(7,w=e)},function(e,t){if(t>=e.offsetPercents+e.durationPercents)return 1;const i=t-e.offsetPercents;return r/e.duration*i/100},function(e,t){if(t>=e.offsetPercents+e.durationPercents)return 1;const i=t-e.offsetPercents;return r/e.duration*i/100},function(e,t){if(t>=e.offsetPercents+e.durationPercents)return 1;const i=t-e.offsetPercents;return r/e.duration*i/100},function(e){o("m-changeProgress",e.detail)},function(){o("m-mouseDown")},function(){o("m-mouseUp")},function(e){return _?.get(ai(h,e))},i,u,h,_,$,s]}class ji extends de{constructor(e){super(),le(this,e,Di,Vi,r,{duration:0,buffered:1,current_time:2,video_type:3,episodes:19,episodes_times:20,episodes_times_map:21,disable_progress_bar:4,disable_forward_rewind:5,show_time_tooltip:6},ki,[-1,-1])}}function Ni(t){let i,n;return{c(){i=x("svg"),n=x("path"),L(n,"d","M14 8C14 11.3137 11.3137 14 8 14C4.68629 14 2 11.3137 2 8C2 4.68629 4.68629 2 8 2C11.3137 2 14 4.68629 14 8ZM8 9C8.55229 9 9 8.55228 9 8V5C9 4.44772 8.55229 4 8 4C7.44772 4 7 4.44772 7 5V8C7 8.55228 7.44772 9 8 9ZM7 11C7 11.5523 7.44772 12 8 12C8.55228 12 9 11.5523 9 11C9 10.4477 8.55228 10 8 10C7.44772 10 7 10.4477 7 11Z"),L(n,"fill","white"),L(i,"width","16"),L(i,"height","16"),L(i,"viewBox","0 0 16 16"),L(i,"fill","none"),L(i,"xmlns","http://www.w3.org/2000/svg")},m(e,t){$(e,i,t),g(i,n)},p:e,i:e,o:e,d(e){e&&w(i)}}}class Oi extends de{constructor(e){super(),le(this,e,null,Ni,r,{})}}function Ui(e){v(e,"svelte-8443y7",".root.svelte-8443y7.svelte-8443y7{width:100%;user-select:none}.cuepointMark.svelte-8443y7.svelte-8443y7{position:absolute;top:50%;margin-top:-4px;margin-left:-1px;width:2px;height:8px;background:rgb(245, 247, 250);border-radius:8px;box-shadow:0 6px 16px 2px rgba(0, 26, 52, 0.16), 0 0 0 1px rgba(0, 26, 52, 0.05);cursor:pointer}.cuepointIcon.svelte-8443y7.svelte-8443y7{position:absolute;bottom:10px;margin-left:-8px;cursor:pointer}.cuepointIconActive.svelte-8443y7.svelte-8443y7{transform:scale(1.5);transform-origin:50% 90%}.cuepointTooltip.svelte-8443y7.svelte-8443y7{position:absolute;bottom:32px;width:var(--cuepointTooltipWidthPx);color:rgb(245, 247, 250);text-align:center;font-size:15px;font-weight:600;line-height:24px;text-shadow:0 0 3px rgba(0, 0, 0, 0.5)}.cuepointTooltip.svelte-8443y7>div.svelte-8443y7{padding:0 3px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}")}function Ii(e,t,i){const n=e.slice();return n[23]=t[i],n}function Ai(e,t,i){const n=e.slice();return n[23]=t[i],n}function Hi(e){let t,i,n,o,r,a,l,d,c,u;function h(){return e[18](e[23])}function _(){return e[19](e[23])}function p(){return e[20](e[23])}return n=new Oi({}),{c(){t=y("div"),i=y("div"),oe(n.$$.fragment),o=E(),r=y("div"),L(i,"class","cuepointIcon svelte-8443y7"),S(i,"cuepointIconActive",e[0]&&e[0].id===e[23].id),q(i,"left",`${e[23].leftPercent}%`),L(r,"class","cuepointMark svelte-8443y7"),L(r,"qa-id",a=`${e[9]["qa-id"]}.cuepoint-${e[23].id}.mark`),q(r,"left",`${e[23].leftPercent}%`),L(t,"qa-id",l=`${e[9]["qa-id"]}.cuepoint-${e[23].id}`)},m(s,a){$(s,t,a),g(t,i),re(n,i,null),g(t,o),g(t,r),d=!0,c||(u=[T(t,"touchstart",h,{passive:!0}),T(t,"touchend",e[7],{passive:!0}),T(t,"mouseenter",_),T(t,"mouseleave",e[7]),T(t,"mouseup",e[7]),T(t,"click",p)],c=!0)},p(n,s){e=n,(!d||3&s)&&S(i,"cuepointIconActive",e[0]&&e[0].id===e[23].id),2&s&&q(i,"left",`${e[23].leftPercent}%`),(!d||514&s&&a!==(a=`${e[9]["qa-id"]}.cuepoint-${e[23].id}.mark`))&&L(r,"qa-id",a),2&s&&q(r,"left",`${e[23].leftPercent}%`),(!d||514&s&&l!==(l=`${e[9]["qa-id"]}.cuepoint-${e[23].id}`))&&L(t,"qa-id",l)},i(e){d||(te(n.$$.fragment,e),d=!0)},o(e){ie(n.$$.fragment,e),d=!1},d(e){e&&w(t),ae(n),c=!1,s(u)}}}function zi(e){let t,i,n,s,o,r,a,l,d,c,u=e[0].text+"",h=zt(e[0].time)+"",_=e[0].collapsed,p=[];for(let m=0;m<_.length;m+=1)p[m]=Fi(Ii(e,_,m));return{c(){t=y("div"),i=y("div"),n=C(u),o=E();for(let e=0;e<p.length;e+=1)p[e].c();r=E(),a=y("div"),l=C(h),L(i,"qa-id",s=`${e[9]["qa-id"]}.active-cuepoint-tooltip.text`),L(i,"class","svelte-8443y7"),L(a,"qa-id",d=`${e[9]["qa-id"]}.active-cuepoint-tooltip.time`),L(a,"class","svelte-8443y7"),L(t,"class","cuepointTooltip svelte-8443y7"),L(t,"qa-id",c=`${e[9]["qa-id"]}.active-cuepoint-tooltip`),q(t,"left",`${e[2]}px`)},m(e,s){$(e,t,s),g(t,i),g(i,n),g(t,o);for(let i=0;i<p.length;i+=1)p[i].m(t,null);g(t,r),g(t,a),g(a,l)},p(e,o){if(1&o&&u!==(u=e[0].text+"")&&P(n,u),512&o&&s!==(s=`${e[9]["qa-id"]}.active-cuepoint-tooltip.text`)&&L(i,"qa-id",s),1&o){let i;for(_=e[0].collapsed,i=0;i<_.length;i+=1){const n=Ii(e,_,i);p[i]?p[i].p(n,o):(p[i]=Fi(n),p[i].c(),p[i].m(t,r))}for(;i<p.length;i+=1)p[i].d(1);p.length=_.length}1&o&&h!==(h=zt(e[0].time)+"")&&P(l,h),512&o&&d!==(d=`${e[9]["qa-id"]}.active-cuepoint-tooltip.time`)&&L(a,"qa-id",d),512&o&&c!==(c=`${e[9]["qa-id"]}.active-cuepoint-tooltip`)&&L(t,"qa-id",c),4&o&&q(t,"left",`${e[2]}px`)},d(e){e&&w(t),b(p,e)}}}function Fi(e){let t,i,n=e[23].text+"";return{c(){t=y("div"),i=C(n),L(t,"class","svelte-8443y7")},m(e,n){$(e,t,n),g(t,i)},p(e,t){1&t&&n!==(n=e[23].text+"")&&P(i,n)},d(e){e&&w(t)}}}function Wi(e){let t,i,n,s,o=e[1],r=[];for(let d=0;d<o.length;d+=1)r[d]=Hi(Ai(e,o,d));const a=e=>ie(r[e],1,1,(()=>{r[e]=null}));let l=e[0]&&zi(e);return{c(){t=y("div");for(let e=0;e<r.length;e+=1)r[e].c();i=E(),l&&l.c(),L(t,"class","root svelte-8443y7"),q(t,"--cuepointTooltipWidthPx",Zi),L(t,"qa-id",n=`${e[9]["qa-id"]}`)},m(n,o){$(n,t,o);for(let e=0;e<r.length;e+=1)r[e].m(t,null);g(t,i),l&&l.m(t,null),e[21](t),s=!0},p(e,[d]){if(963&d){let n;for(o=e[1],n=0;n<o.length;n+=1){const s=Ai(e,o,n);r[n]?(r[n].p(s,d),te(r[n],1)):(r[n]=Hi(s),r[n].c(),te(r[n],1),r[n].m(t,i))}for(Q(),n=o.length;n<r.length;n+=1)a(n);ee()}e[0]?l?l.p(e,d):(l=zi(e),l.c(),l.m(t,null)):l&&(l.d(1),l=null),(!s||512&d&&n!==(n=`${e[9]["qa-id"]}`))&&L(t,"qa-id",n)},i(e){if(!s){for(let e=0;e<o.length;e+=1)te(r[e]);s=!0}},o(e){r=r.filter(Boolean);for(let t=0;t<r.length;t+=1)ie(r[t]);s=!1},d(i){i&&w(t),b(r,i),l&&l.d(),e[21](null)}}}const Zi="250px";function Ki(e,i,n){let s,o,r,{duration:a=0}=i,{fullscreen_active:d=!1}=i,{cuepoints:c=[]}=i,{current_cuepoint:u=null}=i;const h=Pe("progressBarRect");l(e,h,(e=>n(17,r=e)));const _=Pe("playerRect");l(e,_,(e=>n(16,o=e)));let m,f,g,v=null,$=!1;const w=N();function b(e){n(14,v=m.find((t=>t.id===e)))}function y(e){const t=m.find((t=>t.id===e));w("m-clickCuepoint",t)}return j((()=>{n(15,$=!0)})),e.$$set=e=>{n(9,i=t(t({},i),p(e))),"duration"in e&&n(10,a=e.duration),"fullscreen_active"in e&&n(11,d=e.fullscreen_active),"cuepoints"in e&&n(12,c=e.cuepoints),"current_cuepoint"in e&&n(13,u=e.current_cuepoint)},e.$$.update=()=>{if(168960&e.$$.dirty)if(a&&a!==1/0&&$){const e=r.width;let t=c.map((t=>{const i=100*t.time/a,n=i*e/100;return{...t,x:n,leftPercent:i}}));t=t.reduce(((e,t)=>{if(e.length>0){const i=e[e.length-1];if(t.x-i.x<=5)return i.collapsed.push(t),e}return e.push({...t,collapsed:[]}),e}),[]),n(1,m=t)}else n(1,m=[]);if(26624&e.$$.dirty&&n(0,s=d?v:v||u),197633&e.$$.dirty&&r){const e=100*(s?.time||0)/a,{left:t,width:i}=r;n(2,f=di({barRelativePointerMoveX:e*i/100,barOffsetLeft:t,playerOffsetLeft:o?.left,playerWidth:o?.width,previewWidth:parseInt(Zi)}))}},i=p(i),[s,m,f,g,h,_,b,function(){n(14,v=null)},y,i,a,d,c,u,v,$,o,r,e=>b(e.id),e=>b(e.id),e=>y(e.id),function(e){U[e?"unshift":"push"]((()=>{g=e,n(3,g)}))}]}class Xi extends de{constructor(e){super(),le(this,e,Ki,Wi,r,{duration:10,fullscreen_active:11,cuepoints:12,current_cuepoint:13},Ui)}}function Gi(e){v(e,"svelte-a3g5sr",".bar.svelte-a3g5sr.svelte-a3g5sr,.buffered.svelte-a3g5sr.svelte-a3g5sr,.progress.svelte-a3g5sr.svelte-a3g5sr,.mouseProgress.svelte-a3g5sr.svelte-a3g5sr{position:absolute;height:var(--trackThicknessPx);left:0;top:50%;margin-top:calc(var(--trackThicknessPx) / -2);border-radius:2px;pointer-events:none}.bar.svelte-a3g5sr.svelte-a3g5sr{width:100%;background:rgb(245, 247, 250);opacity:0.4}.buffered.svelte-a3g5sr.svelte-a3g5sr{transform-origin:0% 50%;transition:transform 0.3s ease-in-out;width:100%;background:rgba(255, 255, 255, 0.6)}.progress.svelte-a3g5sr.svelte-a3g5sr{background-color:rgb(245, 247, 250)}.mouseProgress.svelte-a3g5sr.svelte-a3g5sr{background-color:rgba(255, 255, 255, 0.6)}.actualLive.svelte-a3g5sr .bar.svelte-a3g5sr,.actualLive.svelte-a3g5sr .progress.svelte-a3g5sr,.actualLive.svelte-a3g5sr .mouseProgress.svelte-a3g5sr{background-color:rgb(211, 0, 61)}.preview.svelte-a3g5sr.svelte-a3g5sr{position:absolute;bottom:2px}.narrow.svelte-a3g5sr .bar.svelte-a3g5sr,.narrow.svelte-a3g5sr .buffered.svelte-a3g5sr,.narrow.svelte-a3g5sr .progress.svelte-a3g5sr,.narrow.svelte-a3g5sr .mouseProgress.svelte-a3g5sr{height:2px}")}function Yi(e){let t,i,n,s,o,r,a,l,d,c,u,h;return{c(){t=y("div"),i=y("div"),s=E(),o=y("div"),a=E(),l=y("div"),c=E(),u=y("div"),L(i,"class","bar svelte-a3g5sr"),L(i,"qa-id",n=`${e[19]["qa-id"]}.bar`),L(o,"class","buffered svelte-a3g5sr"),L(o,"qa-id",r=`${e[19]["qa-id"]}.buffered`),q(o,"transform",`scaleX(${e[22]})`),L(l,"class","progress svelte-a3g5sr"),L(l,"qa-id",d=`${e[19]["qa-id"]}.progress`),q(l,"width",`${e[23]}%`),L(u,"class","mouseProgress svelte-a3g5sr"),q(u,"width",`${e[25]}%`),L(t,"slot","progress"),q(t,"--trackThicknessPx",nn+"px"),L(t,"class",h=m(`${e[10]}`)+" svelte-a3g5sr"),S(t,"actualLive",e[24])},m(e,n){$(e,t,n),g(t,i),g(t,s),g(t,o),g(t,a),g(t,l),g(t,c),g(t,u)},p(e,s){524288&s&&n!==(n=`${e[19]["qa-id"]}.bar`)&&L(i,"qa-id",n),524288&s&&r!==(r=`${e[19]["qa-id"]}.buffered`)&&L(o,"qa-id",r),4194304&s&&q(o,"transform",`scaleX(${e[22]})`),524288&s&&d!==(d=`${e[19]["qa-id"]}.progress`)&&L(l,"qa-id",d),8388608&s&&q(l,"width",`${e[23]}%`),33554432&s&&q(u,"width",`${e[25]}%`),1024&s&&h!==(h=m(`${e[10]}`)+" svelte-a3g5sr")&&L(t,"class",h),16778240&s&&S(t,"actualLive",e[24])},d(e){e&&w(t)}}}function Ji(e){let t,i;return t=new ri({props:{time:e[21],video_type:e[3],"qa-id":`${e[19]["qa-id"]}.preview`}}),t.$on("m-changeWidth",e[13]),{c(){oe(t.$$.fragment)},m(e,n){re(t,e,n),i=!0},p(e,i){const n={};2097152&i&&(n.time=e[21]),8&i&&(n.video_type=e[3]),524288&i&&(n["qa-id"]=`${e[19]["qa-id"]}.preview`),t.$set(n)},i(e){i||(te(t.$$.fragment,e),i=!0)},o(e){ie(t.$$.fragment,e),i=!1},d(e){ae(t,e)}}}function Qi(e){let t,i,n=e[11]&&Ji(e);return{c(){t=y("div"),n&&n.c(),L(t,"slot","preview"),L(t,"class","preview svelte-a3g5sr")},m(e,s){$(e,t,s),n&&n.m(t,null),i=!0},p(e,i){e[11]?n?(n.p(e,i),2048&i&&te(n,1)):(n=Ji(e),n.c(),te(n,1),n.m(t,null)):n&&(Q(),ie(n,1,1,(()=>{n=null})),ee())},i(e){i||(te(n),i=!0)},o(e){ie(n),i=!1},d(e){e&&w(t),n&&n.d()}}}function en(e){let t,i,n;return i=new Xi({props:{duration:e[0],fullscreen_active:e[7],cuepoints:e[8],current_cuepoint:e[9],"qa-id":`${e[19]["qa-id"]}.cuepoints`}}),i.$on("m-clickCuepoint",e[18]),{c(){t=y("div"),oe(i.$$.fragment),L(t,"slot","cuepoints")},m(e,s){$(e,t,s),re(i,t,null),n=!0},p(e,t){const n={};1&t&&(n.duration=e[0]),128&t&&(n.fullscreen_active=e[7]),256&t&&(n.cuepoints=e[8]),512&t&&(n.current_cuepoint=e[9]),524288&t&&(n["qa-id"]=`${e[19]["qa-id"]}.cuepoints`),i.$set(n)},i(e){n||(te(i.$$.fragment,e),n=!0)},o(e){ie(i.$$.fragment,e),n=!1},d(e){e&&w(t),ae(i)}}}function tn(e){let t,i;return t=new Ei({props:{duration:e[0],buffered:e[1],current_time:e[2],video_type:e[3],actual_live:e[4],disable_progress_bar:e[5],disable_forward_rewind:e[6],preview_width:e[12],cuepoints:e[8],bottom_bar_theme:e[10],"qa-id":`${e[19]["qa-id"]}`,$$slots:{cuepoints:[en],preview:[Qi,({pointerMoveCurrentTime:e})=>({21:e}),({pointerMoveCurrentTime:e})=>e?2097152:0],progress:[Yi,({bufferedPercents:e,progressPercents:t,actualLive:i,pointerMoveProgressPercent:n})=>({22:e,23:t,24:i,25:n}),({bufferedPercents:e,progressPercents:t,actualLive:i,pointerMoveProgressPercent:n})=>(e?4194304:0)|(t?8388608:0)|(i?16777216:0)|(n?33554432:0)]},$$scope:{ctx:e}}}),t.$on("m-mouseDown",e[16]),t.$on("m-mouseUp",e[17]),t.$on("m-changeProgress",e[14]),t.$on("m-backToLive",e[15]),{c(){oe(t.$$.fragment)},m(e,n){re(t,e,n),i=!0},p(e,[i]){const n={};1&i&&(n.duration=e[0]),2&i&&(n.buffered=e[1]),4&i&&(n.current_time=e[2]),8&i&&(n.video_type=e[3]),16&i&&(n.actual_live=e[4]),32&i&&(n.disable_progress_bar=e[5]),64&i&&(n.disable_forward_rewind=e[6]),4096&i&&(n.preview_width=e[12]),256&i&&(n.cuepoints=e[8]),1024&i&&(n.bottom_bar_theme=e[10]),524288&i&&(n["qa-id"]=`${e[19]["qa-id"]}`),132648841&i&&(n.$$scope={dirty:i,ctx:e}),t.$set(n)},i(e){i||(te(t.$$.fragment,e),i=!0)},o(e){ie(t.$$.fragment,e),i=!1},d(e){ae(t,e)}}}const nn=4;function sn(e,i,n){const s=N();let{duration:o=0}=i,{buffered:r=0}=i,{current_time:a=0}=i,{video_type:l=rt.UNKNOWN}=i,{actual_live:d=!1}=i,{disable_progress_bar:c=!1}=i,{disable_forward_rewind:u=!1}=i,{fullscreen_active:h=!1}=i,{cuepoints:_=[]}=i,{current_cuepoint:m=null}=i,{bottom_bar_theme:f="default"}=i,{show_time_tooltip:g=!0}=i,v=0;return e.$$set=e=>{n(19,i=t(t({},i),p(e))),"duration"in e&&n(0,o=e.duration),"buffered"in e&&n(1,r=e.buffered),"current_time"in e&&n(2,a=e.current_time),"video_type"in e&&n(3,l=e.video_type),"actual_live"in e&&n(4,d=e.actual_live),"disable_progress_bar"in e&&n(5,c=e.disable_progress_bar),"disable_forward_rewind"in e&&n(6,u=e.disable_forward_rewind),"fullscreen_active"in e&&n(7,h=e.fullscreen_active),"cuepoints"in e&&n(8,_=e.cuepoints),"current_cuepoint"in e&&n(9,m=e.current_cuepoint),"bottom_bar_theme"in e&&n(10,f=e.bottom_bar_theme),"show_time_tooltip"in e&&n(11,g=e.show_time_tooltip)},i=p(i),[o,r,a,l,d,c,u,h,_,m,f,g,v,function({detail:e}){n(12,v=e)},function(e){s("m-changeProgress",e.detail)},function(){s("m-backToLive")},function(){s("m-mouseDown")},function(){s("m-mouseUp")},function(e){s("m-changeProgress",e.detail.time),s("m-clickCuepoint",e.detail)},i]}class on extends de{constructor(e){super(),le(this,e,sn,tn,r,{duration:0,buffered:1,current_time:2,video_type:3,actual_live:4,disable_progress_bar:5,disable_forward_rewind:6,fullscreen_active:7,cuepoints:8,current_cuepoint:9,bottom_bar_theme:10,show_time_tooltip:11},Gi)}}function rn(e){v(e,"svelte-13mbb6n",".root.svelte-13mbb6n{width:30vw;padding-right:16px;box-sizing:border-box;color:rgba(255, 255, 255, 0.95);font-weight:600;font-size:15px;user-select:none;display:flex;overflow:hidden}.clickableContainer.svelte-13mbb6n{overflow:hidden}.text.svelte-13mbb6n{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}")}function an(t){let i,n,s,o,r,a=(t[0]&&t[0].text)+"";return{c(){i=y("div"),n=y("div"),s=y("div"),o=C(a),L(s,"class","text svelte-13mbb6n"),L(n,"class","clickableContainer svelte-13mbb6n"),L(i,"class","root svelte-13mbb6n"),L(i,"qa-id",r=`${t[1]["qa-id"]}`)},m(e,t){$(e,i,t),g(i,n),g(n,s),g(s,o)},p(e,[t]){1&t&&a!==(a=(e[0]&&e[0].text)+"")&&P(o,a),2&t&&r!==(r=`${e[1]["qa-id"]}`)&&L(i,"qa-id",r)},i:e,o:e,d(e){e&&w(i)}}}function ln(e,i,n){let{cuepoint:s=null}=i;return e.$$set=e=>{n(1,i=t(t({},i),p(e))),"cuepoint"in e&&n(0,s=e.cuepoint)},i=p(i),[s,i]}class dn extends de{constructor(e){super(),le(this,e,ln,an,r,{cuepoint:0},rn)}}function cn(e,t){return t?`${e["qa-id"]}.${t}`:e["qa-id"]}function un(e){v(e,"svelte-igjsx2",".bottomBar.svelte-igjsx2.svelte-igjsx2{display:flex;flex-direction:column;justify-content:center;gap:18px;box-sizing:border-box;padding:12px 24px 17px 24px;height:88px;background:linear-gradient(180deg, rgba(0, 0, 0, 0) 0%, rgba(0, 0, 0, 0.7) 100%);width:100%;-webkit-user-select:none;user-select:none}.bottomBar.narrow.svelte-igjsx2.svelte-igjsx2{gap:8px;padding:16px;height:64px}.oneLineControls.bottomBar.svelte-igjsx2.svelte-igjsx2{height:32px !important;padding:0 9px}.oneLineControls.svelte-igjsx2 .progressBar.svelte-igjsx2{flex:1 1 auto}.controls.svelte-igjsx2.svelte-igjsx2{display:flex;justify-content:space-between;gap:18px;align-items:center}.leftControlsBlock.svelte-igjsx2.svelte-igjsx2{display:flex;gap:18px;align-items:center}.middleControlsBlock.svelte-igjsx2.svelte-igjsx2{flex-grow:1;display:flex;align-items:center;overflow:hidden}.rightControlsBlock.svelte-igjsx2.svelte-igjsx2{display:flex;gap:18px;align-items:center}.controls.narrow.svelte-igjsx2.svelte-igjsx2,.controls.narrow.svelte-igjsx2 .rightControlsBlock.svelte-igjsx2,.controls.narrow.svelte-igjsx2 .leftControlsBlock.svelte-igjsx2{gap:10px}")}const hn=e=>({}),_n=e=>({class:"rightControlsBlock svelte-igjsx2"}),pn=e=>({}),mn=e=>({class:"middleControlsBlock svelte-igjsx2"}),fn=e=>({showCurrentTime:8&e,showDuration:16&e}),gn=e=>({showCurrentTime:e[3],showDuration:e[4]}),vn=e=>({}),$n=e=>({class:"leftControlsBlock svelte-igjsx2"}),wn=e=>({}),bn=e=>({class:"progressBar svelte-igjsx2"}),yn=e=>({}),xn=e=>({class:"rightControlsBlock svelte-igjsx2"}),Cn=e=>({}),En=e=>({class:"progressBar svelte-igjsx2"}),kn=e=>({showCurrentTime:8&e,showDuration:16&e}),Tn=e=>({showCurrentTime:e[3],showDuration:e[4]}),Ln=e=>({}),Pn=e=>({class:"leftControlsBlock svelte-igjsx2"});function qn(e){let t,i,n,s,o,r,a;const l=e[12].progressBar,c=d(l,e,e[11],bn),p=e[12].leftControlsBlock,f=d(p,e,e[11],$n),v=e[12].time,b=d(v,e,e[11],gn),x=e[12].middleControlsBlock,C=d(x,e,e[11],mn),k=e[12].rightControlsBlock,T=d(k,e,e[11],_n);return{c(){c&&c.c(),t=E(),i=y("div"),f&&f.c(),n=E(),b&&b.c(),s=E(),C&&C.c(),o=E(),T&&T.c(),L(i,"class",r=m(`controls ${e[6]&&"narrow"}`)+" svelte-igjsx2")},m(e,r){c&&c.m(e,r),$(e,t,r),$(e,i,r),f&&f.m(i,null),g(i,n),b&&b.m(i,null),g(i,s),C&&C.m(i,null),g(i,o),T&&T.m(i,null),a=!0},p(e,t){c&&c.p&&(!a||2048&t)&&h(c,l,e,e[11],a?u(l,e[11],t,wn):_(e[11]),bn),f&&f.p&&(!a||2048&t)&&h(f,p,e,e[11],a?u(p,e[11],t,vn):_(e[11]),$n),b&&b.p&&(!a||2072&t)&&h(b,v,e,e[11],a?u(v,e[11],t,fn):_(e[11]),gn),C&&C.p&&(!a||2048&t)&&h(C,x,e,e[11],a?u(x,e[11],t,pn):_(e[11]),mn),T&&T.p&&(!a||2048&t)&&h(T,k,e,e[11],a?u(k,e[11],t,hn):_(e[11]),_n),(!a||64&t&&r!==(r=m(`controls ${e[6]&&"narrow"}`)+" svelte-igjsx2"))&&L(i,"class",r)},i(e){a||(te(c,e),te(f,e),te(b,e),te(C,e),te(T,e),a=!0)},o(e){ie(c,e),ie(f,e),ie(b,e),ie(C,e),ie(T,e),a=!1},d(e){c&&c.d(e),e&&w(t),e&&w(i),f&&f.d(e),b&&b.d(e),C&&C.d(e),T&&T.d(e)}}}function Sn(e){let t,i,n,s,o;const r=e[12].leftControlsBlock,a=d(r,e,e[11],Pn),l=e[12].time,c=d(l,e,e[11],Tn),p=e[12].progressBar,m=d(p,e,e[11],En),f=e[12].rightControlsBlock,v=d(f,e,e[11],xn);return{c(){t=y("div"),a&&a.c(),i=E(),c&&c.c(),n=E(),m&&m.c(),s=E(),v&&v.c(),L(t,"class","controls svelte-igjsx2")},m(e,r){$(e,t,r),a&&a.m(t,null),g(t,i),c&&c.m(t,null),g(t,n),m&&m.m(t,null),g(t,s),v&&v.m(t,null),o=!0},p(e,t){a&&a.p&&(!o||2048&t)&&h(a,r,e,e[11],o?u(r,e[11],t,Ln):_(e[11]),Pn),c&&c.p&&(!o||2072&t)&&h(c,l,e,e[11],o?u(l,e[11],t,kn):_(e[11]),Tn),m&&m.p&&(!o||2048&t)&&h(m,p,e,e[11],o?u(p,e[11],t,Cn):_(e[11]),En),v&&v.p&&(!o||2048&t)&&h(v,f,e,e[11],o?u(f,e[11],t,yn):_(e[11]),xn)},i(e){o||(te(a,e),te(c,e),te(m,e),te(v,e),o=!0)},o(e){ie(a,e),ie(c,e),ie(m,e),ie(v,e),o=!1},d(e){e&&w(t),a&&a.d(e),c&&c.d(e),m&&m.d(e),v&&v.d(e)}}}function Mn(e){let t,i,n,s,o,r;const a=[Sn,qn],l=[];function d(e,t){return e[0]?0:1}return i=d(e),n=l[i]=a[i](e),{c(){t=y("div"),n.c(),L(t,"class",s=m(`bottomBar ${e[1]} ${e[2]} ${e[6]&&"narrow"}`)+" svelte-igjsx2"),L(t,"style",e[5]),L(t,"qa-id",o=cn(e[8])),S(t,"oneLineControls",e[0])},m(e,n){$(e,t,n),l[i].m(t,null),r=!0},p(e,[c]){let u=i;i=d(e),i===u?l[i].p(e,c):(Q(),ie(l[u],1,1,(()=>{l[u]=null})),ee(),n=l[i],n?n.p(e,c):(n=l[i]=a[i](e),n.c()),te(n,1),n.m(t,null)),(!r||70&c&&s!==(s=m(`bottomBar ${e[1]} ${e[2]} ${e[6]&&"narrow"}`)+" svelte-igjsx2"))&&L(t,"class",s),(!r||32&c)&&L(t,"style",e[5]),(!r||256&c&&o!==(o=cn(e[8])))&&L(t,"qa-id",o),(!r||71&c)&&S(t,"oneLineControls",e[0])},i(e){r||(te(n),r=!0)},o(e){ie(n),r=!1},d(e){e&&w(t),l[i].d()}}}function Bn(e,i,n){let s,o,{$$slots:r={},$$scope:a}=i,{one_line_controls:d=!1}=i,{custom_class_for_bottom_bar:c}=i,{bottom_bar_theme:u="default"}=i,{show_current_time:h}=i,{show_duration:_}=i,{should_render_episodes:m}=i,{bottom_bar_inline_styles:f}=i;const g=Pe("playerRect");return l(e,g,(e=>n(10,o=e))),e.$$set=e=>{n(8,i=t(t({},i),p(e))),"one_line_controls"in e&&n(0,d=e.one_line_controls),"custom_class_for_bottom_bar"in e&&n(1,c=e.custom_class_for_bottom_bar),"bottom_bar_theme"in e&&n(2,u=e.bottom_bar_theme),"show_current_time"in e&&n(3,h=e.show_current_time),"show_duration"in e&&n(4,_=e.show_duration),"should_render_episodes"in e&&n(9,m=e.should_render_episodes),"bottom_bar_inline_styles"in e&&n(5,f=e.bottom_bar_inline_styles),"$$scope"in e&&n(11,a=e.$$scope)},e.$$.update=()=>{1536&e.$$.dirty&&n(6,s=o.width<420&&m)},i=p(i),[d,c,u,h,_,f,s,g,i,m,o,a,r]}class Rn extends de{constructor(e){super(),le(this,e,Bn,Mn,r,{one_line_controls:0,custom_class_for_bottom_bar:1,bottom_bar_theme:2,show_current_time:3,show_duration:4,should_render_episodes:9,bottom_bar_inline_styles:5},un)}}function Vn(e){v(e,"svelte-1ihuovj",".control.svelte-1ihuovj{cursor:pointer;height:24px}.control.narrow.svelte-1ihuovj{width:16px;height:16px}.middleControlsBlock.narrow.svelte-1ihuovj{display:none}")}function Dn(e){let t,i,n,s;const o=[Nn,jn],r=[];function a(e,t){return e[36]?0:1}return t=a(e),i=r[t]=o[t](e),{c(){i.c(),n=k()},m(e,i){r[t].m(e,i),$(e,n,i),s=!0},p(e,s){let l=t;t=a(e),t===l?r[t].p(e,s):(Q(),ie(r[l],1,1,(()=>{r[l]=null})),ee(),i=r[t],i?i.p(e,s):(i=r[t]=o[t](e),i.c()),te(i,1),i.m(n.parentNode,n))},i(e){s||(te(i),s=!0)},o(e){ie(i),s=!1},d(e){r[t].d(e),e&&w(n)}}}function jn(e){let t,i;return t=new on({props:{duration:e[1],buffered:e[3],current_time:e[2],video_type:e[10],actual_live:e[11],cuepoints:e[33],fullscreen_active:e[12],current_cuepoint:e[34],disable_progress_bar:e[27],disable_forward_rewind:e[28],bottom_bar_theme:e[30],show_time_tooltip:e[26],"qa-id":cn(e[55],"progress-bar")}}),t.$on("m-changeProgress",e[46]),t.$on("m-mouseDown",e[47]),t.$on("m-mouseUp",e[48]),t.$on("m-backToLive",e[50]),{c(){oe(t.$$.fragment)},m(e,n){re(t,e,n),i=!0},p(e,i){const n={};2&i[0]&&(n.duration=e[1]),8&i[0]&&(n.buffered=e[3]),4&i[0]&&(n.current_time=e[2]),1024&i[0]&&(n.video_type=e[10]),2048&i[0]&&(n.actual_live=e[11]),4&i[1]&&(n.cuepoints=e[33]),4096&i[0]&&(n.fullscreen_active=e[12]),8&i[1]&&(n.current_cuepoint=e[34]),134217728&i[0]&&(n.disable_progress_bar=e[27]),268435456&i[0]&&(n.disable_forward_rewind=e[28]),1073741824&i[0]&&(n.bottom_bar_theme=e[30]),67108864&i[0]&&(n.show_time_tooltip=e[26]),16777216&i[1]&&(n["qa-id"]=cn(e[55],"progress-bar")),t.$set(n)},i(e){i||(te(t.$$.fragment,e),i=!0)},o(e){ie(t.$$.fragment,e),i=!1},d(e){ae(t,e)}}}function Nn(e){let t,i;return t=new ji({props:{duration:e[1],current_time:e[2],buffered:e[3],video_type:e[10],actual_live:e[11],episodes:e[14],episodes_times:e[16],episodes_times_map:e[17],disable_progress_bar:e[27],disable_forward_rewind:e[28],show_time_tooltip:e[26],"qa-id":cn(e[55],"progress-bar")}}),t.$on("m-changeProgress",e[46]),t.$on("m-mouseDown",e[47]),t.$on("m-mouseUp",e[48]),{c(){oe(t.$$.fragment)},m(e,n){re(t,e,n),i=!0},p(e,i){const n={};2&i[0]&&(n.duration=e[1]),4&i[0]&&(n.current_time=e[2]),8&i[0]&&(n.buffered=e[3]),1024&i[0]&&(n.video_type=e[10]),2048&i[0]&&(n.actual_live=e[11]),16384&i[0]&&(n.episodes=e[14]),65536&i[0]&&(n.episodes_times=e[16]),131072&i[0]&&(n.episodes_times_map=e[17]),134217728&i[0]&&(n.disable_progress_bar=e[27]),268435456&i[0]&&(n.disable_forward_rewind=e[28]),67108864&i[0]&&(n.show_time_tooltip=e[26]),16777216&i[1]&&(n["qa-id"]=cn(e[55],"progress-bar")),t.$set(n)},i(e){i||(te(t.$$.fragment,e),i=!0)},o(e){ie(t.$$.fragment,e),i=!1},d(e){ae(t,e)}}}function On(e){let t,i,n,s=e[22]&&Dn(e);return{c(){t=y("div"),s&&s.c(),L(t,"slot","progressBar"),L(t,"class",i=m(`${e[60]} ${e[30]}`)+" svelte-1ihuovj")},m(e,i){$(e,t,i),s&&s.m(t,null),n=!0},p(e,o){e[22]?s?(s.p(e,o),4194304&o[0]&&te(s,1)):(s=Dn(e),s.c(),te(s,1),s.m(t,null)):s&&(Q(),ie(s,1,1,(()=>{s=null})),ee()),(!n||1073741824&o[0]|536870912&o[1]&&i!==(i=m(`${e[60]} ${e[30]}`)+" svelte-1ihuovj"))&&L(t,"class",i)},i(e){n||(te(s),n=!0)},o(e){ie(s),n=!1},d(e){e&&w(t),s&&s.d()}}}function Un(e){let t,i,n,s,o,r,a,l;const d=[An,In],c=[];function u(e,t){return"narrow"===e[30]?0:1}return i=u(e),n=c[i]=d[i](e),{c(){t=y("div"),n.c(),L(t,"class",s=m(`control ${e[30]}`)+" svelte-1ihuovj"),L(t,"qa-id",o=cn(e[55],"play-pause-btn"))},m(n,s){$(n,t,s),c[i].m(t,null),r=!0,a||(l=T(t,"click",e[43]),a=!0)},p(e,a){let l=i;i=u(e),i===l?c[i].p(e,a):(Q(),ie(c[l],1,1,(()=>{c[l]=null})),ee(),n=c[i],n?n.p(e,a):(n=c[i]=d[i](e),n.c()),te(n,1),n.m(t,null)),(!r||1073741824&a[0]&&s!==(s=m(`control ${e[30]}`)+" svelte-1ihuovj"))&&L(t,"class",s),(!r||16777216&a[1]&&o!==(o=cn(e[55],"play-pause-btn")))&&L(t,"qa-id",o)},i(e){r||(te(n),r=!0)},o(e){ie(n),r=!1},d(e){e&&w(t),c[i].d(),a=!1,l()}}}function In(e){let t,i,n,s;const o=[zn,Hn],r=[];function a(e,t){return e[0]?0:1}return i=a(e),n=r[i]=o[i](e),{c(){t=y("div"),n.c()},m(e,n){$(e,t,n),r[i].m(t,null),s=!0},p(e,s){let l=i;i=a(e),i!==l&&(Q(),ie(r[l],1,1,(()=>{r[l]=null})),ee(),n=r[i],n||(n=r[i]=o[i](e),n.c()),te(n,1),n.m(t,null))},i(e){s||(te(n),s=!0)},o(e){ie(n),s=!1},d(e){e&&w(t),r[i].d()}}}function An(e){let t,i,n,s;const o=[Wn,Fn],r=[];function a(e,t){return e[0]?0:1}return i=a(e),n=r[i]=o[i](e),{c(){t=y("div"),n.c()},m(e,n){$(e,t,n),r[i].m(t,null),s=!0},p(e,s){let l=i;i=a(e),i!==l&&(Q(),ie(r[l],1,1,(()=>{r[l]=null})),ee(),n=r[i],n||(n=r[i]=o[i](e),n.c()),te(n,1),n.m(t,null))},i(e){s||(te(n),s=!0)},o(e){ie(n),s=!1},d(e){e&&w(t),r[i].d()}}}function Hn(e){let t,i;return t=new Ce({}),{c(){oe(t.$$.fragment)},m(e,n){re(t,e,n),i=!0},i(e){i||(te(t.$$.fragment,e),i=!0)},o(e){ie(t.$$.fragment,e),i=!1},d(e){ae(t,e)}}}function zn(e){let t,i;return t=new ke({}),{c(){oe(t.$$.fragment)},m(e,n){re(t,e,n),i=!0},i(e){i||(te(t.$$.fragment,e),i=!0)},o(e){ie(t.$$.fragment,e),i=!1},d(e){ae(t,e)}}}function Fn(e){let t,i;return t=new Bt({}),{c(){oe(t.$$.fragment)},m(e,n){re(t,e,n),i=!0},i(e){i||(te(t.$$.fragment,e),i=!0)},o(e){ie(t.$$.fragment,e),i=!1},d(e){ae(t,e)}}}function Wn(e){let t,i;return t=new Vt({}),{c(){oe(t.$$.fragment)},m(e,n){re(t,e,n),i=!0},i(e){i||(te(t.$$.fragment,e),i=!0)},o(e){ie(t.$$.fragment,e),i=!1},d(e){ae(t,e)}}}function Zn(e){let t,i;return t=new Ye({props:{volume:e[5],muted:e[4],is_mobile:e[13],only_toggle_audio_control:e[19],"qa-id":cn(e[55],"volume")}}),t.$on("m-toggleMuted",e[44]),t.$on("m-volumeChange",e[45]),{c(){oe(t.$$.fragment)},m(e,n){re(t,e,n),i=!0},p(e,i){const n={};32&i[0]&&(n.volume=e[5]),16&i[0]&&(n.muted=e[4]),8192&i[0]&&(n.is_mobile=e[13]),524288&i[0]&&(n.only_toggle_audio_control=e[19]),16777216&i[1]&&(n["qa-id"]=cn(e[55],"volume")),t.$set(n)},i(e){i||(te(t.$$.fragment,e),i=!0)},o(e){ie(t.$$.fragment,e),i=!1},d(e){ae(t,e)}}}function Kn(e){let t,i,n,s,o=e[23]&&Un(e),r=e[18]&&Zn(e);return{c(){t=y("div"),o&&o.c(),i=E(),r&&r.c(),L(t,"slot","leftControlsBlock"),L(t,"class",n=m(e[60])+" svelte-1ihuovj")},m(e,n){$(e,t,n),o&&o.m(t,null),g(t,i),r&&r.m(t,null),s=!0},p(e,a){e[23]?o?(o.p(e,a),8388608&a[0]&&te(o,1)):(o=Un(e),o.c(),te(o,1),o.m(t,i)):o&&(Q(),ie(o,1,1,(()=>{o=null})),ee()),e[18]?r?(r.p(e,a),262144&a[0]&&te(r,1)):(r=Zn(e),r.c(),te(r,1),r.m(t,null)):r&&(Q(),ie(r,1,1,(()=>{r=null})),ee()),(!s||536870912&a[1]&&n!==(n=m(e[60])+" svelte-1ihuovj"))&&L(t,"class",n)},i(e){s||(te(o),te(r),s=!0)},o(e){ie(o),ie(r),s=!1},d(e){e&&w(t),o&&o.d(),r&&r.d()}}}function Xn(e){let t,i;return t=new Qt({props:{current_time:e[2],total_time:e[1],live:e[40],show_current_time:e[61],show_duration:e[62],"qa-id":cn(e[55])}}),{c(){oe(t.$$.fragment)},m(e,n){re(t,e,n),i=!0},p(e,i){const n={};4&i[0]&&(n.current_time=e[2]),2&i[0]&&(n.total_time=e[1]),512&i[1]&&(n.live=e[40]),1073741824&i[1]&&(n.show_current_time=e[61]),1&i[2]&&(n.show_duration=e[62]),16777216&i[1]&&(n["qa-id"]=cn(e[55])),t.$set(n)},i(e){i||(te(t.$$.fragment,e),i=!0)},o(e){ie(t.$$.fragment,e),i=!1},d(e){ae(t,e)}}}function Gn(e){let t,i,n=e[1]!==1/0&&!e[38]&&Xn(e);return{c(){n&&n.c(),t=k()},m(e,s){n&&n.m(e,s),$(e,t,s),i=!0},p(e,i){e[1]===1/0||e[38]?n&&(Q(),ie(n,1,1,(()=>{n=null})),ee()):n?(n.p(e,i),2&i[0]|128&i[1]&&te(n,1)):(n=Xn(e),n.c(),te(n,1),n.m(t.parentNode,t))},i(e){i||(te(n),i=!0)},o(e){ie(n),i=!1},d(e){n&&n.d(e),e&&w(t)}}}function Yn(e){let t,i;return t=new Ht({props:{episode:e[15],"qa-id":cn(e[55],"active-episode")}}),{c(){oe(t.$$.fragment)},m(e,n){re(t,e,n),i=!0},p(e,i){const n={};32768&i[0]&&(n.episode=e[15]),16777216&i[1]&&(n["qa-id"]=cn(e[55],"active-episode")),t.$set(n)},i(e){i||(te(t.$$.fragment,e),i=!0)},o(e){ie(t.$$.fragment,e),i=!1},d(e){ae(t,e)}}}function Jn(e){let t,i;return t=new dn({props:{cuepoint:e[34],"qa-id":cn(e[55],"acrive-cuepoint")}}),{c(){oe(t.$$.fragment)},m(e,n){re(t,e,n),i=!0},p(e,i){const n={};8&i[1]&&(n.cuepoint=e[34]),16777216&i[1]&&(n["qa-id"]=cn(e[55],"acrive-cuepoint")),t.$set(n)},i(e){i||(te(t.$$.fragment,e),i=!0)},o(e){ie(t.$$.fragment,e),i=!1},d(e){ae(t,e)}}}function Qn(e){let t,i,n,s,o=e[36]&&Yn(e),r=e[41]&&Jn(e);return{c(){t=y("div"),o&&o.c(),i=E(),r&&r.c(),L(t,"slot","middleControlsBlock"),L(t,"class",n=m(`${e[60]} middleControlsBlock ${e[30]}`)+" svelte-1ihuovj")},m(e,n){$(e,t,n),o&&o.m(t,null),g(t,i),r&&r.m(t,null),s=!0},p(e,a){e[36]?o?(o.p(e,a),32&a[1]&&te(o,1)):(o=Yn(e),o.c(),te(o,1),o.m(t,i)):o&&(Q(),ie(o,1,1,(()=>{o=null})),ee()),e[41]?r?(r.p(e,a),1024&a[1]&&te(r,1)):(r=Jn(e),r.c(),te(r,1),r.m(t,null)):r&&(Q(),ie(r,1,1,(()=>{r=null})),ee()),(!s||1073741824&a[0]|536870912&a[1]&&n!==(n=m(`${e[60]} middleControlsBlock ${e[30]}`)+" svelte-1ihuovj"))&&L(t,"class",n)},i(e){s||(te(o),te(r),s=!0)},o(e){ie(o),ie(r),s=!1},d(e){e&&w(t),o&&o.d(),r&&r.d()}}}function es(e){let t,i,n,s,o,r;return i=new Qe({}),{c(){t=y("div"),oe(i.$$.fragment),L(t,"class","control svelte-1ihuovj"),L(t,"qa-id",n=cn(e[55],"settings-btn"))},m(n,a){$(n,t,a),re(i,t,null),s=!0,o||(r=T(t,"click",e[53]),o=!0)},p(e,i){(!s||16777216&i[1]&&n!==(n=cn(e[55],"settings-btn")))&&L(t,"qa-id",n)},i(e){s||(te(i.$$.fragment,e),s=!0)},o(e){ie(i.$$.fragment,e),s=!1},d(e){e&&w(t),ae(i),o=!1,r()}}}function ts(e){let t,i,n,s,o,r,a,l;const d=[ns,is],c=[];function u(e,t){return"narrow"===e[30]?0:1}return i=u(e),n=c[i]=d[i](e),{c(){t=y("div"),n.c(),L(t,"class",s=m(`control ${e[30]}`)+" svelte-1ihuovj"),L(t,"qa-id",o=cn(e[55],"fullscreen-btn"))},m(n,s){$(n,t,s),c[i].m(t,null),r=!0,a||(l=T(t,"click",e[54]),a=!0)},p(e,a){let l=i;i=u(e),i===l?c[i].p(e,a):(Q(),ie(c[l],1,1,(()=>{c[l]=null})),ee(),n=c[i],n?n.p(e,a):(n=c[i]=d[i](e),n.c()),te(n,1),n.m(t,null)),(!r||1073741824&a[0]&&s!==(s=m(`control ${e[30]}`)+" svelte-1ihuovj"))&&L(t,"class",s),(!r||16777216&a[1]&&o!==(o=cn(e[55],"fullscreen-btn")))&&L(t,"qa-id",o)},i(e){r||(te(n),r=!0)},o(e){ie(n),r=!1},d(e){e&&w(t),c[i].d(),a=!1,l()}}}function is(e){let t,i,n,s;const o=[os,ss],r=[];function a(e,t){return e[12]?1:0}return i=a(e),n=r[i]=o[i](e),{c(){t=y("div"),n.c()},m(e,n){$(e,t,n),r[i].m(t,null),s=!0},p(e,s){let l=i;i=a(e),i!==l&&(Q(),ie(r[l],1,1,(()=>{r[l]=null})),ee(),n=r[i],n||(n=r[i]=o[i](e),n.c()),te(n,1),n.m(t,null))},i(e){s||(te(n),s=!0)},o(e){ie(n),s=!1},d(e){e&&w(t),r[i].d()}}}function ns(e){let t,i,n,s;const o=[as,rs],r=[];function a(e,t){return e[12]?1:0}return i=a(e),n=r[i]=o[i](e),{c(){t=y("div"),n.c(),L(t,"class","narrow")},m(e,n){$(e,t,n),r[i].m(t,null),s=!0},p(e,s){let l=i;i=a(e),i!==l&&(Q(),ie(r[l],1,1,(()=>{r[l]=null})),ee(),n=r[i],n||(n=r[i]=o[i](e),n.c()),te(n,1),n.m(t,null))},i(e){s||(te(n),s=!0)},o(e){ie(n),s=!1},d(e){e&&w(t),r[i].d()}}}function ss(e){let t,i;return t=new St({}),{c(){oe(t.$$.fragment)},m(e,n){re(t,e,n),i=!0},i(e){i||(te(t.$$.fragment,e),i=!0)},o(e){ie(t.$$.fragment,e),i=!1},d(e){ae(t,e)}}}function os(e){let t,i;return t=new Pt({}),{c(){oe(t.$$.fragment)},m(e,n){re(t,e,n),i=!0},i(e){i||(te(t.$$.fragment,e),i=!0)},o(e){ie(t.$$.fragment,e),i=!1},d(e){ae(t,e)}}}function rs(e){let t,i;return t=new Ot({}),{c(){oe(t.$$.fragment)},m(e,n){re(t,e,n),i=!0},i(e){i||(te(t.$$.fragment,e),i=!0)},o(e){ie(t.$$.fragment,e),i=!1},d(e){ae(t,e)}}}function as(e){let t,i;return t=new jt({}),{c(){oe(t.$$.fragment)},m(e,n){re(t,e,n),i=!0},i(e){i||(te(t.$$.fragment,e),i=!0)},o(e){ie(t.$$.fragment,e),i=!1},d(e){ae(t,e)}}}function ls(e){let t,i,n,s,o,r,a=e[39]&&es(e);n=new Tt({props:{show:e[32],active_rate:e[6],levels:e[7],active_level:e[8],auto_level:e[9],show_level_settings:e[37],show_rate_settings:e[20],"qa-id":cn(e[55],"settings-menu")}}),n.$on("m-changePlaybackRate",e[49]),n.$on("m-changeLevel",e[51]),n.$on("m-toggleAutoLevel",e[52]);let l=e[21]&&ts(e);return{c(){t=y("div"),a&&a.c(),i=E(),oe(n.$$.fragment),s=E(),l&&l.c(),L(t,"slot","rightControlsBlock"),L(t,"class",o=m(e[60])+" svelte-1ihuovj")},m(e,o){$(e,t,o),a&&a.m(t,null),g(t,i),re(n,t,null),g(t,s),l&&l.m(t,null),r=!0},p(e,s){e[39]?a?(a.p(e,s),256&s[1]&&te(a,1)):(a=es(e),a.c(),te(a,1),a.m(t,i)):a&&(Q(),ie(a,1,1,(()=>{a=null})),ee());const d={};2&s[1]&&(d.show=e[32]),64&s[0]&&(d.active_rate=e[6]),128&s[0]&&(d.levels=e[7]),256&s[0]&&(d.active_level=e[8]),512&s[0]&&(d.auto_level=e[9]),64&s[1]&&(d.show_level_settings=e[37]),1048576&s[0]&&(d.show_rate_settings=e[20]),16777216&s[1]&&(d["qa-id"]=cn(e[55],"settings-menu")),n.$set(d),e[21]?l?(l.p(e,s),2097152&s[0]&&te(l,1)):(l=ts(e),l.c(),te(l,1),l.m(t,null)):l&&(Q(),ie(l,1,1,(()=>{l=null})),ee()),(!r||536870912&s[1]&&o!==(o=m(e[60])+" svelte-1ihuovj"))&&L(t,"class",o)},i(e){r||(te(a),te(n.$$.fragment,e),te(l),r=!0)},o(e){ie(a),ie(n.$$.fragment,e),ie(l),r=!1},d(e){e&&w(t),a&&a.d(),ae(n),l&&l.d()}}}function ds(e){let t,i;return t=new Rn({props:{bottom_bar_inline_styles:e[35],one_line_controls:e[31],custom_class_for_bottom_bar:e[29],show_current_time:e[24],show_duration:e[25],bottom_bar_theme:e[30],should_render_episodes:e[36],"qa-id":"video-player.bottom-bar",$$slots:{rightControlsBlock:[ls,({class:e})=>({60:e}),({class:e})=>[0,e?536870912:0]],middleControlsBlock:[Qn,({class:e})=>({60:e}),({class:e})=>[0,e?536870912:0]],time:[Gn,({showCurrentTime:e,showDuration:t})=>({61:e,62:t}),({showCurrentTime:e,showDuration:t})=>[0,e?1073741824:0,t?1:0]],leftControlsBlock:[Kn,({class:e})=>({60:e}),({class:e})=>[0,e?536870912:0]],progressBar:[On,({class:e})=>({60:e}),({class:e})=>[0,e?536870912:0]]},$$scope:{ctx:e}}}),{c(){oe(t.$$.fragment)},m(e,n){re(t,e,n),i=!0},p(e,i){const n={};16&i[1]&&(n.bottom_bar_inline_styles=e[35]),1&i[1]&&(n.one_line_controls=e[31]),536870912&i[0]&&(n.custom_class_for_bottom_bar=e[29]),16777216&i[0]&&(n.show_current_time=e[24]),33554432&i[0]&&(n.show_duration=e[25]),1073741824&i[0]&&(n.bottom_bar_theme=e[30]),32&i[1]&&(n.should_render_episodes=e[36]),1560281087&i[0]|1627391982&i[1]|3&i[2]&&(n.$$scope={dirty:i,ctx:e}),t.$set(n)},i(e){i||(te(t.$$.fragment,e),i=!0)},o(e){ie(t.$$.fragment,e),i=!1},d(e){ae(t,e)}}}function cs(e,i,n){let s,o,r,a,d,c,u;const h=N();let{playing:_=!1}=i,{duration:m=0}=i,{current_time:f=0}=i,{buffered:g=0}=i,{muted:v=!1}=i,{volume:$=0}=i,{playback_rate:w=1}=i,{levels:b=[]}=i,{active_level:y=0}=i,{auto_level:x=!0}=i,{video_type:C=rt.UNKNOWN}=i,{actual_live:E=!1}=i,{fullscreen_active:k=!1}=i,{is_mobile:T=!1}=i,{episodes:L=[]}=i,{current_episode:P=null}=i,{episodes_times:q=[]}=i,{episodes_times_map:S=new Map}=i,{show_audio_control:M=!0}=i,{only_toggle_audio_control:B=!1}=i,{show_settings:R=!0}=i,{show_level_settings:V=!0}=i,{show_rate_settings:D=!0}=i,{show_fullscreen_control:j=!0}=i,{should_show_progress_bar:O=!0}=i,{show_mini_play_button:U=!0}=i,{show_current_time:I=!0}=i,{show_duration:A=!0}=i,{show_time_tooltip:H=!0}=i,{disable_progress_bar:z=!1}=i,{disable_forward_rewind:F=!1}=i,{custom_class_for_bottom_bar:W}=i,{bottom_bar_theme:Z="default"}=i,{one_line_controls:K=!1}=i,{settings_menu_is_open:X=!1}=i,{cuepoints:G=[]}=i,{current_cuepoint:Y=null}=i,{bottom_bar_inline_styles:J=""}=i;const Q=Pe("playerRect");return l(e,Q,(e=>n(58,u=e))),e.$$set=e=>{n(55,i=t(t({},i),p(e))),"playing"in e&&n(0,_=e.playing),"duration"in e&&n(1,m=e.duration),"current_time"in e&&n(2,f=e.current_time),"buffered"in e&&n(3,g=e.buffered),"muted"in e&&n(4,v=e.muted),"volume"in e&&n(5,$=e.volume),"playback_rate"in e&&n(6,w=e.playback_rate),"levels"in e&&n(7,b=e.levels),"active_level"in e&&n(8,y=e.active_level),"auto_level"in e&&n(9,x=e.auto_level),"video_type"in e&&n(10,C=e.video_type),"actual_live"in e&&n(11,E=e.actual_live),"fullscreen_active"in e&&n(12,k=e.fullscreen_active),"is_mobile"in e&&n(13,T=e.is_mobile),"episodes"in e&&n(14,L=e.episodes),"current_episode"in e&&n(15,P=e.current_episode),"episodes_times"in e&&n(16,q=e.episodes_times),"episodes_times_map"in e&&n(17,S=e.episodes_times_map),"show_audio_control"in e&&n(18,M=e.show_audio_control),"only_toggle_audio_control"in e&&n(19,B=e.only_toggle_audio_control),"show_settings"in e&&n(56,R=e.show_settings),"show_level_settings"in e&&n(57,V=e.show_level_settings),"show_rate_settings"in e&&n(20,D=e.show_rate_settings),"show_fullscreen_control"in e&&n(21,j=e.show_fullscreen_control),"should_show_progress_bar"in e&&n(22,O=e.should_show_progress_bar),"show_mini_play_button"in e&&n(23,U=e.show_mini_play_button),"show_current_time"in e&&n(24,I=e.show_current_time),"show_duration"in e&&n(25,A=e.show_duration),"show_time_tooltip"in e&&n(26,H=e.show_time_tooltip),"disable_progress_bar"in e&&n(27,z=e.disable_progress_bar),"disable_forward_rewind"in e&&n(28,F=e.disable_forward_rewind),"custom_class_for_bottom_bar"in e&&n(29,W=e.custom_class_for_bottom_bar),"bottom_bar_theme"in e&&n(30,Z=e.bottom_bar_theme),"one_line_controls"in e&&n(31,K=e.one_line_controls),"settings_menu_is_open"in e&&n(32,X=e.settings_menu_is_open),"cuepoints"in e&&n(33,G=e.cuepoints),"current_cuepoint"in e&&n(34,Y=e.current_cuepoint),"bottom_bar_inline_styles"in e&&n(35,J=e.bottom_bar_inline_styles)},e.$$.update=()=>{17408&e.$$.dirty[0]|4&e.$$.dirty[1]&&n(36,s=!G.length&&L.length>0&&C!==rt.LIVE),4096&e.$$.dirty[0]|8&e.$$.dirty[1]&&n(41,o=k&&Y),1024&e.$$.dirty[0]&&n(40,r=C===rt.LIVE),67108864&e.$$.dirty[1]&&n(37,a=V&&!("undefined"!=typeof window&&/iPhone OS/i.test(window.navigator.userAgent))),1048576&e.$$.dirty[0]|33554496&e.$$.dirty[1]&&n(39,d=R&&(a||D)),134217760&e.$$.dirty[1]&&n(38,c=u.width<420&&s)},i=p(i),[_,m,f,g,v,$,w,b,y,x,C,E,k,T,L,P,q,S,M,B,D,j,O,U,I,A,H,z,F,W,Z,K,X,G,Y,J,s,a,c,d,r,o,Q,function(){h("m-togglePlayPause")},function(e){h("m-toggleMuted",e.detail)},function(e){h("m-volumeChange",e.detail)},function(e){h("m-changeProgress",e.detail)},function(){h("m-mouseDownProgress")},function(){h("m-mouseUpProgress")},function(e){h("m-changePlaybackRate",e.detail)},function(){h("m-backToLive")},function(e){h("m-changeLevel",e.detail)},function(){h("m-toggleAutoLevel")},function(){h("m-toggleSettingsMenu")},function(){h("m-toggleFullscreen")},i,R,V,u]}class us extends de{constructor(e){super(),le(this,e,cs,ds,r,{playing:0,duration:1,current_time:2,buffered:3,muted:4,volume:5,playback_rate:6,levels:7,active_level:8,auto_level:9,video_type:10,actual_live:11,fullscreen_active:12,is_mobile:13,episodes:14,current_episode:15,episodes_times:16,episodes_times_map:17,show_audio_control:18,only_toggle_audio_control:19,show_settings:56,show_level_settings:57,show_rate_settings:20,show_fullscreen_control:21,should_show_progress_bar:22,show_mini_play_button:23,show_current_time:24,show_duration:25,show_time_tooltip:26,disable_progress_bar:27,disable_forward_rewind:28,custom_class_for_bottom_bar:29,bottom_bar_theme:30,one_line_controls:31,settings_menu_is_open:32,cuepoints:33,current_cuepoint:34,bottom_bar_inline_styles:35},Vn,[-1,-1,-1])}}function hs(e){if(!e||"string"!=typeof e)return e;try{return JSON.parse(e)}catch{return}}function _s(e){v(e,"svelte-g9uwzu",".circle.svelte-g9uwzu{transform:rotate(0);transform-origin:center;animation:svelte-g9uwzu-rotating 1s linear infinite;stroke-dasharray:80 30;color:rgb(255, 255, 255)}@keyframes svelte-g9uwzu-rotating{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}")}function ps(t){let i,n;return{c(){i=x("svg"),n=x("circle"),L(n,"class","circle svelte-g9uwzu"),L(n,"cx","30"),L(n,"cy","30"),L(n,"r","23.67"),L(n,"fill","none"),L(n,"stroke","currentColor"),L(n,"stroke-linecap","round"),L(n,"stroke-width","5"),L(i,"xmlns","http://www.w3.org/2000/svg"),L(i,"width","60px"),L(i,"height","60px"),L(i,"preserveAspectRatio","xMidYMid"),L(i,"viewBox","0 0 60 60")},m(e,t){$(e,i,t),g(i,n)},p:e,i:e,o:e,d(e){e&&w(i)}}}class ms extends de{constructor(e){super(),le(this,e,null,ps,r,{},_s)}}const fs=/\.m3u8/,gs=/\.mpd/,vs=/.(mp4|m4s|m4v|m4a|avi|webm|mkv|wmv|mpg|mov|flv)$/i,$s="/s3/media-player/media-player-sw.js";class ws{_emitter=ve();sourceSettings;videoElement=null;type=fe.MP4;src=null;isMediaNative;isDestroyed=!1;constructor(e,t={}){this.src=e,this.sourceSettings=t}_emit(e,t){this._emitter.emit(e,t)}_clearAllEventListeners(){this._emitter.all.clear()}on(e,t){this._emitter.on(e,t)}off(e,t){this._emitter.off(e,t)}recover(){}changeLevel(e=-1){}getBandwidthEstimate(){return NaN}destroy(){this._clearAllEventListeners(),this.videoElement.src="",this.videoElement=null,this.isDestroyed=!0}}class bs extends ws{type=fe.MP4;constructor(e,t={}){super(e,t)}attach(e){this.isMediaNative=!0,Object.values(this.sourceSettings.extraRequestHeaders??{}).length&&"serviceWorker"in navigator?(navigator.serviceWorker?.controller?.scriptURL.includes($s)?navigator.serviceWorker.ready:navigator.serviceWorker.register($s,{scope:"/"})).then((e=>{(e.installing||e.waiting||e.active).postMessage(JSON.stringify({headers:this.sourceSettings.extraRequestHeaders}))})).finally((()=>{this.videoElement=e,e.src=this.src})):(this.videoElement=e,e.src=this.src),setTimeout((()=>{this._emit(`m-${ge.MediaAttach}`)}))}}var ys;!function(e){e[e.FragmentLoadFailed=17]="FragmentLoadFailed",e[e.ManifestLoadFailed=25]="ManifestLoadFailed"}(ys||(ys={}));class xs extends ws{type=fe.DASH;_dash;constructor(e,t={}){super(e,t)}attach(e){this.videoElement=e;const t=()=>{if(!this.isDestroyed){if(!window.dashjs.supportsMediaSource())throw Error("dash is not supported");{const e=this.sourceSettings.startTime||-1,t=window.dashjs.MediaPlayer({startTime:e});this._dash=t.create(),this._dash.initialize(this.videoElement,this.src,!1),this._emit(`m-${ge.MediaAttach}`),this._dash.on([`m-${ge.ManifestUpdated}`],(e=>{this._emit(`m-${ge.ManifestUpdated}`,e)})),this._dash.on("error",(e=>{const t=e?.error?.code;t===ys.ManifestLoadFailed&&this._emit(`m-${ge.Error}`,{event:event,data:e.error,trackPerf:!0}),t===ys.FragmentLoadFailed&&this._emit(`m-${ge.Error}`,{event:event,data:e.error})})),this.isMediaNative=!1}}},i="media-player/dash.js",n=document.getElementById(i);if(n)n.getAttribute("data-loaded")?setTimeout(t):n.addEventListener("load",t);else{const e=document.createElement("script");e.src="https://cdn2.ozone.ru/s3/media-player/dash.min.js",e.id=i,e.addEventListener("load",(()=>{e.setAttribute("data-loaded","true"),t()})),e.addEventListener("error",(e=>{this._emit(`m-${ge.Error}`,{data:{...e,fatal:!0}})})),document.head.appendChild(e)}}getBandwidthEstimate(){return this._dash?.getAverageThroughput("video")}destroy(){super.destroy(),this._dash.reset(),this._dash=null}}class Cs extends ws{type=fe.HLS;_hls=null;_currentErrorType=null;extraRequestHeadersEntries=[];isScriptLoaded=!1;debug=!1;constructor(e,t={}){super(e,t),this.getDebugOption()}getDebugOption(){try{this.debug=Boolean(localStorage.getItem("o3-hls-debug"))}catch{}}_onXhrSetup(e){this.extraRequestHeadersEntries.forEach((([t,i])=>{e.setRequestHeader(t,i)}))}attach(e){this.videoElement=e;const t=()=>{if(!this.isDestroyed)if(window.Hls.isSupported()){const e=this.sourceSettings.hlsOptions||{},t=this.sourceSettings.extraRequestHeaders,i=this.sourceSettings.startTime??-1;this.extraRequestHeadersEntries=Object.entries(t||{}),this._hls=new window.Hls({maxBufferLength:5,maxBufferSize:5e6,backBufferLength:5,startPosition:i,currentLevel:-1,...this.extraRequestHeadersEntries.length?{xhrSetup:this._onXhrSetup.bind(this)}:{},...e,debug:this.debug}),this._hls.attachMedia(this.videoElement),this._hls.on(window.Hls.Events.MEDIA_ATTACHED,(()=>{this._hls.loadSource(this.src),this._emit(`m-${ge.MediaAttach}`)})),this._hls.on(window.Hls.Events.MANIFEST_PARSED,((e,t)=>{this._emit(`m-${ge.ManifestParsed}`,{event:e,data:t})})),this._hls.on(window.Hls.Events.LEVEL_UPDATED,((e,t)=>{this._emit(`m-${ge.LevelUpdated}`,{event:e,data:t})})),this._hls.on(window.Hls.Events.ERROR,((e,t)=>{t.fatal&&(this._currentErrorType=t.type,this._emit(`m-${ge.Error}`,{event:e,data:t,trackPerf:!0})),t.details===window.Hls.ErrorDetails.FRAG_LOAD_ERROR&&this._emit(`m-${ge.Error}`,{event:e,data:t})})),this._hls.on(window.Hls.Events.FRAG_LOADED,(()=>{})),this._hls.on(window.Hls.Events.LEVEL_SWITCHING,((e,t)=>{this._emit(`m-${ge.LevelSwitching}`,{event:e,data:t})})),this.isMediaNative=!1}else{if(!this.videoElement.canPlayType("application/vnd.apple.mpegurl"))throw Error("hls is not supported");this.videoElement.src=this.src,setTimeout((()=>{this._emit(`m-${ge.MediaAttach}`)})),this.isMediaNative=!0}},i="media-player/hls.js",n=document.getElementById(i);if(n)n.getAttribute("data-loaded")?setTimeout(t):n.addEventListener("load",t);else{const e=document.createElement("script");e.src="https://cdn2.ozone.ru/s3/media-player/hls.min.js",e.id=i,e.addEventListener("load",(()=>{e.setAttribute("data-loaded","true"),t()})),e.addEventListener("error",(e=>{this._emit(`m-${ge.Error}`,{data:{...e,fatal:!0}})})),document.head.appendChild(e)}}recover(){if(this._hls)switch(this._currentErrorType){case window.Hls.ErrorTypes.NETWORK_ERROR:this._hls.startLoad(),this._currentErrorType=null,this._emit(`m-${ge.Recover}`);break;case window.Hls.ErrorTypes.MEDIA_ERROR:this._hls.recoverMediaError(),this._currentErrorType=null,this._emit(`m-${ge.Recover}`);break;default:this._hls.destroy()}}changeLevel(e){this._hls.currentLevel=e}getBandwidthEstimate(){return Math.round(this._hls?.bandwidthEstimate)}destroy(){super.destroy(),this._hls&&(this._hls.detachMedia(),this._hls.destroy(),this._hls=null)}}const Es=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+))?@)([\w.-]+)(?::(\d+))?\/(.+)/;function ks(e){return(e&&e.message||"No error message").split("\n").filter((e=>!!e))[0]}class Ts{apiUrl;authHeader;environment;constructor(e){if(e&&e.dsn){const t=Es.exec(e.dsn),i=t?t.slice(1):[],n=i[5].split("/"),s=n.slice(0,-1).join("/");this.apiUrl=i[0]+"://"+i[3]+(i[4]?":"+i[4]:"")+(s?"/"+s:"")+"/api/"+n.pop()+"/store/",this.authHeader="Sentry sentry_version=7,sentry_key="+i[1]+(i[2]?",sentry_secret="+i[2]:"")}this.environment=e?.environment}prepare(e){return{...this.getRequestBlank(),exception:{values:[(t=e,{value:ks(t),type:t&&t.name,url:"2222"})]}};var t}report(e){this.send(this.prepare(e))}send(e){this.apiUrl&&e&&this.createRequest(e)}createRequest(e){const t={method:"POST",headers:{"Content-type":"application/json","X-Sentry-Auth":this.authHeader||""},body:JSON.stringify(e),keepalive:!0};fetch(this.apiUrl,t)}getRequestBlank(){return{platform:"javascript",sdk:{name:"player-sentry-sdk",version:"0.0.0"},timestamp:Date.now()/1e3,environment:this.environment}}}class Ls extends Ts{options;window;_state={};ignoreErrors;release;constructor(e,t=function(){return window}()){super(e),this.options=e,this.window=t;const{ignoreErrors:i=[],release:n}=this.options||{};this.ignoreErrors=i,this.release=n}get state(){return this._state}setTag(e,t){return this.extendState({tags:{[e]:t}}),this}addBreadcrumb(e){this.extendState({breadcrumbs:{timestamp:Date.now()/1e3,...e}})}getRequestBlank(){return{request:{url:this.window.location.toString(),headers:{"User-Agent":this.window.navigator.userAgent}},...super.getRequestBlank(),...this._state}}extendState(e){this._state={...this._state,...Object.keys(e).reduce(((t,i)=>{const n=this._state[i];return n&&"object"==typeof n?Array.isArray(n)?{...t,[i]:[...n,...e[i]]}:{...t,[i]:{...n,...e[i]}}:{...t,[i]:e[i]}}),{})}}setKeyState(e,t){this._state[e]=t}}const Ps={m3u8:"video/mp4",mp4:"video/mp4",m4s:"video/mp4",m4v:"video/mp4",m4a:"audio/mp4",avi:"video/x-msvideo",webm:"video/webm",mkv:"x-matroska",wmv:"video/x-ms-wmv",mpg:"video-mpg",mov:"video/quicktime",flv:"video/x-flv"},qs=1e6;class Ss extends ws{mediaSource;sourceBuffer;srcList=[];lastSegmentLoaded=0;currentByte=0;contentRange=0;constructor(e,t={}){super(e[0],t),this.srcList=e}attach(e){this.videoElement=e,this.mediaSource=new MediaSource,this.videoElement.src=URL.createObjectURL(this.mediaSource),this.mediaSource.addEventListener("sourceopen",this.onSourceOpen.bind(this),{once:!0}),setTimeout((()=>{this._emit(`m-${ge.MediaAttach}`)}))}buildRange(){return`bytes=${this.currentByte}-${this.currentByte+qs}`}onSourceOpen(){URL.revokeObjectURL(this.videoElement.src),this.sourceBuffer=this.mediaSource.addSourceBuffer('video/webm; codecs="vp09.00.10.08"'),fetch(this.srcList[0]).then((e=>e.arrayBuffer())).then((e=>{this.sourceBuffer.mode="sequence",this.sourceBuffer.appendBuffer(e),this.sourceBuffer.addEventListener("updateend",this.fetchNextSegment.bind(this),{once:!0})}))}async fetchNextSegment(){const e=await fetch(this.srcList[this.lastSegmentLoaded+1],{headers:{range:this.buildRange()}});this.contentRange=Number(e.headers.get("Content-Range")?.split("/")?.[1]);const t=await e.arrayBuffer();this.sourceBuffer.appendBuffer(t);const i=this.currentByte+qs+1;if(this.contentRange?i>=this.contentRange:t.byteLength<qs){if(this.currentByte=0,this.lastSegmentLoaded++,this.lastSegmentLoaded>=this.srcList.length-1)return void this.sourceBuffer.addEventListener("updateend",(()=>{this.mediaSource.endOfStream()}),{once:!0})}else this.currentByte=i;this.sourceBuffer.addEventListener("updateend",(()=>{this.fetchNextSegment()}),{once:!0})}}function Ms(e){let t;return{c(){t=y("slot"),L(t,"class","cover"),L(t,"name","cover")},m(e,i){$(e,t,i)},d(e){e&&w(t)}}}function Bs(e){let t;return{c(){t=y("slot"),L(t,"class","overlay"),L(t,"name","overlay")},m(e,i){$(e,t,i)},d(e){e&&w(t)}}}function Rs(e){let t,i;return t=new je({props:{custom_play_button_class:e[1],playing:e[11],ended:e[10],"qa-id":"video-player.play-pause-btn"}}),t.$on("click",e[124]),{c(){oe(t.$$.fragment)},m(e,n){re(t,e,n),i=!0},p(e,i){const n={};2&i[0]&&(n.custom_play_button_class=e[1]),2048&i[0]&&(n.playing=e[11]),1024&i[0]&&(n.ended=e[10]),t.$set(n)},i(e){i||(te(t.$$.fragment,e),i=!0)},o(e){ie(t.$$.fragment,e),i=!1},d(e){ae(t,e)}}}function Vs(t){let i,n;return i=new ms({}),{c(){oe(i.$$.fragment)},m(e,t){re(i,e,t),n=!0},p:e,i(e){n||(te(i.$$.fragment,e),n=!0)},o(e){ie(i.$$.fragment,e),n=!1},d(e){ae(i,e)}}}function Ds(e){let t,i,n;return i=new us({props:{playing:e[11],duration:e[9],buffered:e[20],muted:e[21],volume:e[22],bottom_bar_inline_styles:e[6],playback_rate:e[23],levels:e[24],active_level:e[25],auto_level:e[26],video_type:e[13],actual_live:e[30],show_audio_control:e[51],only_toggle_audio_control:e[50],show_settings:e[49],settings_menu_is_open:e[32],show_level_settings:e[48],show_rate_settings:e[47],show_fullscreen_control:e[46],should_show_progress_bar:e[35],show_mini_play_button:e[45],show_current_time:e[44],show_duration:e[43],show_time_tooltip:e[39],disable_progress_bar:e[42],disable_forward_rewind:e[41],custom_class_for_bottom_bar:e[0],one_line_controls:e[40],current_episode:e[31],episodes_times:e[34],episodes_times_map:e[33],episodes:e[17],cuepoints:e[16],current_cuepoint:e[14],current_time:e[19],fullscreen_active:e[28],is_mobile:e[12],bottom_bar_theme:e[3],"qa-id":"video-player.bottom-bar"}}),i.$on("m-togglePlayPause",e[125]),i.$on("m-changeProgress",e[126]),i.$on("m-mouseUpProgress",e[127]),i.$on("m-mouseDownProgress",e[128]),i.$on("m-toggleMuted",e[129]),i.$on("m-volumeChange",e[130]),i.$on("m-changePlaybackRate",e[131]),i.$on("m-changeLevel",e[132]),i.$on("m-toggleAutoLevel",e[133]),i.$on("m-toggleFullscreen",e[58]),i.$on("m-backToLive",e[134]),i.$on("m-toggleSettingsMenu",e[135]),{c(){t=y("div"),oe(i.$$.fragment),L(t,"class","bottomBar"),S(t,"hidden",!e[36])},m(e,s){$(e,t,s),re(i,t,null),n=!0},p(e,s){const o={};2048&s[0]&&(o.playing=e[11]),512&s[0]&&(o.duration=e[9]),1048576&s[0]&&(o.buffered=e[20]),2097152&s[0]&&(o.muted=e[21]),4194304&s[0]&&(o.volume=e[22]),64&s[0]&&(o.bottom_bar_inline_styles=e[6]),8388608&s[0]&&(o.playback_rate=e[23]),16777216&s[0]&&(o.levels=e[24]),33554432&s[0]&&(o.active_level=e[25]),67108864&s[0]&&(o.auto_level=e[26]),8192&s[0]&&(o.video_type=e[13]),1073741824&s[0]&&(o.actual_live=e[30]),1048576&s[1]&&(o.show_audio_control=e[51]),524288&s[1]&&(o.only_toggle_audio_control=e[50]),262144&s[1]&&(o.show_settings=e[49]),2&s[1]&&(o.settings_menu_is_open=e[32]),131072&s[1]&&(o.show_level_settings=e[48]),65536&s[1]&&(o.show_rate_settings=e[47]),32768&s[1]&&(o.show_fullscreen_control=e[46]),16&s[1]&&(o.should_show_progress_bar=e[35]),16384&s[1]&&(o.show_mini_play_button=e[45]),8192&s[1]&&(o.show_current_time=e[44]),4096&s[1]&&(o.show_duration=e[43]),256&s[1]&&(o.show_time_tooltip=e[39]),2048&s[1]&&(o.disable_progress_bar=e[42]),1024&s[1]&&(o.disable_forward_rewind=e[41]),1&s[0]&&(o.custom_class_for_bottom_bar=e[0]),512&s[1]&&(o.one_line_controls=e[40]),1&s[1]&&(o.current_episode=e[31]),8&s[1]&&(o.episodes_times=e[34]),4&s[1]&&(o.episodes_times_map=e[33]),131072&s[0]&&(o.episodes=e[17]),65536&s[0]&&(o.cuepoints=e[16]),16384&s[0]&&(o.current_cuepoint=e[14]),524288&s[0]&&(o.current_time=e[19]),268435456&s[0]&&(o.fullscreen_active=e[28]),4096&s[0]&&(o.is_mobile=e[12]),8&s[0]&&(o.bottom_bar_theme=e[3]),i.$set(o),(!n||32&s[1])&&S(t,"hidden",!e[36])},i(e){n||(te(i.$$.fragment,e),n=!0)},o(e){ie(i.$$.fragment,e),n=!1},d(e){e&&w(t),ae(i)}}}function js(t){let i,n,o,r,a,l,d,c,u,h,_,p,m,f,v=t[62].cover&&Ms(),b=t[62].overlay&&Bs();const x=[Vs,Rs],C=[];function k(e,t){return e[27]?0:e[38]?1:-1}~(u=k(t))&&(h=C[u]=x[u](t));let P=t[37]&&Ds(t);return{c(){i=y("div"),n=y("div"),v&&v.c(),o=E(),r=y("div"),a=y("video"),l=E(),b&&b.c(),d=E(),c=y("div"),h&&h.c(),_=E(),P&&P.c(),this.c=e,L(a,"qa-id","video-player.video-element"),L(a,"preload",t[4]),L(a,"fetchpriority",t[5]),L(r,"class","videoContainer"),S(r,"videoObjectFitCover",t[52]),L(c,"class","centralButtonContainer"),L(n,"class","videoWrapper"),L(i,"class","player"),L(i,"tabindex","-1"),L(i,"data-player-id",t[54]),L(i,"qa-id","video-player"),S(i,"fitToContainer",t[53]),S(i,"uiHidden",t[15]),q(i,"background-color",t[2])},m(e,s){$(e,i,s),g(i,n),v&&v.m(n,null),g(n,o),g(n,r),g(r,a),t[123](a),g(r,l),b&&b.m(r,null),g(n,d),g(n,c),~u&&C[u].m(c,null),g(i,_),P&&P.m(i,null),t[136](i),p=!0,m||(f=[T(r,"click",t[57]),T(i,"focus",t[137]),T(i,"blur",t[138]),T(i,"mousemove",t[59]),T(i,"mouseleave",t[60]),T(i,"touchmove",t[59])],m=!0)},p(e,t){e[62].cover?v||(v=Ms(),v.c(),v.m(n,o)):v&&(v.d(1),v=null),(!p||16&t[0])&&L(a,"preload",e[4]),(!p||32&t[0])&&L(a,"fetchpriority",e[5]),e[62].overlay?b||(b=Bs(),b.c(),b.m(r,null)):b&&(b.d(1),b=null),(!p||2097152&t[1])&&S(r,"videoObjectFitCover",e[52]);let s=u;u=k(e),u===s?~u&&C[u].p(e,t):(h&&(Q(),ie(C[s],1,1,(()=>{C[s]=null})),ee()),~u?(h=C[u],h?h.p(e,t):(h=C[u]=x[u](e),h.c()),te(h,1),h.m(c,null)):h=null),e[37]?P?(P.p(e,t),64&t[1]&&te(P,1)):(P=Ds(e),P.c(),te(P,1),P.m(i,null)):P&&(Q(),ie(P,1,1,(()=>{P=null})),ee()),(!p||4194304&t[1])&&S(i,"fitToContainer",e[53]),(!p||32768&t[0])&&S(i,"uiHidden",e[15]),4&t[0]&&q(i,"background-color",e[2])},i(e){p||(te(h),te(P),p=!0)},o(e){ie(h),ie(P),p=!1},d(e){e&&w(i),v&&v.d(),t[123](null),b&&b.d(),~u&&C[u].d(),P&&P.d(),t[136](null),m=!1,s(f)}}}function Ns(e,t,i){let n,s,o,r,a,d,c,u,h,_,p,m,g,v,$,w,b,y,x,C,E,k,T,L,P,q,S,M,B,R,V,O,I,A,H,z,F,W,Z,K,X,G,Y,J,Q,ee,{$$slots:te={},$$scope:ie}=t;const ne=function(e){const t={};for(const i in e)t[i]=!0;return t}(te);let se,oe,re,ae,le,{src:de=""}=t,{src_list:he=[]}=t,{loop:_e=!1}=t,{initial_muted:pe=!1}=t,{initial_volume:me=1}=t,{start_time:fe}=t,{try_autoplay:ve=!1}=t,{environment:$e="dev"}=t,{performance_metrics_options:we={}}=t,{force_disable_metrics:xe=!1}=t,{single_playing_instance:Ce=!1}=t,{hotkeys_enabled:Ee=!0}=t,{cuepoints:ke=[]}=t,{cuepoint_arise_duration:Te=1}=t,{episodes:Le=[]}=t,{send_sentry_event:Pe=!0}=t,{sentry_meta_data:Se}=t,{extra_request_headers:Me={}}=t,{only_toggle_audio_control:Be=!1}=t,{show_settings:Re=!0}=t,{show_level_settings:Ve=!0}=t,{show_rate_settings:De=!0}=t,{show_fullscreen_control:je=!0}=t,{show_progress_bar:Ne=!0}=t,{show_mini_play_button:Oe=!0}=t,{show_current_time:Ue=!0}=t,{show_duration:Ie=!0}=t,{show_bottom_bar:Ae=!0}=t,{show_audio_control:He=!0}=t,{show_large_play_button_on_start:ze=!0}=t,{show_large_play_button_on_pause:Fe=!1}=t,{show_large_play_button_on_end:We=!1}=t,{play_pause_on_click_video:Ze=!0}=t,{show_preview_for_video_type:Ke}=t,{show_progress_bar_for_live_video:Xe=!0}=t,{show_time_tooltip:Ge=!0}=t,{disable_progress_bar:Ye=!1}=t,{disable_forward_rewind:Je=!1}=t,{hide_ui_on_pointer_leave:Qe=!0}=t,{hide_ui_when_idle_seconds:et=3}=t,{custom_fullscreen_element_class_name:tt=""}=t,{custom_class_for_bottom_bar:it=""}=t,{custom_play_button_class:nt=""}=t,{fit_to_container:ot=!1}=t,{background_color:at="transparent"}=t,{bottom_bar_theme:lt="default"}=t,{one_line_controls:dt=!1}=t,{video_object_fit_cover:ct=!1}=t,{preload:ut}=t,{disable_picture_in_picture:ht=!0}=t,{plays_inline:_t=!0}=t,{fetch_priority:pt="auto"}=t,{src_list_for_preload:mt=[]}=t,{bottom_bar_inline_styles:ft=""}=t,gt=!1,vt=0,$t=!0,wt=!1,bt=!1,yt=0,xt=0,Ct=!1,Et=0,kt=1,Tt=[],Lt=0,Pt=!0,qt=!1,St="",Mt="",Bt=!1;const Rt=["fullscreenchange","webkitfullscreenchange","webkitendfullscreen"];let Vt,Dt=!1,jt=!1,Nt=rt.UNKNOWN,Ot=!1,Ut=null,It=null,At=null,Ht=!1,zt=0,Ft=!1;const Wt=Math.random();qe("playerId",Wt);const Zt=new ei;qe("previews",Zt);const Kt=be({left:0,width:0,height:0});l(e,Kt,(e=>i(157,ee=e))),qe("playerRect",Kt),qe("progressBarRect",be({left:0,width:0,height:0}));const Xt=N(),Gt=D(),Yt=(e,t)=>{Xt(e,t),Gt.dispatchEvent&&Gt.dispatchEvent(new CustomEvent(e,{detail:t,bubbles:!0,composed:!0}))};function Jt(){Qt(),re?.removeGlobalPlayerBusEventListeners(),le&&Rt.forEach((e=>{le.removeEventListener(e,ni)})),document.removeEventListener("keydown",hi),window.removeEventListener("resize",fi),window.removeEventListener("scroll",fi),ti(),function(e,t){const i=window.__ClientMetrics__;e&&i&&i.trackCustomMetric&&"function"==typeof i.trackCustomMetric&&window.__ClientMetrics__.trackCustomMetric({propertyUrl:t,metrics:Object.entries(e.metrics||{}).map((([e,t])=>({metric:e,value:t,name:"VIDEO"}))),objectType:"CUSTOM"})}(re?.player.getPerformanceInfo(),St),re?.player.destroy()}function Qt(){if(I&&yt<=0&&zt&&(re?.tryPlayed||o)){const e=Date.now()-zt;if(!fetch)return;const t=new Ls({dsn:"https://44b4056e3577437fa3d12c912b618ef0@sentry.ozon.ru/674"});t.addBreadcrumb({data:{src:St,time:e,domain:window.origin,...Object.keys(A).length?A:{}}}),t.setTag("playback_attempt_time",e),t.setTag("src",St),t.setTag("level","error"),t.setTag("time",e),t.setTag("domain",window.origin),t.report({message:St,name:"PlaybackAttemptTime"})}}function ti(){clearTimeout(At)}function ii(){Yt(ue.VideoTap,{}),pi(),bt&&_i()}function ni(){const e=document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement;i(28,Bt=!!e),Yt(ue.FullScreenStateChange,Bt),setTimeout((()=>fi()),500)}async function si(){if(Bt)document.exitFullscreen?document.exitFullscreen():document.msExitFullscreen?document.msExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen?document.webkitExitFullscreen():Promise.reject();else try{await function(e){return e.requestFullscreen?e.requestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.msRequestFullscreen?e.msRequestFullscreen():e.webkitRequestFullScreen?e.webkitRequestFullScreen(Element.ALLOW_KEYBOARD_INPUT):e.webkitEnterFullScreen?e.webkitEnterFullScreen(Element.ALLOW_KEYBOARD_INPUT):Promise.reject()}(le)}catch(e){console.error("Не удалось перейти в fullscreen режим",e)}}function oi(){return Nt===rt.LIVE&&vt-yt<=10}function ri(){i(30,Ot=oi())}function li(){re.addPlayerEventListeners(o);const e=ui((e=>function(e){if(Y?.length>0){const t=ai(Y,e),n=J.get(t)||null;n!==Ut&&(i(31,Ut=n),Yt(ue.EpisodeReached,Ut))}}(e))),t=ui((e=>function(e){const t=Q.get(e);t&&function(e){m>0&&(ti(),i(14,It=e),At=setTimeout((()=>{i(14,It=null),ti()}),1e3*m))}(t)}(e))),n={[`m-${ce.Play}`]:()=>{_i()},[`m-${ce.Pause}`]:()=>{pi()},[`m-${ce.PlaybackRateChange}`]:()=>{ri()},[`m-${ce.Rewind}`]:()=>{ri()},[`m-${ce.TimeUpdate}`]:i=>{t(i),e(i),bt||ri(),kt>1&&oi()&&re.onChangePlaybackRate(1)},[`m-${ge.LevelUpdated}`]:({data:e})=>{const{details:t}=e,{live:n}=t;i(13,Nt=n?rt.LIVE:rt.VOD)},[`m-${ge.ManifestUpdated}`]:({manifest:e})=>{i(13,Nt="dynamic"===e.type?rt.LIVE:rt.VOD)},[`m-${ce.LoadingStateChange}`]:e=>{i(27,qt=e)},[`m-${ce.DurationChange}`]:e=>{bt||ri(),e===1/0&&(i(30,Ot=!0),i(13,Nt=rt.LIVE))}};Object.entries(n).forEach((([e,t])=>{re?.player.on(e,t)}))}function di(){let[e,t]=function(e,t){return fs.test(e)?[new Cs(e,t),rt.UNKNOWN]:vs.test(e)||e&&e.indexOf("blob")>=0||e&&e.indexOf("chat:")>=0?[new bs(e.replace("chat:",""),t),rt.VOD]:gs.test(e)?[new xs(e,{startTime:0}),rt.UNKNOWN]:[null,rt.UNKNOWN]}(St,{startTime:s,extraRequestHeaders:H});W.length>=2&&([e,t]=[new Ss(W),rt.VOD]),i(13,Nt=t),null===e&&t===rt.UNKNOWN&&Yt(ce.Error,{message:"invalid src"}),e?re.player?.loadSource(e):re.player?.resetSource()}function hi(e){if(!_||!jt)return;if("KeyR"===e.code&&(e.metaKey||e.ctrlKey))return;const t=re?.player;if(t)switch(e.preventDefault(),e.stopPropagation(),e.code){case"KeyF":si();break;case"KeyM":re.onToggleMuted(!t.muted);break;case"Space":case"Enter":re.onTogglePlayPause();break;case"ArrowUp":re.onChangeVolume(Et+st>1?1:Et+st);break;case"ArrowDown":re.onChangeVolume(Et-st<0?0:Et-st);break;case"ArrowLeft":re?.onChangeTime(yt-10<0?0:yt-10);break;case"ArrowRight":re?.onChangeTime(yt+10>vt?vt:yt+10);break;case"Digit0":case"Digit1":case"Digit2":case"Digit3":case"Digit4":case"Digit5":case"Digit6":case"Digit7":case"Digit8":case"Digit9":re?.onChangeTime(vt*Number(e.code.split("Digit")[1])/10)}}function _i(){M>0&&(clearTimeout(Vt),Vt=setTimeout((()=>{clearTimeout(Vt),i(15,Ht=!0)}),1e3*M))}function pi(){clearTimeout(Vt),i(15,Ht=!1)}function mi(){i(32,Ft=!Ft)}j((()=>{zt=Date.now(),function(e,t,i,n){const s=e.getElementsByTagName("video-player");if(!s?.length)return;const o=Array.from(s).find((e=>e?.shadowRoot.querySelector(`[data-player-id='${t}']`)));if(!o)return;const r=o.parentElement;new MutationObserver((e=>{for(const i of e)"childList"===i.type&&i.removedNodes.length&&i.removedNodes.forEach((e=>{e.nodeType!==Node.TEXT_NODE&&e.nodeType!==Node.COMMENT_NODE&&(e.shadowRoot?.querySelector(`[data-player-id='${t}']`)||Array.from(e.getElementsByTagName("video-player")).includes(o))&&(r?.removeEventListener("DOMNodeRemoved",n),n())}))})).observe(e,{attributes:!0,childList:!0,subtree:!0})}(document,Wt,0,Jt),i(8,re=new ye({id:Wt,mediaRef:se,initialMuted:hs(pe)??!1,initialVolume:hs(me)??1,loop:hs(_e)??!1,startTime:s,dispatch:Xt,dispatchExternal:Yt})),fi(),hs(Ce)&&re.addGlobalPlayerBusEventListeners(),document.addEventListener("keydown",hi),window.addEventListener("resize",fi),window.addEventListener("scroll",fi),window.addEventListener("beforeunload",Qt),h||function(e,t){if(void 0===typeof window)return;if(!["prod","stg"].includes(e)||!t.domainName)return void console.error("Отправка перфоманс-метрик плеера не включена.\nЧтобы включить, передайте в плеер параметр environment ('prod'|'stg') и параметр performance_metrics_options.");if(window.__ClientMetrics__)return;const i=document.createElement("script");i.type="text/javascript",i.src="https://cdn2.ozone.ru/s3/client-metrics/3.7.40/main.js",i.onload=()=>{window.__ClientMetrics__&&(window.__ClientMetricsInit__={endpoint:"prod"===e?"https://xapi.ozon.ru/api/frontend-perf.bx/v2/events":"https://xapi-stg.ozonru.me/api/frontend-perf.bx/v2/events",object:{type:"APPLICATION"},trackMemory:!1,getAttributes:()=>({domainName:t.domainName,namespace:t.namespace||"bx",platform:"WEB",screenResolutionX:window.screen.width,screenResolutionY:window.screen.height,screenPixelDensity:window.devicePixelRatio,userAgent:navigator.userAgent})},window.__ClientMetrics__.init(window.__ClientMetricsInit__))},document.head.appendChild(i)}($e,u),i(12,Dt="undefined"!=typeof window&&/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(window.navigator.userAgent)),i(110,gt=!0),i(18,se.playsInline=z,se),i(18,se.disablePictureInPicture=F,se)}));const fi=ci((function(){if(!oe?.getBoundingClientRect)return;const{left:e,width:t,height:i}=oe.getBoundingClientRect();f(Kt,ee={left:e,width:t,height:i},ee)}),200);return e.$$set=e=>{"src"in e&&i(63,de=e.src),"src_list"in e&&i(64,he=e.src_list),"loop"in e&&i(65,_e=e.loop),"initial_muted"in e&&i(66,pe=e.initial_muted),"initial_volume"in e&&i(67,me=e.initial_volume),"start_time"in e&&i(68,fe=e.start_time),"try_autoplay"in e&&i(69,ve=e.try_autoplay),"environment"in e&&i(70,$e=e.environment),"performance_metrics_options"in e&&i(71,we=e.performance_metrics_options),"force_disable_metrics"in e&&i(72,xe=e.force_disable_metrics),"single_playing_instance"in e&&i(73,Ce=e.single_playing_instance),"hotkeys_enabled"in e&&i(74,Ee=e.hotkeys_enabled),"cuepoints"in e&&i(75,ke=e.cuepoints),"cuepoint_arise_duration"in e&&i(76,Te=e.cuepoint_arise_duration),"episodes"in e&&i(77,Le=e.episodes),"send_sentry_event"in e&&i(78,Pe=e.send_sentry_event),"sentry_meta_data"in e&&i(79,Se=e.sentry_meta_data),"extra_request_headers"in e&&i(80,Me=e.extra_request_headers),"only_toggle_audio_control"in e&&i(81,Be=e.only_toggle_audio_control),"show_settings"in e&&i(82,Re=e.show_settings),"show_level_settings"in e&&i(83,Ve=e.show_level_settings),"show_rate_settings"in e&&i(84,De=e.show_rate_settings),"show_fullscreen_control"in e&&i(85,je=e.show_fullscreen_control),"show_progress_bar"in e&&i(86,Ne=e.show_progress_bar),"show_mini_play_button"in e&&i(87,Oe=e.show_mini_play_button),"show_current_time"in e&&i(88,Ue=e.show_current_time),"show_duration"in e&&i(89,Ie=e.show_duration),"show_bottom_bar"in e&&i(90,Ae=e.show_bottom_bar),"show_audio_control"in e&&i(91,He=e.show_audio_control),"show_large_play_button_on_start"in e&&i(92,ze=e.show_large_play_button_on_start),"show_large_play_button_on_pause"in e&&i(93,Fe=e.show_large_play_button_on_pause),"show_large_play_button_on_end"in e&&i(94,We=e.show_large_play_button_on_end),"play_pause_on_click_video"in e&&i(95,Ze=e.play_pause_on_click_video),"show_preview_for_video_type"in e&&i(96,Ke=e.show_preview_for_video_type),"show_progress_bar_for_live_video"in e&&i(97,Xe=e.show_progress_bar_for_live_video),"show_time_tooltip"in e&&i(98,Ge=e.show_time_tooltip),"disable_progress_bar"in e&&i(99,Ye=e.disable_progress_bar),"disable_forward_rewind"in e&&i(100,Je=e.disable_forward_rewind),"hide_ui_on_pointer_leave"in e&&i(101,Qe=e.hide_ui_on_pointer_leave),"hide_ui_when_idle_seconds"in e&&i(102,et=e.hide_ui_when_idle_seconds),"custom_fullscreen_element_class_name"in e&&i(103,tt=e.custom_fullscreen_element_class_name),"custom_class_for_bottom_bar"in e&&i(0,it=e.custom_class_for_bottom_bar),"custom_play_button_class"in e&&i(1,nt=e.custom_play_button_class),"fit_to_container"in e&&i(104,ot=e.fit_to_container),"background_color"in e&&i(2,at=e.background_color),"bottom_bar_theme"in e&&i(3,lt=e.bottom_bar_theme),"one_line_controls"in e&&i(105,dt=e.one_line_controls),"video_object_fit_cover"in e&&i(106,ct=e.video_object_fit_cover),"preload"in e&&i(4,ut=e.preload),"disable_picture_in_picture"in e&&i(107,ht=e.disable_picture_in_picture),"plays_inline"in e&&i(108,_t=e.plays_inline),"fetch_priority"in e&&i(5,pt=e.fetch_priority),"src_list_for_preload"in e&&i(109,mt=e.src_list_for_preload),"bottom_bar_inline_styles"in e&&i(6,ft=e.bottom_bar_inline_styles)},e.$$.update=()=>{if(4&e.$$.dirty[2]&&i(122,n=hs(he)??[]),64&e.$$.dirty[2]&&(s=hs(fe)),128&e.$$.dirty[2]&&(o=hs(ve)??!1),2048&e.$$.dirty[3]&&i(53,r=hs(ot)??!1),32768&e.$$.dirty[2]&&i(17,a=hs(Le)||[]),4&e.$$.dirty[3]&&(d=hs(Ze)??!0),8192&e.$$.dirty[3]&&i(52,c=hs(ct)??!1),512&e.$$.dirty[2]&&(u=hs(we)??{}),1024&e.$$.dirty[2]&&(h=hs(xe)??!1),4096&e.$$.dirty[2]&&(_=hs(Ee)??!0),8192&e.$$.dirty[2]&&i(16,p=hs(ke)||[]),16384&e.$$.dirty[2]&&(m=hs(Te)??1),536870912&e.$$.dirty[2]&&i(51,g=hs(He)??!0),524288&e.$$.dirty[2]&&i(50,v=hs(Be)??!1),1048576&e.$$.dirty[2]&&i(49,$=hs(Re)??!1),2097152&e.$$.dirty[2]&&i(48,w=hs(Ve)??!0),4194304&e.$$.dirty[2]&&i(47,b=hs(De)??!0),8388608&e.$$.dirty[2]&&i(46,y=hs(je)??!0),16777216&e.$$.dirty[2]&&i(118,x=hs(Ne)??!0),33554432&e.$$.dirty[2]&&i(45,C=hs(Oe)??!0),67108864&e.$$.dirty[2]&&i(44,E=hs(Ue)??!0),134217728&e.$$.dirty[2]&&i(43,k=hs(Ie)??!0),16&e.$$.dirty[3]&&i(117,T=hs(Xe)??!0),64&e.$$.dirty[3]&&i(42,L=hs(Ye)??!1),128&e.$$.dirty[3]&&i(41,P=hs(Je)??!1),4096&e.$$.dirty[3]&&i(40,q=hs(dt)??!1),256&e.$$.dirty[3]&&(S=hs(Qe)??!0),512&e.$$.dirty[3]&&(M=hs(et)??3),1073741824&e.$$.dirty[2]&&i(121,B=hs(ze)??!0),1&e.$$.dirty[3]&&i(120,R=hs(Fe)??!1),2&e.$$.dirty[3]&&i(119,V=hs(We)??!1),32&e.$$.dirty[3]&&i(39,O=hs(Ge)??!0),65536&e.$$.dirty[2]&&(I=hs(Pe)??!0),131072&e.$$.dirty[2]&&(A=hs(Se)??{}),262144&e.$$.dirty[2]&&(H=hs(Me)??{}),32768&e.$$.dirty[3]&&(z=hs(_t)??!0),16384&e.$$.dirty[3]&&(F=hs(ht)??!0),65536&e.$$.dirty[3]&&i(116,W=hs(mt)??[]),2&e.$$.dirty[2]|536870912&e.$$.dirty[3]){const e=n.find((({src:e,codecs:t})=>function(e,t){const i=function(e){const t=e.split(".").pop()?.toLowerCase();return Ps[t]}(e);return!!i&&function(){if("undefined"!=typeof self)return self.MediaSource||self.WebKitMediaSource}()?.isTypeSupported(`${i}; codecs="${t}"`)}(e,t)));i(113,St=e?e.src:de),n.length>0&&!e&&Yt(ce.Error,{message:"None of the provided codecs are supported"})}1048584&e.$$.dirty[3]&&(Zt.reset(),Ke&&Zt.load({videoSrc:St,videoType:Ke})),256&e.$$.dirty[0]&&re&&(re.isPlayerObjectAttached.subscribe((e=>{i(111,ae=e)})),re.duration.subscribe((e=>{i(9,vt=e)})),re.notStarted.subscribe((e=>{i(112,$t=e)})),re.ended.subscribe((e=>{i(10,wt=e)})),re.playing.subscribe((e=>{i(11,bt=e)})),re.currentTime.subscribe((e=>{i(19,yt=e)})),re.buffered.subscribe((e=>{i(20,xt=e)})),re.muted.subscribe((e=>{i(21,Ct=e)})),re.volume.subscribe((e=>{i(22,Et=e)})),re.playbackRate.subscribe((e=>{i(23,kt=e)})),re.levels.subscribe((e=>{i(24,Tt=e)})),re.activeLevel.subscribe((e=>{i(25,Lt=e)})),re.autoLevel.subscribe((e=>{i(26,Pt=e)}))),4480&e.$$.dirty[0]|4588544&e.$$.dirty[3]&&(tt&&i(115,le=document.getElementsByClassName(tt)[0]),Dt&&gt&&ae&&i(115,le=re.player.videoElement),le||i(115,le=oe)),4194304&e.$$.dirty[3]&&le&&Rt.forEach((e=>{le.addEventListener(e,ni)})),35840&e.$$.dirty[0]|470286336&e.$$.dirty[3]&&i(38,Z=!Ht&&($t&&B||!bt&&R||wt&&V)),268435456&e.$$.dirty[2]&&i(37,K=hs(Ae)??!0),49152&e.$$.dirty[0]&&i(36,X=!Ht||Boolean(It)),256&e.$$.dirty[0]|3145728&e.$$.dirty[3]&&re&&St!==Mt&&(i(13,Nt=rt.UNKNOWN),di(),i(114,Mt=St)),256&e.$$.dirty[0]|8388608&e.$$.dirty[3]&&re&&W.length>0&&(i(13,Nt=rt.VOD),di()),8704&e.$$.dirty[0]|50331648&e.$$.dirty[3]&&i(35,G=function(e,t,i,n){return e&&(i!==rt.LIVE||t&&i===rt.LIVE)&&!!n}(x,T,Nt,vt)),131072&e.$$.dirty[0]&&i(34,Y=a.map((e=>e.time))),131072&e.$$.dirty[0]&&i(33,J=a.reduce(((e,t)=>(e.set(t.time,t),e)),new Map)),65536&e.$$.dirty[0]&&(Q=p.reduce(((e,t)=>(e.has(t.time)?e.get(t.time).collapsed.push(t):e.set(t.time,{...t,collapsed:[]}),e)),new Map)),256&e.$$.dirty[0]&&re&&Yt(ue.PlayerInit,re.player),256&e.$$.dirty[0]|262144&e.$$.dirty[3]&&ae&&(re.setPlayerState(),li()),2048&e.$$.dirty[0]|262144&e.$$.dirty[3]&&ae&&bt&&_i(),32768&e.$$.dirty[0]&&Yt(Ht?ce.HideUi:ce.ShowUi)},[it,nt,at,lt,ut,pt,ft,oe,re,vt,wt,bt,Dt,Nt,It,Ht,p,a,se,yt,xt,Ct,Et,kt,Tt,Lt,Pt,qt,Bt,jt,Ot,Ut,Ft,J,Y,G,X,K,Z,O,q,P,L,k,E,C,y,b,w,$,v,g,c,r,Wt,Kt,Yt,function(){if(Yt(ue.VideoClick),Ft)i(32,Ft=!1);else{if(!d)return ii();Dt&&ii(),re?.onTogglePlayPause()}},si,function(e){!bt||!Bt||0!==e.clientX&&0!==e.clientY?(pi(),bt&&_i()):i(15,Ht=!0)},function(){bt&&S&&i(15,Ht=!0)},mi,ne,de,he,_e,pe,me,fe,ve,$e,we,xe,Ce,Ee,ke,Te,Le,Pe,Se,Me,Be,Re,Ve,De,je,Ne,Oe,Ue,Ie,Ae,He,ze,Fe,We,Ze,Ke,Xe,Ge,Ye,Je,Qe,et,tt,ot,dt,ct,ht,_t,mt,gt,ae,$t,St,Mt,le,W,T,x,V,R,B,n,function(e){U[e?"unshift":"push"]((()=>{se=e,i(18,se)}))},()=>re?.onTogglePlayPause(),()=>re?.onTogglePlayPause(),e=>re?.onChangeTime(e.detail),()=>re?.onMouseUpProgress(),()=>re?.onMouseDownProgress(),e=>re?.onToggleMuted(e.detail),e=>re?.onChangeVolume(e.detail),e=>re?.onChangePlaybackRate(e.detail),e=>re?.onChangeLevel(e.detail),()=>re?.onToggleAutoLevel(),()=>Yt(ue.BackToLive),()=>mi(),function(e){U[e?"unshift":"push"]((()=>{oe=e,i(7,oe)}))},()=>{i(29,jt=!0)},()=>{i(29,jt=!1)}]}class Os extends J{constructor(e){super(),this.shadowRoot.innerHTML="<style>.player{position:relative;width:100%;padding-top:56.25%;font-family:Inter, arial, sans-serif;overflow:hidden}.videoWrapper{position:absolute;top:0;left:0;width:100%;height:100%}.videoContainer{z-index:0;position:absolute;top:0;left:0;width:100%;height:100%}.videoContainer>video{z-index:-1;position:absolute;top:0;left:0;width:100%;height:100%}.videoContainer.videoObjectFitCover>video{object-fit:cover}.bottomBar{position:absolute;bottom:0;left:0;width:100%}.bottomBar.hidden{display:none}.uiHidden{cursor:none}.centralButtonContainer{position:absolute;top:50%;left:50%;transform:translate(-50%, -50%)}.player.fitToContainer{width:100%;height:100%;padding-top:0}</style>",le(this,{target:this.shadowRoot,props:{...M(this.attributes),$$slots:B(this)},customElement:!0},Ns,js,r,{src:63,src_list:64,loop:65,initial_muted:66,initial_volume:67,start_time:68,try_autoplay:69,environment:70,performance_metrics_options:71,force_disable_metrics:72,single_playing_instance:73,hotkeys_enabled:74,cuepoints:75,cuepoint_arise_duration:76,episodes:77,send_sentry_event:78,sentry_meta_data:79,extra_request_headers:80,only_toggle_audio_control:81,show_settings:82,show_level_settings:83,show_rate_settings:84,show_fullscreen_control:85,show_progress_bar:86,show_mini_play_button:87,show_current_time:88,show_duration:89,show_bottom_bar:90,show_audio_control:91,show_large_play_button_on_start:92,show_large_play_button_on_pause:93,show_large_play_button_on_end:94,play_pause_on_click_video:95,show_preview_for_video_type:96,show_progress_bar_for_live_video:97,show_time_tooltip:98,disable_progress_bar:99,disable_forward_rewind:100,hide_ui_on_pointer_leave:101,hide_ui_when_idle_seconds:102,custom_fullscreen_element_class_name:103,custom_class_for_bottom_bar:0,custom_play_button_class:1,fit_to_container:104,background_color:2,bottom_bar_theme:3,one_line_controls:105,video_object_fit_cover:106,preload:4,disable_picture_in_picture:107,plays_inline:108,fetch_priority:5,src_list_for_preload:109,bottom_bar_inline_styles:6},null,[-1,-1,-1,-1,-1,-1]),e&&(e.target&&$(e.target,this,e.anchor),e.props&&(this.$set(e.props),K()))}static get observedAttributes(){return["src","src_list","loop","initial_muted","initial_volume","start_time","try_autoplay","environment","performance_metrics_options","force_disable_metrics","single_playing_instance","hotkeys_enabled","cuepoints","cuepoint_arise_duration","episodes","send_sentry_event","sentry_meta_data","extra_request_headers","only_toggle_audio_control","show_settings","show_level_settings","show_rate_settings","show_fullscreen_control","show_progress_bar","show_mini_play_button","show_current_time","show_duration","show_bottom_bar","show_audio_control","show_large_play_button_on_start","show_large_play_button_on_pause","show_large_play_button_on_end","play_pause_on_click_video","show_preview_for_video_type","show_progress_bar_for_live_video","show_time_tooltip","disable_progress_bar","disable_forward_rewind","hide_ui_on_pointer_leave","hide_ui_when_idle_seconds","custom_fullscreen_element_class_name","custom_class_for_bottom_bar","custom_play_button_class","fit_to_container","background_color","bottom_bar_theme","one_line_controls","video_object_fit_cover","preload","disable_picture_in_picture","plays_inline","fetch_priority","src_list_for_preload","bottom_bar_inline_styles"]}get src(){return this.$$.ctx[63]}set src(e){this.$$set({src:e}),K()}get src_list(){return this.$$.ctx[64]}set src_list(e){this.$$set({src_list:e}),K()}get loop(){return this.$$.ctx[65]}set loop(e){this.$$set({loop:e}),K()}get initial_muted(){return this.$$.ctx[66]}set initial_muted(e){this.$$set({initial_muted:e}),K()}get initial_volume(){return this.$$.ctx[67]}set initial_volume(e){this.$$set({initial_volume:e}),K()}get start_time(){return this.$$.ctx[68]}set start_time(e){this.$$set({start_time:e}),K()}get try_autoplay(){return this.$$.ctx[69]}set try_autoplay(e){this.$$set({try_autoplay:e}),K()}get environment(){return this.$$.ctx[70]}set environment(e){this.$$set({environment:e}),K()}get performance_metrics_options(){return this.$$.ctx[71]}set performance_metrics_options(e){this.$$set({performance_metrics_options:e}),K()}get force_disable_metrics(){return this.$$.ctx[72]}set force_disable_metrics(e){this.$$set({force_disable_metrics:e}),K()}get single_playing_instance(){return this.$$.ctx[73]}set single_playing_instance(e){this.$$set({single_playing_instance:e}),K()}get hotkeys_enabled(){return this.$$.ctx[74]}set hotkeys_enabled(e){this.$$set({hotkeys_enabled:e}),K()}get cuepoints(){return this.$$.ctx[75]}set cuepoints(e){this.$$set({cuepoints:e}),K()}get cuepoint_arise_duration(){return this.$$.ctx[76]}set cuepoint_arise_duration(e){this.$$set({cuepoint_arise_duration:e}),K()}get episodes(){return this.$$.ctx[77]}set episodes(e){this.$$set({episodes:e}),K()}get send_sentry_event(){return this.$$.ctx[78]}set send_sentry_event(e){this.$$set({send_sentry_event:e}),K()}get sentry_meta_data(){return this.$$.ctx[79]}set sentry_meta_data(e){this.$$set({sentry_meta_data:e}),K()}get extra_request_headers(){return this.$$.ctx[80]}set extra_request_headers(e){this.$$set({extra_request_headers:e}),K()}get only_toggle_audio_control(){return this.$$.ctx[81]}set only_toggle_audio_control(e){this.$$set({only_toggle_audio_control:e}),K()}get show_settings(){return this.$$.ctx[82]}set show_settings(e){this.$$set({show_settings:e}),K()}get show_level_settings(){return this.$$.ctx[83]}set show_level_settings(e){this.$$set({show_level_settings:e}),K()}get show_rate_settings(){return this.$$.ctx[84]}set show_rate_settings(e){this.$$set({show_rate_settings:e}),K()}get show_fullscreen_control(){return this.$$.ctx[85]}set show_fullscreen_control(e){this.$$set({show_fullscreen_control:e}),K()}get show_progress_bar(){return this.$$.ctx[86]}set show_progress_bar(e){this.$$set({show_progress_bar:e}),K()}get show_mini_play_button(){return this.$$.ctx[87]}set show_mini_play_button(e){this.$$set({show_mini_play_button:e}),K()}get show_current_time(){return this.$$.ctx[88]}set show_current_time(e){this.$$set({show_current_time:e}),K()}get show_duration(){return this.$$.ctx[89]}set show_duration(e){this.$$set({show_duration:e}),K()}get show_bottom_bar(){return this.$$.ctx[90]}set show_bottom_bar(e){this.$$set({show_bottom_bar:e}),K()}get show_audio_control(){return this.$$.ctx[91]}set show_audio_control(e){this.$$set({show_audio_control:e}),K()}get show_large_play_button_on_start(){return this.$$.ctx[92]}set show_large_play_button_on_start(e){this.$$set({show_large_play_button_on_start:e}),K()}get show_large_play_button_on_pause(){return this.$$.ctx[93]}set show_large_play_button_on_pause(e){this.$$set({show_large_play_button_on_pause:e}),K()}get show_large_play_button_on_end(){return this.$$.ctx[94]}set show_large_play_button_on_end(e){this.$$set({show_large_play_button_on_end:e}),K()}get play_pause_on_click_video(){return this.$$.ctx[95]}set play_pause_on_click_video(e){this.$$set({play_pause_on_click_video:e}),K()}get show_preview_for_video_type(){return this.$$.ctx[96]}set show_preview_for_video_type(e){this.$$set({show_preview_for_video_type:e}),K()}get show_progress_bar_for_live_video(){return this.$$.ctx[97]}set show_progress_bar_for_live_video(e){this.$$set({show_progress_bar_for_live_video:e}),K()}get show_time_tooltip(){return this.$$.ctx[98]}set show_time_tooltip(e){this.$$set({show_time_tooltip:e}),K()}get disable_progress_bar(){return this.$$.ctx[99]}set disable_progress_bar(e){this.$$set({disable_progress_bar:e}),K()}get disable_forward_rewind(){return this.$$.ctx[100]}set disable_forward_rewind(e){this.$$set({disable_forward_rewind:e}),K()}get hide_ui_on_pointer_leave(){return this.$$.ctx[101]}set hide_ui_on_pointer_leave(e){this.$$set({hide_ui_on_pointer_leave:e}),K()}get hide_ui_when_idle_seconds(){return this.$$.ctx[102]}set hide_ui_when_idle_seconds(e){this.$$set({hide_ui_when_idle_seconds:e}),K()}get custom_fullscreen_element_class_name(){return this.$$.ctx[103]}set custom_fullscreen_element_class_name(e){this.$$set({custom_fullscreen_element_class_name:e}),K()}get custom_class_for_bottom_bar(){return this.$$.ctx[0]}set custom_class_for_bottom_bar(e){this.$$set({custom_class_for_bottom_bar:e}),K()}get custom_play_button_class(){return this.$$.ctx[1]}set custom_play_button_class(e){this.$$set({custom_play_button_class:e}),K()}get fit_to_container(){return this.$$.ctx[104]}set fit_to_container(e){this.$$set({fit_to_container:e}),K()}get background_color(){return this.$$.ctx[2]}set background_color(e){this.$$set({background_color:e}),K()}get bottom_bar_theme(){return this.$$.ctx[3]}set bottom_bar_theme(e){this.$$set({bottom_bar_theme:e}),K()}get one_line_controls(){return this.$$.ctx[105]}set one_line_controls(e){this.$$set({one_line_controls:e}),K()}get video_object_fit_cover(){return this.$$.ctx[106]}set video_object_fit_cover(e){this.$$set({video_object_fit_cover:e}),K()}get preload(){return this.$$.ctx[4]}set preload(e){this.$$set({preload:e}),K()}get disable_picture_in_picture(){return this.$$.ctx[107]}set disable_picture_in_picture(e){this.$$set({disable_picture_in_picture:e}),K()}get plays_inline(){return this.$$.ctx[108]}set plays_inline(e){this.$$set({plays_inline:e}),K()}get fetch_priority(){return this.$$.ctx[5]}set fetch_priority(e){this.$$set({fetch_priority:e}),K()}get src_list_for_preload(){return this.$$.ctx[109]}set src_list_for_preload(e){this.$$set({src_list_for_preload:e}),K()}get bottom_bar_inline_styles(){return this.$$.ctx[6]}set bottom_bar_inline_styles(e){this.$$set({bottom_bar_inline_styles:e}),K()}}customElements.define("video-player",Os)})()}},t={};function i(n){var s=t[n];if(void 0!==s)return s.exports;var o=t[n]={exports:{}};return e[n].call(o.exports,o,o.exports,i),o.exports}i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var n={};!function(){"use strict";i.r(n);i(802)}(),window.__federation__.deps["@ozon-shared-deps/ozon-fe__media-player-standard@0.0.51"]||(window.__federation__.deps["@ozon-shared-deps/ozon-fe__media-player-standard@0.0.51"]=Object.defineProperties({},Object.getOwnPropertyDescriptors(n)))}();