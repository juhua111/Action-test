(self.webpackChunkHost=self.webpackChunkHost||[]).push([["rp-all-list-questions"],{"24f4e":function(t,e,n){"use strict";n.a(t,(async function(t,r){try{var o=n("b14ad"),c=n.n(o),l=n("f4465"),d=n.n(l),f=n("f3a4c"),h=n.n(f),v=n("7f056"),y=t([v]);v=(y.then?(await y)():y)[0];var w=(T={functional:!0,name:"icMDanger",meta:{width:24,height:24,viewBox:"0 0 24 24"},render:function(a,t){return a("svg",d()(d()({},t.data),{},{attrs:d()({xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24"},t.data.attrs),domProps:{innerHTML:'<path fill="currentColor" d="M13 21a1 1 0 1 1-2 0 1 1 0 0 1 2 0m-1-10a1 1 0 0 1 1 1v5a1 1 0 1 1-2 0v-5a1 1 0 0 1 1-1"/><path fill="currentColor" d="M12.874 4.505a1 1 0 0 0-1.736-.001L3.136 18.503A1 1 0 0 0 4.004 20h4.004a1 1 0 0 1 0 2H4.004C1.7 22 .257 19.51 1.4 17.51l8.002-14c1.152-2.015 4.057-2.014 5.208.002l7.99 13.999c1.143 2-.301 4.488-2.604 4.488h-3.99a1 1 0 0 1 0-2h3.99a1 1 0 0 0 .869-1.497z"/>'}}))}},(_={}).successIcon={functional:!0,name:"icMConfirmed",meta:{width:24,height:24,viewBox:"0 0 24 24"},render:function(t,e){return t("svg",d()(d()({},e.data),{},{attrs:d()({xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24"},e.data.attrs),domProps:{innerHTML:'<path fill="currentColor" d="m11 13.586 4.293-4.293a1 1 0 1 1 1.414 1.414l-5 5a.997.997 0 0 1-1.414 0l-3-3a1 1 0 1 1 1.414-1.414z"/><path fill="currentColor" d="M1 12C1 5.925 5.925 1 12 1s11 4.925 11 11-4.925 11-11 11S1 18.075 1 12m11-9a9 9 0 1 0 0 18 9 9 0 0 0 0-18"/>'}}))}},_.errorIcon=T,_),m=w.successIcon,A=w.errorIcon,x="error",S="success",Z={[S]:m,[x]:A};e.Z={name:"Notification",functional:!0,props:{notification:h().shape({type:h().oneOf([S,x]).isRequired,text:h().string.isRequired,action:h().string}).loose,testInfo:h().object.def({})},render(t,e){var n=e.$style,r=e.props,o=e._v,data=e.data,l=Array.isArray(data.class)?data.class:[data.class||""],d=r.notification,f=r.testInfo,h=d.type,text=d.text;return t(v.OzNotification,{attrs:{icon:Z[h]||m,iconColor:h===x?"bgAccentPrimary":"bgPositivePrimary",testInfo:f},class:[].concat(c()(l),[n[h]])},[o(text)])}},r()}catch(t){r(t)}var _,T}))},e73b5:function(t,e,n){"use strict";n.a(t,(async function(t,r){try{var o=n("36b51"),c=n.n(o),l=n("f3a4c"),d=n.n(l),f=n("47d16"),h=n("722d6"),v=t([f,h]);[f,h]=v.then?(await v)():v;e.Z={name:"LoadMore",functional:!0,props:{paging:d().shape({loadMoreText:d().string.def("Показать больше"),page:d().number.def(1),perPage:d().number.def(10),total:d().number.def(0)}).loose,loading:d().bool.def(!1)},render(t,e){var n=e.$style,r=e.props,o=e.listeners,data=e.data,l=r.paging,d=l.loadMoreText,v=l.page,y=r.loading,w=Array.isArray(data.class)?data.class:[data.class||""];return t("div",c()([{class:w},{directives:data.directives}]),[t("div",{class:n.loadMore},[y?t(h.DsLoader,{attrs:{size:500}}):t(f.DsLinkButton,{attrs:{size:"400",title:d,textColor:"inherit"},on:{click:function(){y||o.loadMore(v+1)}}})])])}},r()}catch(t){r(t)}}))},e5c88:function(t,e,n){"use strict";n.a(t,(async function(t,r){try{var o=n("36b51"),c=n.n(o),l=n("b14ad"),d=n.n(l),f=n("f4465"),h=n.n(f),v=n("f3a4c"),y=n.n(v),w=n("d1bcf"),m=n("c1623"),A=n("1846a"),x=n("8d926"),S=n("ff57e"),Z=n("3ea25"),_=n("056eb"),T=n("15e0b"),I=n("19d01"),k=n("69496"),B=n("339a9"),C=n("55d43"),E=t([m,A,Z,_,T,I,B]);[m,A,Z,_,T,I,B]=E.then?(await E)():E;var R=(N={functional:!0,name:"icSAwardFilled",meta:{width:16,height:16,viewBox:"0 0 16 16"},render:function(t,e){return t("svg",h()(h()({},e.data),{},{attrs:h()({xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16"},e.data.attrs),domProps:{innerHTML:'<path fill="currentColor" d="M12.662 5.276c0 2.36-2.087 4.276-4.66 4.276S3.34 7.637 3.34 5.276 5.428 1 8.001 1c2.574 0 4.66 1.915 4.66 4.276"/><path fill="currentColor" d="M7.943 10.864a6.25 6.25 0 0 0 3.862-1.312c1.018-.796 1.26-.511 1.555 0l1.459 2.523c.42.725.048.963-.477.938l-1.065-.054c-.956-.048-1.002-.153-1.472.584l-.612.961c-.379.595-.809.581-1.058.149l-2.091-3.616s-1.72 3.063-2.091 3.616c-.331.492-.688.433-.964 0l-.707-1.11c-.452-.709-.55-.63-1.471-.584l-1.066.054c-.524.025-.988-.054-.603-.72.62-1.07.966-1.67 1.585-2.741.285-.493.481-.69 1.364 0a6.23 6.23 0 0 0 3.852 1.312"/>'}}))}},(M={}).AwardIcon=N,M).AwardIcon;e.Z={name:"Answer",functional:!0,inject:{localization:{default:{review:{copyUrl:"Скопировать ссылку",bestAnswer:"Лучший ответ",entityAnswer:"ответ",yes:"Да",no:"Нет"}}}},props:{id:y().number.isRequired,content:y().string.def(""),author:m.Z.props,status:y().shape(A.Z.props).loose,createdAt:y().string.def(""),usefulness:y().shape({type:_.Z.props.type,actions:_.Z.props.actions}),trustFactor:y().string.def(""),additionalActions:y().arrayOf(y().object).def([]),isTheBest:y().bool.def(!1),makeTheBestAction:y().any.def(null),currentAction:y().shape({type:y().string}).loose,notification:Z.Z.props.notification,isUserLoggedIn:y().bool.def(!1),isAnchor:y().bool.def(!1),isMobile:y().bool.def(!1),mounted:y().bool.def(!1),rulesLink:x.Ql,sharing:k.as},render(t,e){var n=e.props,r=e.$style,o=e.slots,l=e._v,data=e.data,f=e.listeners,v=e.highlightStyle,y=e.injections,x=e.parent,k=y.localization,E=n.id,content=n.content,M=n.author,N=n.status,L=n.createdAt,O=n.usefulness,$=n.additionalActions,z=n.isTheBest,Q=n.makeTheBestAction,P=n.trustFactor,U=n.notification,D=n.currentAction,W=n.isUserLoggedIn,F=n.isAnchor,V=n.isMobile,j=n.mounted,K=n.rulesLink,H=n.sharing,Y=Array.isArray(data.class)?data.class:[data.class||""],G={};o&&"function"==typeof o&&(G.abuseReport=o().abuseReport||[]);var X=(0,C.c)($,H,k.review.copyUrl),J=X.length?[t(T.Z,c()([{attrs:{actions:X,testInfoBtn:"qlist-answer-context-".concat(E)}},{on:{doAction:function(t){return f.doAction(h()({id:E},t))}}}]))]:[],tt=Q?[t(B.DsButton,c()([{attrs:{theme:"custom",title:V?"":Q.text,icon:R,"background-color":"--graphicPositivePrimary","text-color":"--white","icon-color":"--white",size:"400"},class:r.bestButton},{on:{click:function(){return f.doAction(h()({id:E},Q))}}}]))]:[],et=z?[t("div",{class:r.bestBadge},[t(w.Z,{attrs:{type:"success",text:k.review.bestAnswer}})])]:[],nt=D&&D.confirmation,it=nt&&D.id===E?[t(I.Z,c()([{class:r.confirmation,attrs:{type:nt.type,text:nt.text,confirmText:nt.confirmText||k.review.yes,cancelText:nt.cancelText||x.$i18n.t("d")||k.review.no,testInfoConfirm:"qlist-answer-confirm-deletion"}},{on:{confirm:function(){f.confirmAction(D)},cancel:function(){f.cancelAction()}}}]))]:[],st=P?[t(w.Z,{attrs:{text:P},class:r.trustFactor})]:[],at=U?[t(Z.Z,{class:r.notification,attrs:{notification:U}})]:[],ot=t("div",{class:r.date},[l(L)]),ct=N?[t("div",{class:r.status},[t(A.Z,{attrs:{status:N,"rules-link":K,"entity-type":S.e.ANSWER,"is-mobile":V}})])]:[];return t("div",c()([{class:[].concat(d()(Y),[{[r.mobile]:V,[r.best]:z}])},{attrs:data.attrs,directives:data.directives}]),[ct,t("div",{class:[r.entity,{[V?v.highlightMobile:v.highlight]:F&&j}]},[et,t("div",{class:r.header},[t(m.Z,{attrs:{"avatar-size":"s",name:M.name,"avatar-url":M.avatarUrl,"partner-caption":M.partnerCaption,"is-mobile":V}},[V?[ot]:[]]),V?[]:[ot]]),t("div",{class:r.body},[st,t("div",{class:r.content},[l(content)]),t("div",{class:r.footer},[t("div",{class:r.footerLeft},[t(_.Z,c()([{attrs:{type:O.type,actions:O.actions,"is-user-logged-in":W,"text-title":k.review.entityAnswer}},{on:{doAction:function(t){return f.doAction(h()({id:E},t))},showLogin:function(){return f.showLogin()}}}])),tt]),J])])]),t("div",{class:r.actions},[G.abuseReport,it,at])])}},r()}catch(t){r(t)}var M,N}))},"5a426":function(t,e,n){"use strict";n.a(t,(async function(t,r){try{var o=n("b14ad"),c=n.n(o),l=n("f4465"),d=n.n(l),f=n("f3a4c"),h=n.n(f),v=n("339a9"),y=n("38e4b"),w=n("826d1"),m=n("c1623"),A=n("a02aa"),x=t([v,y,w,m]);[v,y,w,m]=x.then?(await x)():x;e.Z={name:"CreateAnswer",inject:{localization:{default:{createAnswer:{subscribeCheckbox:"Получать уведомления об ответах на этот вопрос",placeholder:"Ваш ответ на вопрос"}}}},props:{user:m.Z.props,settings:h().shape({canSubscribe:h().bool.def(!1)}).loose.def({}),creating:h().bool.def(!1),isMobile:h().bool.def(!1)},data(){var t=this.$props.settings.canSubscribe;return{createData:d()({content:""},t?{subscribe:!0}:{}),cancelButtonText:this.$i18n.t("d"),submitButtonText:this.$i18n.t("ad")}},mounted(){this.$refs.textarea&&this.$refs.textarea.$refs.inputEl.focus()},methods:{changeData(data){this.createData=data}},render(){var t=this,e=arguments[0],n=this._v,r=this.$props,o=this.$listeners,l=this.$style,data=this.$data,f=this.createData,h=this.isMobile,x=this.localization,S=r.user,Z=void 0===S?{}:S,_=r.settings,T=(_=void 0===_?{}:_).canSubscribe,I=r.creating,k=Array.isArray(data.class)?data.class:[data.class||""],B=T?[e(w.OzCheckbox,{attrs:{"label-vertical-align":"start",checked:f.subscribe},on:{change:function(e){return t.changeData(d()(d()({},f),{},{subscribe:e}))}}},[n(x.createAnswer.subscribeCheckbox)])]:[],C=function(t){t.preventDefault(),f.content&&!I&&o.create(f)};return e("form",{class:[].concat(c()(k),[{[l.mobile]:h}]),attrs:{"no-validate":!0},on:{submit:C}},[e(m.Z,{attrs:{name:Z.name,"avatar-url":Z.avatarUrl,"partner-caption":Z.partnerCaption,"avatar-size":"s","is-mobile":h},class:l.user}),e("div",{class:l.body},[e(y.OzTextarea,{ref:"textarea",class:l.textarea,attrs:{"max-height":"100px","auto-height-by-rows":!0,"max-length":A.kX,placeholder:x.createAnswer.placeholder,value:f.content,testInfo:{automatizationId:"qlist-answer-textarea"}},on:{input:function(e){return t.changeData(d()(d()({},f),{},{content:e}))}}}),e("div",{class:l.action},[e("div",[].concat(B)),e("div",{class:l.buttons},[e(v.DsButton,{class:l.button,attrs:{size:"400",theme:"actionSecondary",title:this.cancelButtonText},on:{click:function(){return o.cancel()}}}),e(v.DsButton,{class:l.button,attrs:{size:"400",title:this.submitButtonText,disabled:!f.content||f.content&&f.content.length<2,loading:I,testInfo:{automatizationId:"qlist-answer-send"}},on:{click:C}})])])])])}},r()}catch(t){r(t)}}))},c05a6:function(t,e,n){"use strict";n.a(t,(async function(t,r){try{var o=n("36b51"),c=n.n(o),l=n("b14ad"),d=n.n(l),f=n("f4465"),h=n.n(f),v=n("f3a4c"),y=n.n(v),w=n("70697"),m=n("339a9"),A=n("47d16"),x=n("39442"),S=n("15e0b"),Z=n("c1623"),_=n("1846a"),T=n("8d926"),I=n("ff57e"),k=n("056eb"),B=n("3ea25"),C=n("19d01"),E=n("69496"),R=n("55d43"),M=t([w,m,A,S,Z,_,k,B,C]);[w,m,A,S,Z,_,k,B,C]=M.then?(await M)():M;var N=(O={functional:!0,name:"icSPlusFilled",meta:{width:16,height:16,viewBox:"0 0 16 16",deprecated:!0},render:function(t,e){return t("svg",h()(h()({},e.data),{},{attrs:h()({xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16"},e.data.attrs),domProps:{innerHTML:'<path fill="currentColor" d="M8 16A8 8 0 1 0 8 0a8 8 0 0 0 0 16M9 4v3h3a1 1 0 1 1 0 2H9v3a1 1 0 1 1-2 0V9H4a1 1 0 0 1 0-2h3V4a1 1 0 0 1 2 0"/>'}}))}},(L={}).plusIcon=O,L).plusIcon;e.Z={name:"Question",functional:!0,inject:{localization:{default:{review:{copyUrl:"Скопировать ссылку",yes:"Да",no:"Нет"}}}},props:{id:y().number.isRequired,content:y().string.def(""),createAnswerAction:y().any,getAnswersAction:y().any,author:Z.Z.props,status:y().shape(_.Z.props).loose,itemId:y().number.def(0),product:y().oneOfType([y().shape({name:y().string,coverImage:y().string,url:y().string}).loose,{validator:function(t){return void 0===t}},{validator:function(t){return null===t}}]).def(void 0),usefulness:y().shape({type:k.Z.props.type,actions:k.Z.props.actions}),createdAt:y().string.def(""),additionalActions:S.Z.props.actions,currentAction:y().shape({type:y().string}).loose,notification:B.Z.props.notification,isUserLoggedIn:y().bool.def(!1),answers:y().array.def([]),isAnchor:y().bool.def(!1),isMobile:y().bool.def(!1),mounted:y().bool.def(!1),rulesLink:T.Ql,url:y().string.def(""),sharing:E.as},data(){return{cancelButton:this.$i18n.t("d")}},render(t,e){var n=e.props,r=e.$style,o=e.slots,l=e._v,data=e.data,f=e.listeners,v=e.highlightStyle,y=e.injections,T=e.parent,E=y.localization,M=n.id,content=n.content,L=n.createAnswerAction,O=n.createdAt,$=n.author,z=n.status,Q=n.additionalActions,P=n.usefulness,U=n.getAnswersAction,D=n.notification,W=n.currentAction,F=n.isUserLoggedIn,V=n.answers,j=n.isAnchor,K=n.isMobile,H=n.itemId,Y=n.product,G=n.mounted,X=n.rulesLink,J=n.url,tt=n.sharing,et=Array.isArray(data.class)?data.class:[data.class||""],nt=!!H&&Y,it=!K,st={},at=D&&"success"===D.type?"qlist-answer-success-text":"qist-error-message";if(o&&"function"==typeof o){var ot=o();["createAnswer","abuseReport","answers"].forEach((function(t){st[t]=ot[t]||[]}))}var header,ct=U&&V.length<2?[t(A.DsLinkButton,{class:r.getAnswers,attrs:{size:"400",icon:N,iconColor:"bgActionPrimary",title:U.loadMoreText},on:{click:function(){return f.doAction(h()({id:M},U))}}})]:[],ut=[t("div",{class:r.footerLeft},[L?[t(m.DsButton,c()([{class:r.createAnswer,attrs:{size:"400"}},{directives:[{name:"detect-viewport",value:{once:!0,callback:function(){return f.viewCreateBtn(M)}}}]},{attrs:{title:L.text,testInfo:{automatizationId:"qist-answer-button"}},on:{click:function(){f.clickCreateBtn(M),f.doAction(h()({id:M},L))}}}]))]:[],P?[t(k.Z,c()([{attrs:{type:P.type,actions:P.actions,"is-user-logged-in":F}},{on:{doAction:function(t){return f.doAction(h()({id:M},t))},showLogin:function(){return f.showLogin()}}}]))]:[]])],lt=(0,R.c)(Q,tt,E.review.copyUrl),ft=lt.length?[t(S.Z,c()([{attrs:{actions:lt,testInfoBtn:"qlist-question-context-".concat(M)}},{on:{doAction:function(t){return f.doAction(h()({id:M},t))}}}]))]:[],ht=W&&W.confirmation,pt=ht&&W.id===M?[t(C.Z,c()([{class:r.confirmation,attrs:{type:ht.type,text:ht.text,confirmText:ht.confirmText||E.review.yes,cancelText:ht.cancelText||T.$i18n.t("d")||E.review.no,testInfoConfirm:"qlist-question-confirm-deletion"}},{on:{confirm:function(){f.confirmAction(W)},cancel:function(){f.cancelAction()}}}]))]:[],gt=D?[t(B.Z,{class:r.notification,attrs:{notification:D,testInfo:{automatizationId:at}}})]:[],vt=t("div",{class:r.date},[l(O)]),yt=nt?[Y.url?t(x.default,{attrs:{href:Y.url},class:r.productName},[l(Y.name)]):t("div",{class:r.productName},[l(Y.name)])]:[],wt=nt?[t("div",{class:r.productImageWrapper},[t(w.DsImage,{class:r.productImage,attrs:{"use-cdn":!0,size:80,src:Y.coverImage}})])]:[];header=t("div",{class:r.header},nt?K?[wt,t("div",{class:r.headerContent},[yt,vt])]:[yt,vt]:[t(Z.Z,{attrs:{name:$.name,"avatar-url":$.avatarUrl,"partner-caption":$.partnerCaption,"avatar-size":K?"l":"m","is-mobile":K}},[K?[vt]:[]]),K?[]:[vt]]);var bt=z?[t("div",{class:r.status},[t(_.Z,{attrs:{status:z,"rules-link":X,"entity-type":I.e.QUESTION,"is-mobile":K}})])]:[],mt={class:[].concat(d()(et),d()(K?[r.mobile]:[]),d()(nt?[r.withProduct]:[])),attrs:data.attrs,directives:data.directives};return t("div",c()([{},mt]),[bt,t("div",{class:[r.entity,{[K?v.highlightMobile:v.highlight]:j&&G}]},[it?wt:[],t("div",{class:r.main},[header,t("div",{class:r.body},[J?[t(x.default,{attrs:{href:J},class:r.content},[l(content)])]:[t("div",{class:r.content},[l(content)])],nt?[t("div",{class:r.authorName},[l($.name)])]:[],t("div",{class:r.footer},[ut,ft])])])]),t("div",{class:r.actions},[st.createAnswer,st.abuseReport,pt,gt,st.answers,ct])])}},r()}catch(t){r(t)}var L,O}))},"84b33":function(t,e,n){"use strict";n.a(t,(async function(t,r){try{var o=n("2c834"),c=n("25939"),l=n.n(c),d=n("67238"),f=n.n(d),h=n("f43c6"),v=n.n(h),y=n("2c5f0"),w=n.n(y),m=n("ac319"),A=n.n(m),x=n("903bc"),S=n("339a9"),Z=n("315d5"),_=n("7574d"),T=n("7d9d7"),I=n("359f0"),k=n("9eea1"),B=n("6a0ea"),C=n("c0bb1"),E=n("44250"),R=n("41125"),M=n("52132"),N=n("2d45b"),L=n("2a740"),O=n("74ff6"),$=n("1ccaa"),z=n("5aa16"),Q=n("7b7df"),P=n("595c3"),U=n("ff57e"),D=n("6f3bc"),W=t([S,Z,_,T,I,k,B,C,E,$]);[S,Z,_,T,I,k,B,C,E,$]=W.then?(await W)():W;var F=["sortings"];e.Z=R.default.extend({name:"listQuestions",provide:function(){var t=this.widgetState.constants;return t?{localization:t}:{}},components:{DsButton:S.DsButton,OzSelect:Z.OzSelect,OzTabs:_.OzTabs,Question:B.Z,Answer:C.Z,LoadMore:I.Z,CreateAnswer:E.Z,AbuseReport:k.Z,OzMessageStub:T.OzMessageStub},mixins:[Q.Z,O.Z,$.Z,D.AuthorizationServiceMixin,(0,L.composerStateMixin)({hasToolbarFlag:function(t){return(t.o3Params||{})[x.TOOLBAR_FLAG_NAME]}})],data:function(){return{loading:!1,currentAction:null,creating:!1,skipAsyncMapper:!1,ANSWER_ABUSE_REPORT:M.Cy,QUESTION_ABUSE_REPORT:M.$I,ENTITY_TYPES:U.e,mounted:!1,TOKEN_ACTIONS:M.Dq}},computed:{questions:function(){var t=this;return(this.widgetState.questionsIds||[]).map((function(e){return t.widgetState.questions[e]})).filter(Boolean)},answersByQuestionsId:function(){var t=this;return this.widgetState.questionsIds.reduce((function(e,n){var r=t.widgetState.questionAnswers&&t.widgetState.questionAnswers[n];return r&&(e[n]=r.map((function(e){return t.widgetState.answers[e]})).filter(Boolean)),e}),{})},notifications:function(){return this.widgetState.notifications||{}},abuseReportListeners:function(){var t=this;return{create:function(e){return t.onCreate(e)},cancel:this.cancelAction}},showLoadMore:function(){var t=this.widgetState.paging,e=t.page;return t.total>e*t.perPage}},watch:{isAsyncLoaded:function(t){t&&!this.widgetState.error&&this.checkQueryAnchor()}},mounted:function(){this.asyncType||this.checkQueryAnchor()},methods:{checkQueryAnchor:function(){var t=this,e=this.$composerRouter.getParams().query;e&&this.questions&&this.questions[0]&&this.$nextTick((function(){e[M.CQ]&&(0,P.u)({id:e[M.CQ],type:U.e.ANSWER}),e[M.SK]&&!e[M.CQ]&&((0,P.u)({id:e[M.SK],type:U.e.QUESTION}),t.doAction((0,o.__assign)({id:Number(e[M.SK])},t.questions[0].createAnswerAction))),t.mounted=!0}))},getBaseErrorNotification:function(){return{type:"error",text:(this.widgetState.constants||{}).questions.baseErrorText||M.Fu}},doAction:function(t){var e=t.direct,n=t.action,r=t.id;e?this.applyAction({action:n,id:r}):A()(t,"action")!==N.R3.action?this.currentAction=t:this.onCopyUrl(t.url)},confirmAction:function(t){var e=t.action,n=t.id;this.applyAction({action:e,id:n})},cancelAction:function(){this.currentAction=null},onCreate:function(t,e){return void 0===e&&(e=null),(0,o.__awaiter)(this,void 0,void 0,(function(){var n;return(0,o.__generator)(this,(function(r){switch(r.label){case 0:return this.creating?[2]:(this.creating=!0,[4,this.applyAction((0,o.__assign)((0,o.__assign)({},this.currentAction),{actionBody:t}))]);case 1:return n=r.sent(),this.sendTokenAnalytics(M.Dq.ADD_ANSWER+"-"+e,{id:n}),this.creating=!1,[2]}}))}))},applyAction:function(t){var e=t.action,n=t.id,r=t.actionBody,c=void 0===r?{}:r;return(0,o.__awaiter)(this,void 0,void 0,(function(){var t;return(0,o.__generator)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,this.fetchAsyncState({action:e,actionBody:c})];case 1:return r.sent(),(t=this.widgetState.notifications&&this.widgetState.notifications[n])&&"success"!==t.type?[3,3]:(this.currentAction=null,[2,t&&t.answerId]);case 2:return r.sent(),this.setWidgetStateValue("notifications["+n+"]",this.getBaseErrorNotification()),[3,3];case 3:return[2]}}))}))},showLogin:function(){return(0,o.__awaiter)(this,void 0,void 0,(function(){return(0,o.__generator)(this,(function(t){switch(t.label){case 0:return[4,this.showAuthForm()];case 1:return t.sent(),[2]}}))}))},onLoadMore:function(t){return(0,o.__awaiter)(this,void 0,void 0,(function(){var e;return(0,o.__generator)(this,(function(n){switch(n.label){case 0:return this.loading=!0,e=this.getQueryParamsString({page:t}),[4,this.fetchAsyncState({},this.widgetState.path+e)];case 1:return n.sent(),this.loading=!1,[2]}}))}))},changeFilter:function(t){this.$composerRouter.push(t)},changeSorting:function(t){return(0,o.__awaiter)(this,void 0,void 0,(function(){var e,n;return(0,o.__generator)(this,(function(r){switch(r.label){case 0:if(!(e=this.widgetState.sortings.find((function(e){return e.value===t})))||!e.url)return[3,5];n=new URL(this.$composerRouter.current,window.location.origin),new URL(e.url,n.origin).searchParams.forEach((function(t,e){n.searchParams.set(e,t)})),this.skipAsyncMapper=!0,r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this.fetchAsyncState({},e.url)];case 2:return r.sent(),[3,4];case 3:return r.sent(),[2];case 4:this.$composerRouter.push(n.toString(),{silent:!0}),r.label=5;case 5:return[2]}}))}))},asyncWidgetMapper:function(t){var e=this.widgetState,n=t;if(t.error){if(this.currentAction){var r=this.currentAction.id;this.setWidgetStateValue("notifications["+r+"]",this.getBaseErrorNotification())}return e}if(this.skipAsyncMapper)return this.skipAsyncMapper=!1,t;var c=Object.keys(n),d=Object.keys(e),h=f()(c,d),y=v()(c,d);return h.reduce((function(t,r){return F.includes(r)?(t[r]=n[r],t):(l()(e[r])?t[r]=(0,o.__assign)((0,o.__assign)({},e[r]),n[r]):Array.isArray(e[r])?t[r]=(0,o.__spread)(e[r],n[r]):t[r]=n[r],t)}),(0,o.__assign)((0,o.__assign)({},e),w()(t,y)))},detectViewportSettings:function(t,e){var n=this,r=e.id;return{once:!0,callback:function(){n.sendTokenAnalytics(t+"-"+r)}}},viewCreateBtn:function(t){this.sendTokenAnalytics(M.Dq.VIEW_BUTTON+"-"+t)},clickCreateBtn:function(t){this.sendTokenAnalytics(M.Dq.CLICK_BUTTON+"-"+t)},sendTokenAnalytics:z.A}}),r()}catch(t){r(t)}}))},"7b7df":function(t,e){"use strict";e.Z={methods:{getQueryParamsString:function(t){var e;void 0===t&&(t={}),this.$composerRouter&&"function"==typeof this.$composerRouter.getParams&&(e=this.$composerRouter.getParams().query);var n=e||{},r=Object.assign({},n,t),o=Object.keys(r).filter((function(t){return r[t]})).map((function(t){return t+"="+r[t]}));return o.length?"?"+o.join("&"):""}}}},52132:function(t,e,n){"use strict";n.d(e,{$I:function(){return c},CQ:function(){return d},Cy:function(){return o},Dq:function(){return r},Fu:function(){return l},SK:function(){return f}});var r,o="answerAbuseReport",c="questionAbuseReport",l="Произошла ошибка. Попробуйте еще раз.",d="aid",f="qid";!function(t){t.VIEW_QUESTION="view-question",t.VIEW_BUTTON="view-response-question",t.CLICK_BUTTON="click-response-question",t.ADD_ANSWER="add-answer",t.VIEW_ANSWER="view-answer"}(r||(r={}))},"55d43":function(t,e,n){"use strict";n.d(e,{c:function(){return d}});var r=n("2c834"),o=n("ac319"),c=n.n(o),l=n("2d45b"),d=function(t,e,n){void 0===t&&(t=[]),void 0===e&&(e={});var o=t&&t.length?(0,r.__spread)(t):[];return c()(e,"url")&&o.push((0,r.__assign)((0,r.__assign)({},l.R3),{url:e.url,text:n})),o}},"54d7f":function(t,e,n){var r=n("f25b4"),o=n("a52ba"),c=n("caf36"),l=n("e0518"),d=n("22387"),f=n("7ced4");t.exports=function(t,e,n,h){var v=-1,y=o,w=!0,m=t.length,A=[],x=e.length;if(!m)return A;n&&(e=l(e,d(n))),h?(y=c,w=!1):e.length>=200&&(y=f,w=!1,e=new r(e));t:for(;++v<m;){var S=t[v],Z=null==n?S:n(S);if(S=h||0!==S?S:0,w&&Z==Z){for(var _=x;_--;)if(e[_]===Z)continue t;A.push(S)}else y(e,Z,h)||A.push(S)}return A}},"46cff":function(t,e,n){var r=n("f25b4"),o=n("a52ba"),c=n("caf36"),l=n("e0518"),d=n("22387"),f=n("7ced4"),h=Math.min;t.exports=function(t,e,n){for(var v=n?c:o,y=t[0].length,w=t.length,m=w,A=Array(w),x=1/0,S=[];m--;){var Z=t[m];m&&e&&(Z=l(Z,d(e))),x=h(Z.length,x),A[m]=!n&&(e||y>=120&&Z.length>=120)?new r(m&&Z):void 0}Z=t[0];var _=-1,T=A[0];t:for(;++_<y&&S.length<x;){var I=Z[_],k=e?e(I):I;if(I=n||0!==I?I:0,!(T?f(T,k):v(S,k,n))){for(m=w;--m;){var B=A[m];if(!(B?f(B,k):v(t[m],k,n)))continue t}T&&T.push(k),S.push(I)}}return S}},"72a9f":function(t,e,n){var r=n("77b78"),o=n("4252c");t.exports=function(object,t){return r(object,t,(function(t,path){return o(object,path)}))}},"77b78":function(t,e,n){var r=n("f819b"),o=n("c74ad"),c=n("f8446");t.exports=function(object,t,e){for(var n=-1,l=t.length,d={};++n<l;){var path=t[n],f=r(object,path);e(f,path)&&o(d,c(path,object),f)}return d}},"68fed":function(t,e,n){var r=n("6278f");t.exports=function(t){return r(t)?t:[]}},f43c6:function(t,e,n){var r=n("54d7f"),o=n("21c50"),c=n("09efa"),l=n("6278f"),d=c((function(t,e){return l(t)?r(t,o(e,1,l,!0)):[]}));t.exports=d},67238:function(t,e,n){var r=n("e0518"),o=n("46cff"),c=n("09efa"),l=n("68fed"),d=c((function(t){var e=r(t,l);return e.length&&e[0]===t[0]?o(e):[]}));t.exports=d},"6278f":function(t,e,n){var r=n("c9327"),o=n("4b93c");t.exports=function(t){return o(t)&&r(t)}},"2c5f0":function(t,e,n){var r=n("72a9f"),o=n("be397")((function(object,t){return null==object?{}:r(object,t)}));t.exports=o},"3ea25":function(t,e,n){"use strict";n.a(t,(async function(t,r){try{var o=n("35f1c"),c=n("e10d3"),l=n("243cb"),d=n.n(l),f=t([o]);function h(t){this.$style=c.Z.locals||c.Z}o=(f.then?(await f)():f)[0];var component=d()(o.Z,undefined,undefined,!1,h,null,null);e.Z=component.exports,r()}catch(v){r(v)}}))},"359f0":function(t,e,n){"use strict";n.a(t,(async function(t,r){try{var o=n("d250e"),c=n("0c1f3"),l=n("243cb"),d=n.n(l),f=t([o]);function h(t){this.$style=c.Z.locals||c.Z}o=(f.then?(await f)():f)[0];var component=d()(o.Z,undefined,undefined,!1,h,null,null);e.Z=component.exports,r()}catch(v){r(v)}}))},c0bb1:function(t,e,n){"use strict";n.a(t,(async function(t,r){try{var o=n("2aaee"),c=n("fa332"),l=n("5b557"),d=n("243cb"),f=n.n(d),h=t([o]);function v(t){this.highlightStyle=c.Z.locals||c.Z,this.$style=l.Z.locals||l.Z}o=(h.then?(await h)():h)[0];var component=f()(o.Z,undefined,undefined,!1,v,null,null);e.Z=component.exports,r()}catch(y){r(y)}}))},44250:function(t,e,n){"use strict";n.a(t,(async function(t,r){try{var o=n("cce32"),c=n("4cc8d"),l=n("243cb"),d=n.n(l),f=t([o]);function h(t){this.$style=c.Z.locals||c.Z}o=(f.then?(await f)():f)[0];var component=d()(o.Z,undefined,undefined,!1,h,null,null);e.Z=component.exports,r()}catch(v){r(v)}}))},"6a0ea":function(t,e,n){"use strict";n.a(t,(async function(t,r){try{var o=n("6ee48"),c=n("fa332"),l=n("caeda"),d=n("243cb"),f=n.n(d),h=t([o]);function v(t){this.highlightStyle=c.Z.locals||c.Z,this.$style=l.Z.locals||l.Z}o=(h.then?(await h)():h)[0];var component=f()(o.Z,undefined,undefined,!1,v,null,null);e.Z=component.exports,r()}catch(y){r(y)}}))},"7652e":function(t,e,n){"use strict";n.a(t,(async function(t,r){try{n.r(e);var o=n("de208"),c=n("574cd"),l=n("3e1f2"),d=n("243cb"),f=n.n(d),h=t([c]);function v(t){this.$style=l.Z.locals||l.Z}c=(h.then?(await h)():h)[0];var component=f()(c.Z,o.s,o.x,!1,v,null,null);e.default=component.exports,r()}catch(y){r(y)}}))},"75b32":function(t,e,n){"use strict";n.d(e,{Z:function(){return r}});var r={avatar:"y4o",hasImage:"oy5",xl:"o5y",l:"yo5",m:"y5o",s:"oy6",xs:"o6y",img:"yo6"}},d0278:function(t,e,n){"use strict";n.d(e,{Z:function(){return r}});var r={text:"y6o",badge:"oy7",default:"o7y",success:"yo7",icon:"y7o"}},"2de80":function(t,e,n){"use strict";n.d(e,{Z:function(){return r}});var r={header:"p4r",field:"rp4",buttonClose:"r4p"}},"8eec4":function(t,e,n){"use strict";n.d(e,{Z:function(){return r}});var r={button:"pr5",active:"p5r",buttonAction:"rp5",item:"r5p"}},"21c68":function(t,e,n){"use strict";n.d(e,{Z:function(){return r}});var r={author:"pr6",point:"p6r",avatar:"rp6",content:"r6p",name:"pr7",partner:"p7r",confirmationIcon:"rp7",partnerTitle:"r7p",mobile:"pr8"}},66309:function(t,e,n){"use strict";n.d(e,{Z:function(){return r}});var r={simple:"p8r",text:"rp8"}},e10d3:function(t,e,n){"use strict";n.d(e,{Z:function(){return r}});var r={success:"r8p",error:"pr9"}},"4d87e":function(t,e,n){"use strict";n.d(e,{Z:function(){return r}});var r={status:"p9r",icon:"rp9"}},eceaa:function(t,e,n){"use strict";n.d(e,{Z:function(){return r}});var r={text:"r9p"}},"38d19":function(t,e,n){"use strict";n.d(e,{Z:function(){return r}});var r={content:"ps",header:"sp",text:"ps0",link:"p0s"}},fa332:function(t,e,n){"use strict";n.d(e,{Z:function(){return r}});var r={highlight:"sp0",highlightMobile:"s0p"}},81855:function(t,e,n){"use strict";n.d(e,{Z:function(){return r}});var r={title:"ps1",buttons:"p1s",button:"sp1"}},"0c1f3":function(t,e,n){"use strict";n.d(e,{Z:function(){return r}});var r={loadMore:"sp3"}},"5b557":function(t,e,n){"use strict";n.d(e,{Z:function(){return r}});var r={best:"x2q",entity:"qx3",header:"q3x",date:"xq3",content:"x3q",bestBadge:"qx4",trustFactor:"q4x",body:"xq4",actions:"x4q",footer:"qx5",footerLeft:"q5x",status:"xq5",notification:"x5q",confirmation:"qx6",bestButton:"q6x",mobile:"xq6",theBestAnswerButton:"x6q"}},"4cc8d":function(t,e,n){"use strict";n.d(e,{Z:function(){return r}});var r={user:"qx7",body:"q7x",textarea:"xq7",action:"x7q",buttons:"qx8",button:"q8x",mobile:"xq8"}},caeda:function(t,e,n){"use strict";n.d(e,{Z:function(){return r}});var r={header:"x8q",date:"qx9",content:"q9x",createAnswer:"xq9",productName:"x9q",productImageWrapper:"qy",entity:"yq",main:"qy0",authorName:"q0y",body:"yq0",actions:"y0q",footer:"qy1",footerLeft:"q1y",notification:"yq1",confirmation:"y1q",getAnswers:"qy2",mobile:"q2y",withProduct:"yq2",status:"y2q"}},"3e1f2":function(t,e,n){"use strict";n.d(e,{Z:function(){return r}});var r={question:"qy3",select:"q3y",controls:"yq3",answer:"y3q",createAnswer:"qy4",abuseReport:"q4y",paging:"yq4",typeFilter:"y4q",emptyState:"qy5",mobile:"q5y"}},"35f1c":function(t,e,n){"use strict";n.a(t,(async function(t,r){try{var o=n("24f4e"),c=t([o]);o=(c.then?(await c)():c)[0],e.Z=o.Z,r()}catch(t){r(t)}}))},d250e:function(t,e,n){"use strict";n.a(t,(async function(t,r){try{var o=n("e73b5"),c=t([o]);o=(c.then?(await c)():c)[0],e.Z=o.Z,r()}catch(t){r(t)}}))},"2aaee":function(t,e,n){"use strict";n.a(t,(async function(t,r){try{var o=n("e5c88"),c=t([o]);o=(c.then?(await c)():c)[0],e.Z=o.Z,r()}catch(t){r(t)}}))},cce32:function(t,e,n){"use strict";n.a(t,(async function(t,r){try{var o=n("5a426"),c=t([o]);o=(c.then?(await c)():c)[0],e.Z=o.Z,r()}catch(t){r(t)}}))},"6ee48":function(t,e,n){"use strict";n.a(t,(async function(t,r){try{var o=n("c05a6"),c=t([o]);o=(c.then?(await c)():c)[0],e.Z=o.Z,r()}catch(t){r(t)}}))},"574cd":function(t,e,n){"use strict";n.a(t,(async function(t,r){try{var o=n("84b33"),c=t([o]);o=(c.then?(await c)():c)[0],e.Z=o.Z,r()}catch(t){r(t)}}))},de208:function(t,e,n){"use strict";n.d(e,{s:function(){return r},x:function(){return o}});var r=function(){var t,e=this,n=e.$createElement,r=e._self._c||n;return r("div",{directives:[{name:"qa",rawName:"v-qa:id",value:"listQuestions",expression:"'listQuestions'",arg:"id"}],class:(t={},t[e.$style.mobile]=e.isMobile,t)},[e.widgetState.typeFilter?r("OzTabs",{class:e.$style.typeFilter,attrs:{theme:"tag",tabs:e.widgetState.typeFilter.items,value:e.widgetState.typeFilter.activeValue},on:{change:e.changeFilter}}):e._e(),e._v(" "),!e.questions.length&&e.widgetState.emptyStateInfo?r("OzMessageStub",e._b({class:e.$style.emptyState},"OzMessageStub",e.widgetState.emptyStateInfo,!1)):e._e(),e._v(" "),e.questions.length&&e.widgetState.sortings&&e.widgetState.sortings.length?r("div",{class:e.$style.controls},[r("OzSelect",{directives:[{name:"qa",rawName:"v-qa:id",value:"listQuestionsFilter",expression:"'listQuestionsFilter'",arg:"id"}],class:e.$style.select,attrs:{placeholder:"Сортировать по...","label-key":"name",value:e.widgetState.activeSortValue,options:e.widgetState.sortings,filterable:!1},on:{change:e.changeSorting}})],1):e._e(),e._v(" "),e._l(e.questions,(function(t){return r("Question",e._b({directives:[{name:"detect-viewport",rawName:"v-detect-viewport",value:e.detectViewportSettings(e.TOKEN_ACTIONS.VIEW_QUESTION,t),expression:"detectViewportSettings(TOKEN_ACTIONS.VIEW_QUESTION, question)"}],key:t.id,class:e.$style.question,attrs:{"data-author-id":e.hasToolbarFlag&&t.author?t.author.id:null,product:e.widgetState.products&&e.widgetState.products[t.itemId],"is-mobile":e.isMobile,"data-question-id":t.id,notification:e.notifications[t.id],"current-action":e.currentAction,"is-user-logged-in":!!e.widgetState.user,answers:e.answersByQuestionsId[t.id]||[],mounted:e.mounted,"rules-link":e.widgetState.rulesLink},on:{showLogin:e.showLogin,doAction:e.doAction,confirmAction:e.confirmAction,cancelAction:e.cancelAction,viewCreateBtn:e.viewCreateBtn,clickCreateBtn:e.clickCreateBtn},scopedSlots:e._u([{key:"createAnswer",fn:function(){return[e.currentAction&&t.createAnswerAction&&e.currentAction.id===t.id&&e.currentAction.type===t.createAnswerAction.type?r("CreateAnswer",{class:e.$style.createAnswer,attrs:{user:e.widgetState.user,creating:e.creating,settings:e.currentAction.settings,"is-mobile":e.isMobile},on:{create:function(n){return e.onCreate(n,t.id)},cancel:e.cancelAction}}):e._e()]},proxy:!0},{key:"abuseReport",fn:function(){return[e.currentAction&&e.currentAction.id===t.id&&e.currentAction.type===e.QUESTION_ABUSE_REPORT?r("AbuseReport",e._g({class:e.$style.abuseReport,attrs:{"entity-type":e.ENTITY_TYPES.QUESTION,creating:e.creating,"abuse-report":e.widgetState.abuseReport}},e.abuseReportListeners)):e._e()]},proxy:!0},{key:"answers",fn:function(){return e._l(e.answersByQuestionsId[t.id],(function(t){return r("Answer",e._b({directives:[{name:"detect-viewport",rawName:"v-detect-viewport",value:e.detectViewportSettings(e.TOKEN_ACTIONS.VIEW_ANSWER,t),expression:"detectViewportSettings(TOKEN_ACTIONS.VIEW_ANSWER, answer)"}],key:t.id,class:e.$style.answer,attrs:{id:t.id,"data-author-id":e.hasToolbarFlag&&t.author?t.author.id:null,"is-mobile":e.isMobile,"data-answer-id":t.id,notification:e.notifications[t.id],"current-action":e.currentAction,"is-user-logged-in":!!e.widgetState.user,"rules-link":e.widgetState.rulesLink,mounted:e.mounted},on:{showLogin:e.showLogin,doAction:e.doAction,confirmAction:e.confirmAction,cancelAction:e.cancelAction},scopedSlots:e._u([{key:"abuseReport",fn:function(){return[e.currentAction&&e.currentAction.id===t.id&&e.currentAction.type===e.ANSWER_ABUSE_REPORT?r("AbuseReport",e._g({class:e.$style.abuseReport,attrs:{"entity-type":e.ENTITY_TYPES.ANSWER,creating:e.creating,"abuse-report":e.widgetState.abuseReport}},e.abuseReportListeners)):e._e()]},proxy:!0}],null,!0)},"Answer",t,!1))}))},proxy:!0}],null,!0)},"Question",t,!1))})),e._v(" "),e.widgetState.paging&&e.showLoadMore?r("LoadMore",{class:e.$style.paging,attrs:{paging:e.widgetState.paging,loading:e.loading},on:{loadMore:e.onLoadMore}}):e._e()],2)},o=[]}}]);